/*! ableplayer V4.7.0 with DOMPurify included */
/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:i,getPrototypeOf:a,getOwnPropertyDescriptor:s}=Object;let{freeze:n,seal:r,create:o}=Object,{apply:l,construct:h}="undefined"!=typeof Reflect&&Reflect;n||(n=function freeze(e){return e}),r||(r=function seal(e){return e}),l||(l=function apply(e,t){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];return e.apply(t,a)}),h||(h=function construct(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return new e(...i)});const p=unapply(Array.prototype.forEach),c=unapply(Array.prototype.lastIndexOf),u=unapply(Array.prototype.pop),d=unapply(Array.prototype.push),f=unapply(Array.prototype.splice),g=unapply(String.prototype.toLowerCase),m=unapply(String.prototype.toString),v=unapply(String.prototype.match),y=unapply(String.prototype.replace),b=unapply(String.prototype.indexOf),P=unapply(String.prototype.trim),T=unapply(Object.prototype.hasOwnProperty),k=unapply(RegExp.prototype.test),w=function unconstruct(e){return function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return h(e,i)}}(TypeError);function unapply(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return l(e,t,a)}}function addToSet(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;t&&t(e,null);let n=a.length;for(;n--;){let t=a[n];if("string"==typeof t){const e=s(t);e!==t&&(i(a)||(a[n]=e),t=e)}e[t]=!0}return e}function cleanArray(e){for(let t=0;t<e.length;t++){T(e,t)||(e[t]=null)}return e}function clone(t){const i=o(null);for(const[a,s]of e(t)){T(t,a)&&(Array.isArray(s)?i[a]=cleanArray(s):s&&"object"==typeof s&&s.constructor===Object?i[a]=clone(s):i[a]=s)}return i}function lookupGetter(e,t){for(;null!==e;){const i=s(e,t);if(i){if(i.get)return unapply(i.get);if("function"==typeof i.value)return unapply(i.value)}e=a(e)}return function fallbackValue(){return null}}const C=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),S=n(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=n(["#text"]),I=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M=n(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),L=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),E=r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),O=r(/<%[\w\W]*|[\w\W]*%>/gm),F=r(/\$\{[\w\W]*/gm),V=r(/^data-[\-\w.\u00B7-\uFFFF]+$/),R=r(/^aria-[\-\w]+$/),z=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=r(/^(?:\w+script|data):/i),W=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_=r(/^html$/i),j=r(/^[a-z][.\w]*(-[.\w]+)+$/i);var q=Object.freeze({__proto__:null,ARIA_ATTR:R,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:j,DATA_ATTR:V,DOCTYPE_NAME:_,ERB_EXPR:O,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:H,MUSTACHE_EXPR:E,TMPLIT_EXPR:F});const K=1,Y=3,U=7,G=8,X=9,Q=function getGlobal(){return"undefined"==typeof window?null:window};var J=function createDOMPurify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();const DOMPurify=e=>createDOMPurify(e);if(DOMPurify.version="3.3.1",DOMPurify.removed=[],!t||!t.document||t.document.nodeType!==X||!t.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document:i}=t;const a=i,s=a.currentScript,{DocumentFragment:r,HTMLTemplateElement:l,Node:h,Element:E,NodeFilter:O,NamedNodeMap:F=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:V,DOMParser:R,trustedTypes:H}=t,W=E.prototype,j=lookupGetter(W,"cloneNode"),J=lookupGetter(W,"remove"),Z=lookupGetter(W,"nextSibling"),ee=lookupGetter(W,"childNodes"),te=lookupGetter(W,"parentNode");if("function"==typeof l){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ie,ae="";const{implementation:se,createNodeIterator:ne,createDocumentFragment:re,getElementsByTagName:oe}=i,{importNode:le}=a;let he={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};DOMPurify.isSupported="function"==typeof e&&"function"==typeof te&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:pe,ERB_EXPR:ce,TMPLIT_EXPR:ue,DATA_ATTR:de,ARIA_ATTR:fe,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:ve}=q;let{IS_ALLOWED_URI:ye}=q,be=null;const Pe=addToSet({},[...C,...A,...D,...x,...N]);let Te=null;const ke=addToSet({},[...I,...M,...B,...L]);let we=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Ae=null;const De=Object.seal(o(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Se=!0,xe=!0,$e=!1,Ne=!0,Ie=!1,Me=!0,Be=!1,Le=!1,Ee=!1,Oe=!1,Fe=!1,Ve=!1,Re=!0,ze=!1,He=!0,We=!1,_e={},je=null;const qe=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const Ye=addToSet({},["audio","video","img","source","image","track"]);let Ue=null;const Ge=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let Ze=Je,et=!1,tt=null;const it=addToSet({},[Xe,Qe,Je],m);let at=addToSet({},["mi","mo","mn","ms","mtext"]),st=addToSet({},["annotation-xml"]);const nt=addToSet({},["title","style","font","a","script"]);let rt=null;const ot=["application/xhtml+xml","text/html"];let lt=null,ht=null;const pt=i.createElement("form"),ct=function isRegexOrFunction(e){return e instanceof RegExp||e instanceof Function},ut=function _parseConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ht||ht!==e){if(e&&"object"==typeof e||(e={}),e=clone(e),rt=-1===ot.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===rt?m:g,be=T(e,"ALLOWED_TAGS")?addToSet({},e.ALLOWED_TAGS,lt):Pe,Te=T(e,"ALLOWED_ATTR")?addToSet({},e.ALLOWED_ATTR,lt):ke,tt=T(e,"ALLOWED_NAMESPACES")?addToSet({},e.ALLOWED_NAMESPACES,m):it,Ue=T(e,"ADD_URI_SAFE_ATTR")?addToSet(clone(Ge),e.ADD_URI_SAFE_ATTR,lt):Ge,Ke=T(e,"ADD_DATA_URI_TAGS")?addToSet(clone(Ye),e.ADD_DATA_URI_TAGS,lt):Ye,je=T(e,"FORBID_CONTENTS")?addToSet({},e.FORBID_CONTENTS,lt):qe,Ce=T(e,"FORBID_TAGS")?addToSet({},e.FORBID_TAGS,lt):clone({}),Ae=T(e,"FORBID_ATTR")?addToSet({},e.FORBID_ATTR,lt):clone({}),_e=!!T(e,"USE_PROFILES")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,xe=!1!==e.ALLOW_DATA_ATTR,$e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Me=!1!==e.SAFE_FOR_XML,Be=e.WHOLE_DOCUMENT||!1,Oe=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Ve=e.RETURN_TRUSTED_TYPE||!1,Ee=e.FORCE_BODY||!1,Re=!1!==e.SANITIZE_DOM,ze=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,We=e.IN_PLACE||!1,ye=e.ALLOWED_URI_REGEXP||z,Ze=e.NAMESPACE||Je,at=e.MATHML_TEXT_INTEGRATION_POINTS||at,st=e.HTML_INTEGRATION_POINTS||st,we=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(we.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(we.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(we.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(xe=!1),Fe&&(Oe=!0),_e&&(be=addToSet({},N),Te=[],!0===_e.html&&(addToSet(be,C),addToSet(Te,I)),!0===_e.svg&&(addToSet(be,A),addToSet(Te,M),addToSet(Te,L)),!0===_e.svgFilters&&(addToSet(be,D),addToSet(Te,M),addToSet(Te,L)),!0===_e.mathMl&&(addToSet(be,x),addToSet(Te,B),addToSet(Te,L))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?De.tagCheck=e.ADD_TAGS:(be===Pe&&(be=clone(be)),addToSet(be,e.ADD_TAGS,lt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?De.attributeCheck=e.ADD_ATTR:(Te===ke&&(Te=clone(Te)),addToSet(Te,e.ADD_ATTR,lt))),e.ADD_URI_SAFE_ATTR&&addToSet(Ue,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(je===qe&&(je=clone(je)),addToSet(je,e.FORBID_CONTENTS,lt)),e.ADD_FORBID_CONTENTS&&(je===qe&&(je=clone(je)),addToSet(je,e.ADD_FORBID_CONTENTS,lt)),He&&(be["#text"]=!0),Be&&addToSet(be,["html","head","body"]),be.table&&(addToSet(be,["tbody"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=e.TRUSTED_TYPES_POLICY,ae=ie.createHTML("")}else void 0===ie&&(ie=function _createTrustedTypesPolicy(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let i=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(i=t.getAttribute(a));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return null}}(H,s)),null!==ie&&"string"==typeof ae&&(ae=ie.createHTML(""));n&&n(e),ht=e}},dt=addToSet({},[...A,...D,...S]),ft=addToSet({},[...x,...$]),gt=function _forceRemove(e){d(DOMPurify.removed,{element:e});try{te(e).removeChild(e)}catch(t){J(e)}},mt=function _removeAttribute(e,t){try{d(DOMPurify.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){d(DOMPurify.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Oe||Fe)try{gt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function _initDocument(e){let t=null,a=null;if(Ee)e="<remove></remove>"+e;else{const t=v(e,/^[\r\n\t ]+/);a=t&&t[0]}"application/xhtml+xml"===rt&&Ze===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=ie?ie.createHTML(e):e;if(Ze===Je)try{t=(new R).parseFromString(s,rt)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=et?ae:s}catch(e){}}const n=t.body||t.documentElement;return e&&a&&n.insertBefore(i.createTextNode(a),n.childNodes[0]||null),Ze===Je?oe.call(t,Be?"html":"body")[0]:Be?t.documentElement:n},yt=function _createNodeIterator(e){return ne.call(e.ownerDocument||e,e,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT|O.SHOW_PROCESSING_INSTRUCTION|O.SHOW_CDATA_SECTION,null)},bt=function _isClobbered(e){return e instanceof V&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof F)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Pt=function _isNode(e){return"function"==typeof h&&e instanceof h};function _executeHooks(e,t,i){p(e,e=>{e.call(DOMPurify,t,i,ht)})}const Tt=function _sanitizeElements(e){let t=null;if(_executeHooks(he.beforeSanitizeElements,e,null),bt(e))return gt(e),!0;const i=lt(e.nodeName);if(_executeHooks(he.uponSanitizeElement,e,{tagName:i,allowedTags:be}),Me&&e.hasChildNodes()&&!Pt(e.firstElementChild)&&k(/<[/\w!]/g,e.innerHTML)&&k(/<[/\w!]/g,e.textContent))return gt(e),!0;if(e.nodeType===U)return gt(e),!0;if(Me&&e.nodeType===G&&k(/<[/\w]/g,e.data))return gt(e),!0;if(!(De.tagCheck instanceof Function&&De.tagCheck(i))&&(!be[i]||Ce[i])){if(!Ce[i]&&wt(i)){if(we.tagNameCheck instanceof RegExp&&k(we.tagNameCheck,i))return!1;if(we.tagNameCheck instanceof Function&&we.tagNameCheck(i))return!1}if(He&&!je[i]){const t=te(e)||e.parentNode,i=ee(e)||e.childNodes;if(i&&t){for(let a=i.length-1;a>=0;--a){const s=j(i[a],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,Z(e))}}}return gt(e),!0}return e instanceof E&&!function _checkValidNamespace(e){let t=te(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:"template"});const i=g(e.tagName),a=g(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===Je?"svg"===i:t.namespaceURI===Xe?"svg"===i&&("annotation-xml"===a||at[a]):Boolean(dt[i]):e.namespaceURI===Xe?t.namespaceURI===Je?"math"===i:t.namespaceURI===Qe?"math"===i&&st[a]:Boolean(ft[i]):e.namespaceURI===Je?!(t.namespaceURI===Qe&&!st[a])&&!(t.namespaceURI===Xe&&!at[a])&&!ft[i]&&(nt[i]||!dt[i]):!("application/xhtml+xml"!==rt||!tt[e.namespaceURI]))}(e)?(gt(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!k(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===Y&&(t=e.textContent,p([pe,ce,ue],e=>{t=y(t,e," ")}),e.textContent!==t&&(d(DOMPurify.removed,{element:e.cloneNode()}),e.textContent=t)),_executeHooks(he.afterSanitizeElements,e,null),!1):(gt(e),!0)},kt=function _isValidAttribute(e,t,a){if(Re&&("id"===t||"name"===t)&&(a in i||a in pt))return!1;if(xe&&!Ae[t]&&k(de,t));else if(Se&&k(fe,t));else if(De.attributeCheck instanceof Function&&De.attributeCheck(t,e));else if(!Te[t]||Ae[t]){if(!(wt(e)&&(we.tagNameCheck instanceof RegExp&&k(we.tagNameCheck,e)||we.tagNameCheck instanceof Function&&we.tagNameCheck(e))&&(we.attributeNameCheck instanceof RegExp&&k(we.attributeNameCheck,t)||we.attributeNameCheck instanceof Function&&we.attributeNameCheck(t,e))||"is"===t&&we.allowCustomizedBuiltInElements&&(we.tagNameCheck instanceof RegExp&&k(we.tagNameCheck,a)||we.tagNameCheck instanceof Function&&we.tagNameCheck(a))))return!1}else if(Ue[t]);else if(k(ye,y(a,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(a,"data:")||!Ke[e]){if($e&&!k(ge,y(a,me,"")));else if(a)return!1}else;return!0},wt=function _isBasicCustomElement(e){return"annotation-xml"!==e&&v(e,ve)},Ct=function _sanitizeAttributes(e){_executeHooks(he.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||bt(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te,forceKeepAttr:void 0};let a=t.length;for(;a--;){const s=t[a],{name:n,namespaceURI:r,value:o}=s,l=lt(n),h=o;let c="value"===n?h:P(h);if(i.attrName=l,i.attrValue=c,i.keepAttr=!0,i.forceKeepAttr=void 0,_executeHooks(he.uponSanitizeAttribute,e,i),c=i.attrValue,!ze||"id"!==l&&"name"!==l||(mt(n,e),c="user-content-"+c),Me&&k(/((--!?|])>)|<\/(style|title|textarea)/i,c)){mt(n,e);continue}if("attributename"===l&&v(c,"href")){mt(n,e);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr){mt(n,e);continue}if(!Ne&&k(/\/>/i,c)){mt(n,e);continue}Ie&&p([pe,ce,ue],e=>{c=y(c,e," ")});const d=lt(e.nodeName);if(kt(d,l,c)){if(ie&&"object"==typeof H&&"function"==typeof H.getAttributeType)if(r);else switch(H.getAttributeType(d,l)){case"TrustedHTML":c=ie.createHTML(c);break;case"TrustedScriptURL":c=ie.createScriptURL(c)}if(c!==h)try{r?e.setAttributeNS(r,n,c):e.setAttribute(n,c),bt(e)?gt(e):u(DOMPurify.removed)}catch(t){mt(n,e)}}else mt(n,e)}_executeHooks(he.afterSanitizeAttributes,e,null)},At=function _sanitizeShadowDOM(e){let t=null;const i=yt(e);for(_executeHooks(he.beforeSanitizeShadowDOM,e,null);t=i.nextNode();)_executeHooks(he.uponSanitizeShadowNode,t,null),Tt(t),Ct(t),t.content instanceof r&&_sanitizeShadowDOM(t.content);_executeHooks(he.afterSanitizeShadowDOM,e,null)};return DOMPurify.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,s=null,n=null,o=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Pt(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return e;if(Le||ut(t),DOMPurify.removed=[],"string"==typeof e&&(We=!1),We){if(e.nodeName){const t=lt(e.nodeName);if(!be[t]||Ce[t])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof h)i=vt("\x3c!----\x3e"),s=i.ownerDocument.importNode(e,!0),s.nodeType===K&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!Oe&&!Ie&&!Be&&-1===e.indexOf("<"))return ie&&Ve?ie.createHTML(e):e;if(i=vt(e),!i)return Oe?null:Ve?ae:""}i&&Ee&&gt(i.firstChild);const l=yt(We?e:i);for(;n=l.nextNode();)Tt(n),Ct(n),n.content instanceof r&&At(n.content);if(We)return e;if(Oe){if(Fe)for(o=re.call(i.ownerDocument);i.firstChild;)o.appendChild(i.firstChild);else o=i;return(Te.shadowroot||Te.shadowrootmode)&&(o=le.call(a,o,!0)),o}let c=Be?i.outerHTML:i.innerHTML;return Be&&be["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&k(_,i.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+c),Ie&&p([pe,ce,ue],e=>{c=y(c,e," ")}),ie&&Ve?ie.createHTML(c):c},DOMPurify.setConfig=function(){ut(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Le=!0},DOMPurify.clearConfig=function(){ht=null,Le=!1},DOMPurify.isValidAttribute=function(e,t,i){ht||ut({});const a=lt(e),s=lt(t);return kt(a,s,i)},DOMPurify.addHook=function(e,t){"function"==typeof t&&d(he[e],t)},DOMPurify.removeHook=function(e,t){if(void 0!==t){const i=c(he[e],t);return-1===i?void 0:f(he[e],i,1)[0]}return u(he[e])},DOMPurify.removeHooks=function(e){he[e]=[]},DOMPurify.removeAllHooks=function(){he={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},DOMPurify}();return J});var AblePlayerInstances=[];!function(e){e(function(){e("video, audio").each(function(t,i){void 0!==e(i).data("able-player")&&AblePlayerInstances.push(new AblePlayer(e(this),e(i)))})}),window.onYouTubeIframeAPIReady=function(){AblePlayer.youTubeIframeAPIReady=!0,e("body").trigger("youTubeIframeAPIReady",[])},e(window).on("keydown",function(e){1===AblePlayer.nextIndex&&AblePlayer.lastCreated.onPlayerKeyPress(e)}),window.AblePlayer=function(t){var i=this;if(AblePlayer.lastCreated=this,this.media=t,0!==e(t).length){void 0!==e(t).attr("autoplay")?(this.autoplay=!0,this.okToPlay=!0):(this.autoplay=!1,this.okToPlay=!1),this.loop=void 0!==e(t).attr("loop"),this.playsInline=void 0!==e(t).attr("playsinline")?"1":"0",this.hasPoster=!(!e(t).attr("poster")&&!e(t).data("poster")),this.audioPoster=e(t).data("poster"),this.audioPosterAlt=e(t).data("poster-alt"),this.width=e(t).attr("width")??0,this.height=e(t).attr("height")??0;var a=e(t).data("start-time"),s=!("number"!=typeof a&&("string"!=typeof a||""===value.trim()||isNaN(value)||!isFinite(Number(value))));if(this.startTime=void 0!==a&&s?a:0,this.debug=void 0!==e(t).data("debug")&&!1!==e(t).data("debug"),void 0!==e(t).data("root-path")?this.rootPath=e(t).data("root-path").replace(/\/?$/,"/"):this.rootPath=this.getRootPath(),this.defaultVolume=7,void 0!==e(t).data("volume")&&""!==e(t).data("volume")){var n=e(t).data("volume");n>=0&&n<=10&&(this.defaultVolume=n)}if(this.volume=this.defaultVolume,void 0!==e(t).data("use-chapters-button")&&!1===e(t).data("use-chapters-button")?this.useChaptersButton=!1:this.useChaptersButton=!0,void 0!==e(t).data("descriptions-audible")&&!1===e(t).data("descriptions-audible")||void 0!==e(t).data("description-audible")&&!1===e(t).data("description-audible")?this.readDescriptionsAloud=!1:this.readDescriptionsAloud=!0,this.descVoices=[],this.descReader="screenreader"==e(t).data("desc-reader")?"screenreader":"browser",this.defaultStateCaptions="off"==e(t).data("state-captions")?0:1,this.defaultStateDescriptions="on"==e(t).data("state-descriptions")?1:0,this.defaultDescPause="off"==e(t).data("desc-pause-default")?0:1,void 0!==e(t).data("heading-level")&&""!==e(t).data("heading-level")){var r=e(t).data("heading-level");/^[0-6]*$/.test(r)&&(this.playerHeadingLevel=r)}var o=e(t).data("transcript-div");void 0!==o&&""!==o&&null!==document.getElementById(o)?this.transcriptDivLocation=o:this.transcriptDivLocation=null;var l=e(t).data("include-transcript");this.hideTranscriptButton=void 0!==l&&!1===l,this.transcriptType=null,void 0!==e(t).data("transcript-src")?(this.transcriptSrc=e(t).data("transcript-src"),this.transcriptSrcHasRequiredParts()&&(this.transcriptType="manual")):e(t).find('track[kind="captions"],track[kind="subtitles"],track:not([kind])').length>0&&(this.transcriptType=this.transcriptDivLocation?"external":"popup"),this.lyricsMode=void 0!==e(t).data("lyrics-mode")&&!1!==e(t).data("lyrics-mode"),void 0!==e(t).data("transcript-title")&&""!==e(t).data("transcript-title")&&(this.transcriptTitle=e(t).data("transcript-title"));var h=e(t).data("sign-div");void 0!==h&&""!==h&&null!==document.getElementById(h)?this.$signDivLocation=e("#"+h):this.$signDivLocation=null,this.defaultCaptionsPosition="overlay"===e(t).data("captions-position")?"overlay":"below";var p=e(t).data("chapters-div");void 0!==p&&""!==p&&(this.chaptersDivLocation=p),void 0!==e(t).data("chapters-title")&&(this.chaptersTitle=e(t).data("chapters-title"));var c=e(t).data("chapters-default");this.defaultChapter=void 0!==c&&""!==c?c:null,this.speedIcons="arrows"===e(t).data("speed-icons")?"arrows":"animals";var u=e(t).data("seekbar-scope");this.seekbarScope="chapter"===u||"chapters"===u?"chapter":"video";var d=e(t).data("youtube-id");if(void 0!==d&&""!==d&&(this.youTubeId=this.getYouTubeId(d),!this.hasPoster)){let i=this.getYouTubePosterUrl(this.youTubeId,"640");e(t).attr("poster",i)}var f=e(t).data("youtube-desc-id");void 0!==f&&""!==f&&(this.youTubeDescId=this.getYouTubeId(f));var g=e(t).data("youtube-sign-src");void 0!==g&&""!==g&&(this.youTubeSignId=this.getYouTubeId(g));var m=e(t).data("youtube-nocookie");this.youTubeNoCookie=!(void 0===m||!m);var v=e(t).data("vimeo-id");if(void 0!==v&&""!==v&&(this.vimeoId=this.getVimeoId(v),!this.hasPoster)){let a=i.getVimeoPosterUrl(this.vimeoId,"1200");e(t).attr("poster",a)}var y=e(t).data("vimeo-desc-id");if(void 0!==y&&""!==y&&(this.vimeoDescId=this.getVimeoId(y)),this.skin="legacy"==e(t).data("skin")?"legacy":"2020",void 0!==e(t).data("width")?this.playerWidth=parseInt(e(t).data("width")):e(t)[0].getAttribute("width")?this.playerWidth=parseInt(e(t)[0].getAttribute("width")):this.playerWidth=null,this.iconType="font",this.forceIconType=!1,void 0!==e(t).data("icon-type")&&""!==e(t).data("icon-type")){var b=e(t).data("icon-type");"font"!==b&&"image"!==b&&"svg"!==b||(this.iconType=b,this.forceIconType=!0)}var P=e(t).data("allow-fullscreen");if(this.allowFullscreen=void 0===P||!1!==P,this.clickedFullscreenButton=!1,this.restoringAfterFullscreen=!1,this.defaultSeekInterval=10,this.useFixedSeekInterval=!1,void 0!==e(t).data("seek-interval")&&""!==e(t).data("seek-interval")){var T=e(t).data("seek-interval");/^[1-9][0-9]*$/.test(T)&&(this.seekInterval=T,this.useFixedSeekInterval=!0)}var k=e(t).data("show-now-playing");this.showNowPlaying=void 0===k||!1!==k,void 0!==e(t).data("use-ttml")?(this.useTtml=!0,this.convert=require("xml-js")):this.useTtml=!1;var w=e(t).data("test-fallback");this.testFallback=void 0!==w&&!1!==w&&("2"==w?2:1);var C=e(t).data("lang");this.lang=void 0!==C&&""!==C?C.toLowerCase():null;var A=e(t).data("meta-type");void 0!==A&&""!==A&&(this.metaType=A);var D=e(t).data("meta-div");void 0!==D&&""!==D&&(this.metaDiv=D);var S=e(t).data("search-div");if(void 0!==S&&""!==S){this.searchDiv=S;var x=e(t).data("search");void 0!==x&&""!==x&&(this.searchString=x);var $=e(t).data("search-lang");this.searchLang=void 0!==$&&""!==$?$:null;var N=e(t).data("search-ignore-caps");this.searchIgnoreCaps=void 0!==N&&!1!==N}void 0!==e(t).data("hide-controls")&&!1!==e(t).data("hide-controls")?(this.hideControls=!0,this.hideControlsOriginal=!0):(this.hideControls=!1,this.hideControlsOriginal=!1),void 0!==e(t).data("steno-mode")&&!1!==e(t).data("steno-mode")?(this.stenoMode=!0,void 0!==e(t).data("steno-iframe-id")&&""!==e(t).data("steno-iframe-id")?(this.stenoFrameId=e(t).data("steno-iframe-id"),this.$stenoFrame=e("#"+this.stenoFrameId),this.$stenoFrame.length||(this.stenoFrameId=null,this.$stenoFrame=null)):(this.stenoFrameId=null,this.$stenoFrame=null)):(this.stenoMode=!1,this.stenoFrameId=null,this.$stenoFrame=null),this.setDefaults(),this.ableIndex=AblePlayer.nextIndex,AblePlayer.nextIndex+=1,this.title=e(t).attr("title"),this.tt={},async function fetchTranslations(e){try{await e.getTranslationText(),e.setup()}catch{e.provideFallback()}}(i=this)}else this.provideFallback()},AblePlayer.nextIndex=0,AblePlayer.prototype.setup=function(){var e=this;this.initializing=!0,this.reinitialize().then(function(){e.player?e.setupInstance().then(function(){e.setupInstancePlaylist(),e.hasPlaylist||e.recreatePlayer().then(function(){e.initializing=!1,e.playerCreated=!0})}):e.provideFallback()})},AblePlayer.getActiveDOMElement=function(){for(var e=document.activeElement;e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e},AblePlayer.localGetElementById=function(t,i){return t.getRootNode?e(t.getRootNode().querySelector("#"+i)):e(document.getElementById(i))},AblePlayer.youTubeIframeAPIReady=!1,AblePlayer.loadingYouTubeIframeAPI=!1}(jQuery),function(e){AblePlayer.prototype.setDefaults=function(){this.playerCreated=!1,this.playing=!1,this.paused=!0,this.clickedPlay=!1,this.fullscreen=!1,this.swappingSrc=!1,this.initializing=!1,this.cueingPlaylistItems=!1,this.buttonWithFocus=null,this.speechEnabled=null,this.setIconColor(),this.setButtonImages()},AblePlayer.prototype.getRootPath=function(){var e,t,i,a,s,n;for(e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(-1!==(i=e[t].src).substring(i.lastIndexOf("/")).indexOf("ableplayer")){a=i.split("?")[0];break}return n=(s=a.split("/").slice(0,-1).join("/")).lastIndexOf("/"),s.substring(0,n)+"/"},AblePlayer.prototype.setIconColor=function(){var t,i,a,s,n;for(t=["controller","toolbar"],i=0;i<t.length;i++)"controller"==t[i]?a=e("<div>",{class:"able-controller"}).hide():"toolbar"===t[i]&&(a=e("<div>",{class:"able-window-toolbar"}).hide()),e("body").append(a),n=.2126*(s=a.css("background-color").replace(/[^\d,]/g,"").split(","))[0]+.7152*s[1]+.0722*s[2]<125?"white":"black","controller"===t[i]?this.iconColor=n:"toolbar"===t[i]&&(this.toolbarIconColor=n),a.remove()},AblePlayer.prototype.setButtonImages=function(){this.imgPath=this.rootPath+"button-icons/"+this.iconColor+"/",this.playButtonImg=this.imgPath+"play.png",this.pauseButtonImg=this.imgPath+"pause.png",this.restartButtonImg=this.imgPath+"restart.png",this.rewindButtonImg=this.imgPath+"rewind.png",this.forwardButtonImg=this.imgPath+"forward.png",this.previousButtonImg=this.imgPath+"previous.png",this.nextButtonImg=this.imgPath+"next.png","arrows"===this.speedIcons?(this.fasterButtonImg=this.imgPath+"slower.png",this.slowerButtonImg=this.imgPath+"faster.png"):"animals"===this.speedIcons&&(this.fasterButtonImg=this.imgPath+"rabbit.png",this.slowerButtonImg=this.imgPath+"turtle.png"),this.captionsButtonImg=this.imgPath+"captions.png",this.chaptersButtonImg=this.imgPath+"chapters.png",this.signButtonImg=this.imgPath+"sign.png",this.transcriptButtonImg=this.imgPath+"transcript.png",this.descriptionsButtonImg=this.imgPath+"descriptions.png",this.fullscreenExpandButtonImg=this.imgPath+"fullscreen-expand.png",this.fullscreenCollapseButtonImg=this.imgPath+"fullscreen-collapse.png",this.prefsButtonImg=this.imgPath+"preferences.png",this.helpButtonImg=this.imgPath+"help.png"},AblePlayer.prototype.getIconData=function(e){var t=Array();switch(e){case"play":t[0]="0 0 16 20",t[1]="M0 18.393v-16.429q0-0.29 0.184-0.402t0.441 0.033l14.821 8.237q0.257 0.145 0.257 0.346t-0.257 0.346l-14.821 8.237q-0.257 0.145-0.441 0.033t-0.184-0.402z",t[2]="icon-play",t[3]=this.playButtonImg;break;case"pause":t[0]="0 0 20 20",t[1]="M0 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h5.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-5.714q-0.29 0-0.502-0.212t-0.212-0.502zM10 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h5.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-5.714q-0.29 0-0.502-0.212t-0.212-0.502z",t[2]="icon-pause",t[3]=this.pauseButtonImg;break;case"restart":t[0]="0 0 20 20",t[1]="M18 8h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.344-2.344v6z",t[2]="icon-restart",t[3]=this.restartButtonImg;break;case"rewind":t[0]="0 0 20 20",t[1]="M11.25 3.125v6.25l6.25-6.25v13.75l-6.25-6.25v6.25l-6.875-6.875z",t[2]="icon-rewind",t[3]=this.rewindButtonImg;break;case"forward":t[0]="0 0 20 20",t[1]="M10 16.875v-6.25l-6.25 6.25v-13.75l6.25 6.25v-6.25l6.875 6.875z",t[2]="icon-forward",t[3]=this.forwardButtonImg;break;case"previous":t[0]="0 0 20 20",t[1]="M5 17.5v-15h2.5v6.875l6.25-6.25v13.75l-6.25-6.25v6.875z",t[2]="icon-previous",t[3]=this.previousButtonImg;break;case"next":t[0]="0 0 20 20",t[1]="M15 2.5v15h-2.5v-6.875l-6.25 6.25v-13.75l6.25 6.25v-6.875z",t[2]="icon-next",t[3]=this.nextButtonImg;break;case"slower":t[0]="0 0 11 20",t[1]="M0 7.321q0-0.29 0.212-0.502t0.502-0.212h10q0.29 0 0.502 0.212t0.212 0.502-0.212 0.502l-5 5q-0.212 0.212-0.502 0.212t-0.502-0.212l-5-5q-0.212-0.212-0.212-0.502z",t[2]="icon-slower",t[3]=this.slowerButtonImg;break;case"faster":t[0]="0 0 11 20",t[1]="M0 12.411q0-0.29 0.212-0.502l5-5q0.212-0.212 0.502-0.212t0.502 0.212l5 5q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-10q-0.29 0-0.502-0.212t-0.212-0.502z",t[2]="icon-faster",t[3]=this.fasterButtonImg;break;case"turtle":t[0]="0 0 20 20",t[1]="M17.212 3.846c-0.281-0.014-0.549 0.025-0.817 0.144-1.218 0.542-1.662 2.708-2.163 3.942-1.207 2.972-7.090 4.619-11.755 5.216-0.887 0.114-1.749 0.74-2.428 1.466 0.82-0.284 2.126-0.297 2.74 0.144 0.007 0.488-0.376 1.062-0.625 1.37-0.404 0.5-0.398 0.793 0.12 0.793 0.473 0 0.752 0.007 1.635 0 0.393-0.003 0.618-0.16 1.49-1.49 3.592 0.718 5.986-0.264 5.986-0.264s0.407 1.755 1.418 1.755h1.49c0.633 0 0.667-0.331 0.625-0.433-0.448-1.082-0.68-1.873-0.769-2.5-0.263-1.857 0.657-3.836 2.524-5.457 0.585 0.986 2.253 0.845 2.909-0.096s0.446-2.268-0.192-3.221c-0.49-0.732-1.345-1.327-2.188-1.37zM8.221 4.663c-0.722-0.016-1.536 0.111-2.5 0.409-4.211 1.302-4.177 4.951-3.51 5.745 0 0-0.955 0.479-0.409 1.274 0.448 0.652 3.139 0.191 5.409-0.529s4.226-1.793 5.312-2.692c0.948-0.785 0.551-2.106-0.505-1.947-0.494-0.98-1.632-2.212-3.798-2.26zM18.846 5.962c0.325 0 0.577 0.252 0.577 0.577s-0.252 0.577-0.577 0.577c-0.325 0-0.577-0.252-0.577-0.577s0.252-0.577 0.577-0.577z",t[2]="icon-turtle",t[3]=this.slowerButtonImg;break;case"rabbit":t[0]="0 0 20 20",t[1]="M10.817 0c-2.248 0-1.586 0.525-1.154 0.505 1.551-0.072 5.199 0.044 6.851 2.428 0 0-1.022-2.933-5.697-2.933zM10.529 0.769c-2.572 0-2.837 0.51-2.837 1.106 0 0.545 1.526 0.836 2.524 0.697 2.778-0.386 4.231-0.12 5.264 0.865-1.010 0.779-0.75 1.401-1.274 1.851-1.093 0.941-2.643-0.673-4.976-0.673-2.496 0-4.712 1.92-4.712 4.76-0.157-0.537-0.769-0.913-1.442-0.913-0.974 0-1.514 0.637-1.514 1.49 0 0.769 1.13 1.791 2.861 0.938 0.499 1.208 2.265 1.364 2.452 1.418 0.538 0.154 1.875 0.098 1.875 0.865 0 0.794-1.034 1.094-1.034 1.707 0 1.070 1.758 0.873 2.284 1.034 1.683 0.517 2.103 1.214 2.788 2.212 0.771 1.122 2.572 1.408 2.572 0.625 0-3.185-4.413-4.126-4.399-4.135 0.608-0.382 2.139-1.397 2.139-3.534 0-1.295-0.703-2.256-1.755-2.861 1.256 0.094 2.572 1.205 2.572 2.74 0 1.877-0.653 2.823-0.769 2.957 1.975-1.158 3.193-3.91 3.029-6.37 0.61 0.401 1.27 0.577 1.971 0.625 0.751 0.052 1.475-0.225 1.635-0.529 0.38-0.723 0.162-2.321-0.12-2.837-0.763-1.392-2.236-1.73-3.606-1.683-1.202-1.671-3.812-2.356-5.529-2.356zM1.37 3.077l-0.553 1.538h3.726c0.521-0.576 1.541-1.207 2.284-1.538h-5.457zM18.846 5.192c0.325 0 0.577 0.252 0.577 0.577s-0.252 0.577-0.577 0.577c-0.325 0-0.577-0.252-0.577-0.577s0.252-0.577 0.577-0.577zM0.553 5.385l-0.553 1.538h3.197c0.26-0.824 0.586-1.328 0.769-1.538h-3.413z",t[2]="icon-rabbit",t[3]=this.fasterButtonImg;break;case"ellipsis":t[0]="0 0 20 20",t[1]="M10.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.985 2.199-2.2s-0.984-2.2-2.199-2.2zM3.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.986 2.199-2.2s-0.984-2.2-2.199-2.2zM17.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.985 2.199-2.2s-0.984-2.2-2.199-2.2z",t[2]="icon-ellipsis",t[3]=!1;break;case"pipe":t[0]="0 0 20 20",t[1]="M10.15 0.179h0.623c0.069 0 0.127 0.114 0.127 0.253v19.494c0 0.139-0.057 0.253-0.127 0.253h-1.247c-0.069 0-0.126-0.114-0.126-0.253v-19.494c0-0.139 0.057-0.253 0.126-0.253h0.623z",t[2]="icon-pipe",t[3]=!1;break;case"captions":t[0]="0 0 20 20",t[1]="M0.033 3.624h19.933v12.956h-19.933v-12.956zM18.098 10.045c-0.025-2.264-0.124-3.251-0.743-3.948-0.112-0.151-0.322-0.236-0.496-0.344-0.606-0.386-3.465-0.526-6.782-0.526s-6.313 0.14-6.907 0.526c-0.185 0.108-0.396 0.193-0.519 0.344-0.607 0.697-0.693 1.684-0.731 3.948 0.037 2.265 0.124 3.252 0.731 3.949 0.124 0.161 0.335 0.236 0.519 0.344 0.594 0.396 3.59 0.526 6.907 0.547 3.317-0.022 6.176-0.151 6.782-0.547 0.174-0.108 0.384-0.183 0.496-0.344 0.619-0.697 0.717-1.684 0.743-3.949v0 0zM9.689 9.281c-0.168-1.77-1.253-2.813-3.196-2.813-1.773 0-3.168 1.387-3.168 3.617 0 2.239 1.271 3.636 3.372 3.636 1.676 0 2.851-1.071 3.035-2.852h-2.003c-0.079 0.661-0.397 1.168-1.068 1.168-1.059 0-1.253-0.91-1.253-1.876 0-1.33 0.442-2.010 1.174-2.010 0.653 0 1.068 0.412 1.13 1.129h1.977zM16.607 9.281c-0.167-1.77-1.252-2.813-3.194-2.813-1.773 0-3.168 1.387-3.168 3.617 0 2.239 1.271 3.636 3.372 3.636 1.676 0 2.851-1.071 3.035-2.852h-2.003c-0.079 0.661-0.397 1.168-1.068 1.168-1.059 0-1.253-0.91-1.253-1.876 0-1.33 0.441-2.010 1.174-2.010 0.653 0 1.068 0.412 1.13 1.129h1.976z",t[2]="icon-captions",t[3]=this.captionsButtonImg;break;case"descriptions":t[0]="0 0 20 20",t[1]="M17.623 3.57h-1.555c1.754 1.736 2.763 4.106 2.763 6.572 0 2.191-0.788 4.286-2.189 5.943h1.484c1.247-1.704 1.945-3.792 1.945-5.943-0-2.418-0.886-4.754-2.447-6.572v0zM14.449 3.57h-1.55c1.749 1.736 2.757 4.106 2.757 6.572 0 2.191-0.788 4.286-2.187 5.943h1.476c1.258-1.704 1.951-3.792 1.951-5.943-0-2.418-0.884-4.754-2.447-6.572v0zM11.269 3.57h-1.542c1.752 1.736 2.752 4.106 2.752 6.572 0 2.191-0.791 4.286-2.181 5.943h1.473c1.258-1.704 1.945-3.792 1.945-5.943 0-2.418-0.876-4.754-2.447-6.572v0zM10.24 9.857c0 3.459-2.826 6.265-6.303 6.265v0.011h-3.867v-12.555h3.896c3.477 0 6.274 2.806 6.274 6.279v0zM6.944 9.857c0-1.842-1.492-3.338-3.349-3.338h-0.876v6.686h0.876c1.858 0 3.349-1.498 3.349-3.348v0z",t[2]="icon-descriptions",t[3]=this.descriptionsButtonImg;break;case"sign":t[0]="0 0 20 20",t[1]="M10.954 10.307c0.378 0.302 0.569 1.202 0.564 1.193 0.697 0.221 1.136 0.682 1.136 0.682 1.070-0.596 1.094-0.326 1.558-0.682 0.383-0.263 0.366-0.344 0.567-1.048 0.187-0.572-0.476-0.518-1.021-1.558-0.95 0.358-1.463 0.196-1.784 0.167-0.145-0.020-0.12 0.562-1.021 1.247zM14.409 17.196c-0.133 0.182-0.196 0.218-0.363 0.454-0.28 0.361 0.076 0.906 0.253 0.82 0.206-0.076 0.341-0.488 0.567-0.623 0.115-0.061 0.422-0.513 0.709-0.82 0.211-0.238 0.363-0.344 0.564-0.594 0.341-0.422 0.412-0.744 0.709-1.193 0.184-0.236 0.312-0.307 0.481-0.594 0.886-1.679 0.628-2.432 1.475-3.629 0.26-0.353 0.552-0.442 0.964-0.653 0.383-2.793-0.888-4.356-0.879-4.361-1.067 0.623-1.644 0.879-2.751 0.82-0.417-0.005-0.636-0.182-1.048-0.145-0.385 0.015-0.582 0.159-0.964 0.29-0.589 0.182-0.91 0.344-1.529 0.535-0.393 0.11-0.643 0.115-1.050 0.255-0.348 0.147-0.182 0.029-0.427 0.312-0.317 0.348-0.238 0.623-0.535 1.222-0.371 0.785-0.326 0.891-0.115 0.987-0.14 0.402-0.174 0.672-0.14 1.107 0.039 0.331-0.101 0.562 0.255 0.825 0.483 0.361 1.499 1.205 1.757 1.217 0.39-0.012 1.521 0.029 2.096-0.368 0.13-0.081 0.167-0.162 0.056 0.145-0.022 0.037-1.433 1.136-1.585 1.131-1.794 0.056-1.193 0.157-1.303 0.115-0.091 0-0.955-1.055-1.477-0.682-0.196 0.12-0.287 0.236-0.363 0.452 0.066 0.137 0.383 0.358 0.675 0.54 0.422 0.27 0.461 0.552 0.881 0.653 0.513 0.115 1.060 0.039 1.387 0.081 0.125 0.034 1.256-0.297 1.961-0.675 0.65-0.336-0.898 0.648-1.276 1.131-1.141 0.358-0.82 0.373-1.362 0.483-0.503 0.115-0.479 0.086-0.822 0.196-0.356 0.086-0.648 0.572-0.312 0.825 0.201 0.167 0.827-0.066 1.445-0.086 0.275-0.005 1.391-0.518 1.644-0.653 0.633-0.339 1.099-0.81 1.472-1.077 0.518-0.361-0.584 0.991-1.050 1.558zM8.855 9.799c-0.378-0.312-0.569-1.212-0.564-1.217-0.697-0.206-1.136-0.667-1.136-0.653-1.070 0.582-1.099 0.312-1.558 0.653-0.388 0.277-0.366 0.363-0.567 1.045-0.187 0.594 0.471 0.535 1.021 1.561 0.95-0.344 1.463-0.182 1.784-0.142 0.145 0.010 0.12-0.572 1.021-1.247zM5.4 2.911c0.133-0.191 0.196-0.228 0.368-0.454 0.27-0.371-0.081-0.915-0.253-0.849-0.211 0.096-0.346 0.508-0.599 0.653-0.093 0.052-0.4 0.503-0.682 0.82-0.211 0.228-0.363 0.334-0.564 0.599-0.346 0.407-0.412 0.729-0.709 1.161-0.184 0.258-0.317 0.324-0.481 0.621-0.886 1.669-0.631 2.422-1.475 3.6-0.26 0.38-0.552 0.461-0.964 0.682-0.383 2.788 0.883 4.346 0.879 4.336 1.068-0.609 1.639-0.861 2.751-0.825 0.417 0.025 0.636 0.201 1.048 0.174 0.385-0.025 0.582-0.169 0.964-0.285 0.589-0.196 0.91-0.358 1.499-0.54 0.422-0.12 0.672-0.125 1.080-0.285 0.348-0.128 0.182-0.010 0.427-0.282 0.312-0.358 0.238-0.633 0.508-1.217 0.398-0.8 0.353-0.906 0.142-0.991 0.135-0.412 0.174-0.677 0.14-1.107-0.044-0.336 0.101-0.572-0.255-0.82-0.483-0.375-1.499-1.22-1.752-1.222-0.395 0.002-1.526-0.039-2.101 0.339-0.13 0.101-0.167 0.182-0.056-0.11 0.022-0.052 1.433-1.148 1.585-1.163 1.794-0.039 1.193-0.14 1.303-0.088 0.091-0.007 0.955 1.045 1.477 0.682 0.191-0.13 0.287-0.245 0.368-0.452-0.071-0.147-0.388-0.368-0.68-0.537-0.422-0.282-0.464-0.564-0.881-0.655-0.513-0.125-1.065-0.049-1.387-0.11-0.125-0.015-1.256 0.317-1.956 0.68-0.66 0.351 0.893-0.631 1.276-1.136 1.136-0.339 0.81-0.353 1.36-0.479 0.501-0.101 0.476-0.071 0.82-0.172 0.351-0.096 0.648-0.577 0.312-0.849-0.206-0.152-0.827 0.081-1.44 0.086-0.28 0.020-1.396 0.533-1.649 0.677-0.633 0.329-1.099 0.8-1.472 1.048-0.523 0.38 0.584-0.967 1.050-1.529z",t[2]="icon-sign",t[3]=this.signButtonImg;break;case"mute":case"volume-mute":t[0]="0 0 20 20",t[1]="M7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714zM18.75 12.093v1.657h-1.657l-2.093-2.093-2.093 2.093h-1.657v-1.657l2.093-2.093-2.093-2.093v-1.657h1.657l2.093 2.093 2.093-2.093h1.657v1.657l-2.093 2.093z",t[2]="icon-volume-mute",t[3]=this.imgPath+"volume-mute.png";break;case"volume-soft":t[0]="0 0 20 20",t[1]="M10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z",t[2]="icon-volume-soft",t[3]=this.imgPath+"volume-soft.png";break;case"volume-medium":t[0]="0 0 20 20",t[1]="M14.053 16.241c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 2.559-2.559 2.559-6.722 0-9.281-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c1.594 1.594 2.471 3.712 2.471 5.966s-0.878 4.373-2.471 5.966c-0.183 0.183-0.423 0.275-0.663 0.275zM10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z",t[2]="icon-volume-medium",t[3]=this.imgPath+"volume-medium.png";break;case"volume-loud":t[0]="0 0 21 20",t[1]="M17.384 18.009c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.712-1.712 2.654-3.988 2.654-6.408s-0.943-4.696-2.654-6.408c-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.066 2.066 3.204 4.813 3.204 7.734s-1.138 5.668-3.204 7.734c-0.183 0.183-0.423 0.275-0.663 0.275zM14.053 16.241c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 2.559-2.559 2.559-6.722 0-9.281-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c1.594 1.594 2.471 3.712 2.471 5.966s-0.878 4.373-2.471 5.966c-0.183 0.183-0.423 0.275-0.663 0.275zM10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z",t[2]="icon-volume-loud",t[3]=this.imgPath+"volume-loud.png";break;case"chapters":t[0]="0 0 20 20",t[1]="M5 2.5v17.5l6.25-6.25 6.25 6.25v-17.5zM15 0h-12.5v17.5l1.25-1.25v-15h11.25z",t[2]="icon-chapters",t[3]=this.chaptersButtonImg;break;case"transcript":t[0]="0 0 20 20",t[1]="M0 19.107v-17.857q0-0.446 0.313-0.759t0.759-0.313h8.929v6.071q0 0.446 0.313 0.759t0.759 0.313h6.071v11.786q0 0.446-0.313 0.759t-0.759 0.312h-15q-0.446 0-0.759-0.313t-0.313-0.759zM4.286 15.536q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM4.286 12.679q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM4.286 9.821q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM11.429 5.893v-5.268q0.246 0.156 0.402 0.313l4.554 4.554q0.156 0.156 0.313 0.402h-5.268z",t[2]="icon-transcript",t[3]=this.transcriptButtonImg;break;case"preferences":t[0]="0 0 20 20",t[1]="M18.238 11.919c-1.049-1.817-0.418-4.147 1.409-5.205l-1.965-3.404c-0.562 0.329-1.214 0.518-1.911 0.518-2.1 0-3.803-1.714-3.803-3.828h-3.931c0.005 0.653-0.158 1.314-0.507 1.919-1.049 1.818-3.382 2.436-5.212 1.382l-1.965 3.404c0.566 0.322 1.056 0.793 1.404 1.396 1.048 1.815 0.42 4.139-1.401 5.2l1.965 3.404c0.56-0.326 1.209-0.513 1.902-0.513 2.094 0 3.792 1.703 3.803 3.808h3.931c-0.002-0.646 0.162-1.3 0.507-1.899 1.048-1.815 3.375-2.433 5.203-1.387l1.965-3.404c-0.562-0.322-1.049-0.791-1.395-1.391zM10 14.049c-2.236 0-4.050-1.813-4.050-4.049s1.813-4.049 4.050-4.049 4.049 1.813 4.049 4.049c-0 2.237-1.813 4.049-4.049 4.049z",t[2]="icon-preferences",t[3]=this.prefsButtonImg;break;case"close":t[0]="0 0 16 20",t[1]="M1.228 14.933q0-0.446 0.312-0.759l3.281-3.281-3.281-3.281q-0.313-0.313-0.313-0.759t0.313-0.759l1.518-1.518q0.313-0.313 0.759-0.313t0.759 0.313l3.281 3.281 3.281-3.281q0.313-0.313 0.759-0.313t0.759 0.313l1.518 1.518q0.313 0.313 0.313 0.759t-0.313 0.759l-3.281 3.281 3.281 3.281q0.313 0.313 0.313 0.759t-0.313 0.759l-1.518 1.518q-0.313 0.313-0.759 0.313t-0.759-0.313l-3.281-3.281-3.281 3.281q-0.313 0.313-0.759 0.313t-0.759-0.313l-1.518-1.518q-0.313-0.313-0.313-0.759z",t[2]="icon-close",t[3]=null;break;case"fullscreen-expand":t[0]="0 0 20 20",t[1]="M0 18.036v-5q0-0.29 0.212-0.502t0.502-0.212 0.502 0.212l1.607 1.607 3.705-3.705q0.112-0.112 0.257-0.112t0.257 0.112l1.272 1.272q0.112 0.112 0.112 0.257t-0.112 0.257l-3.705 3.705 1.607 1.607q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-5q-0.29 0-0.502-0.212t-0.212-0.502zM8.717 8.393q0-0.145 0.112-0.257l3.705-3.705-1.607-1.607q-0.212-0.212-0.212-0.502t0.212-0.502 0.502-0.212h5q0.29 0 0.502 0.212t0.212 0.502v5q0 0.29-0.212 0.502t-0.502 0.212-0.502-0.212l-1.607-1.607-3.705 3.705q-0.112 0.112-0.257 0.112t-0.257-0.112l-1.272-1.272q-0.112-0.112-0.112-0.257z",t[2]="icon-fullscreen-expand",t[3]=this.fullscreenExpandButtonImg;break;case"fullscreen-collapse":t[0]="0 0 20 20",t[1]="M0.145 16.964q0-0.145 0.112-0.257l3.705-3.705-1.607-1.607q-0.212-0.212-0.212-0.502t0.212-0.502 0.502-0.212h5q0.29 0 0.502 0.212t0.212 0.502v5q0 0.29-0.212 0.502t-0.502 0.212-0.502-0.212l-1.607-1.607-3.705 3.705q-0.112 0.112-0.257 0.112t-0.257-0.112l-1.272-1.272q-0.112-0.112-0.112-0.257zM8.571 9.464v-5q0-0.29 0.212-0.502t0.502-0.212 0.502 0.212l1.607 1.607 3.705-3.705q0.112-0.112 0.257-0.112t0.257 0.112l1.272 1.272q0.112 0.112 0.112 0.257t-0.112 0.257l-3.705 3.705 1.607 1.607q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-5q-0.29 0-0.502-0.212t-0.212-0.502z",t[2]="icon-fullscreen-collapse",t[3]=this.fullscreenCollapseButtonImg}return t},AblePlayer.prototype.reinitialize=function(){var t,i;if(i=(t=new this.defer).promise(),this.startedPlaying=!1,this.autoScrollTranscript=!0,this.$media=e(this.media).first(),this.media=this.$media[0],this.$media.is("audio"))this.mediaType="audio";else{if(!this.$media.is("video"))return this.provideFallback(),t.reject(),i;this.mediaType="video"}return this.$sources=this.$media.find("source"),this.player=this.getPlayer(),this.player||this.provideFallback(),this.setIconType(),t.resolve(),i},AblePlayer.prototype.setPlayerSize=function(e,t){"audio"!==this.mediaType&&e>0&&t>0&&(this.playerWidth=e,this.playerHeight=t,this.aspectRatio=t/e)},AblePlayer.prototype.setIconType=function(){if(this.forceIconType)return!1;this.iconType="svg"},AblePlayer.prototype.setupInstance=function(){var e=new this.defer,t=e.promise();return this.$media.attr("id")?this.mediaId=this.$media.attr("id"):(this.mediaId="ableMediaId_"+this.ableIndex,this.$media.attr("id",this.mediaId)),e.resolve(),t},AblePlayer.prototype.setupInstancePlaylist=function(){var t=this;if(this.hasPlaylist=!1,e(".able-playlist").each(function(){if(e(this).data("player")===t.mediaId){t.hasPlaylist=!0,t.$playlist=e(this).find("li"),e(this).find("li[data-youtube-id]").each(function(){var i=DOMPurify.sanitize(e(this).attr("data-youtube-id")),a=t.getYouTubePosterUrl(i,"120"),s=e("<img>",{src:a,alt:""});e(this).find("button").prepend(s)}),e(this).find("li[data-vimeo-id]").each(function(){var i=e(this).attr("data-vimeo-id"),a=t.getVimeoPosterUrl(i,"120"),s=e("<img>",{src:a,alt:""});e(this).find("button").prepend(s)}),e(this).find("li span").attr("aria-hidden","true"),t.playlistIndex=0;var i=e(this).data("embedded");t.playlistEmbed=void 0!==i&&!1!==i}}),this.hasPlaylist&&this.loop&&this.media.removeAttribute("loop"),this.hasPlaylist&&this.playlistEmbed){var i=this.$playlist.parent();this.$playlistDom=i.clone(),i.remove()}this.hasPlaylist&&0===this.$sources.length&&(this.cuePlaylistItem(0),this.$sources=this.$media.find("source"))},AblePlayer.prototype.recreatePlayer=function(){var t,i,a,s,n;if(this.player)return i=(t=new this.defer).promise(),a=this,this.playerDeleted=!1,this.recreatingPlayer=!0,this.playerCreated||(this.loadCurrentPreferences(),this.injectPlayerCode(),this.resizePlayer(this.media.videoWidth,this.media.videoHeight)),this.getSampleDescriptionText(),this.initSignLanguage(),this.initPlayer().then(function(){a.getTracks().then(function(){a.initDescription().then(function(){a.setupTracks().then(function(){a.hasClosedDesc&&(!a.$descDiv||a.$descDiv&&!e.contains(a.$ableDiv[0],a.$descDiv[0]))&&a.injectTextDescriptionArea(),a.initSpeech("init"),a.setupTranscript().then(function(){a.initStenoFrame().then(function(){a.stenoMode&&a.$stenoFrame&&(a.stenoFrameContents=a.$stenoFrame.contents()),a.getMediaTimes().then(function(e){for(a.duration=e.duration,a.elapsed=e.elapsed,void 0===a.volume&&(a.volume=a.defaultVolume),a.volume&&a.setVolume(a.volume),a.transcriptType&&(a.addTranscriptAreaEvents(),a.updateTranscript()),a.captions.length&&a.initDefaultCaption(),a.setMediaAttributes(),a.addControls(),a.addEventListeners(),s=a.getPreferencesGroups(),n=0;n<s.length;n++)a.injectPrefsForm(s[n]);a.setupPopups(),a.updateCaption(),a.injectVTS(),a.populateChaptersDiv(),a.showSearchResults(),"html5"===a.player&&(a.loadingMedia||(a.$media[0].load(),a.loadingMedia=!0)),setTimeout(function(){a.refreshControls(),t.resolve()},100)})})})})})})},function(){a.provideFallback()}),i;console.log("Can't create player; no appropriate player type detected.")},AblePlayer.prototype.initPlayer=function(){var e,t=this;"html5"===this.player?e=this.initHtml5Player():"youtube"===this.player?e=this.initYouTubePlayer():"vimeo"===this.player&&(e=this.initVimeoPlayer());var i=new this.defer,a=i.promise();return e.then(function(){t.useFixedSeekInterval?(t.seekInterval||(t.seekInterval=t.defaultSeekInterval),t.seekIntervalCalculated=!0):t.setSeekInterval(),i.resolve()}).finally(function(){i.reject()}),a},AblePlayer.prototype.initStenoFrame=function(){var e,t;return t=(e=new this.defer).promise(),this.stenoMode&&this.$stenoFrame?(this.$stenoFrame[0].contentWindow,"complete"==document.readyState?e.resolve():this.$stenoFrame.on("load",function(){e.resolve()})):e.resolve(),t},AblePlayer.prototype.setSeekInterval=function(){var e;this.seekInterval=this.defaultSeekInterval,void 0===(e=this.useChapterTimes?this.chapterDuration:this.duration)||e<1?this.seekIntervalCalculated=!1:(this.seekInterval=e<=20?5:e<=30?6:e<=40?8:e<=100?10:Math.round(e/10,0),this.seekIntervalCalculated=!0)},AblePlayer.prototype.initDefaultCaption=function(){var e,t;if((e=this.captions).length>0){for(t=0;t<e.length;t++)!0===e[t].def&&(this.captionLang=e[t].language,this.selectedCaptions=e[t]);if(void 0===this.captionLang)for(t=0;t<e.length;t++)e[t].language===this.lang&&(this.captionLang=e[t].language,this.selectedCaptions=e[t]);void 0===this.captionLang&&(this.captionLang=e[0].language,this.selectedCaptions=e[0]),void 0!==this.captionLang&&(this.$transcriptLanguageSelect&&this.$transcriptLanguageSelect.find("option[lang="+this.captionLang+"]").prop("selected",!0),this.syncTrackLanguages("init",this.captionLang)),"vimeo"===this.player&&(this.usingVimeoCaptions&&1==this.prefCaptions?this.vimeoPlayer.enableTextTrack(this.captionLang).then(function(e){}).catch(function(e){e.name}):this.vimeoPlayer.disableTextTrack().then(function(){}).catch(function(e){}))}},AblePlayer.prototype.initHtml5Player=function(){var e=new this.defer,t=e.promise();return e.resolve(),t},AblePlayer.prototype.setMediaAttributes=function(){this.$media.attr("tabindex",-1);var e=this.$media.get(0).textTracks;if(e)for(var t=0;t<e.length;)e[t].mode="disabled",t+=1},AblePlayer.prototype.getPlayer=function(){return this.testFallback?null:this.youTubeId?"video"!==this.mediaType?null:"youtube":this.vimeoId?"video"!==this.mediaType?null:"vimeo":this.media.canPlayType?"html5":null}}(jQuery),function(e){AblePlayer.prototype.setPrefs=function(e){"undefined"!=typeof Cookies?Cookies.set("Able-Player",JSON.stringify(e),{expires:90,sameSite:"strict"}):localStorage.setItem("Able-Player",JSON.stringify(e))},AblePlayer.prototype.getPref=function(){var e,t={preferences:{},sign:{},transcript:{},voices:[]};try{e="undefined"!=typeof Cookies?JSON.parse(Cookies.get("Able-Player")):JSON.parse(localStorage.getItem("Able-Player"))}catch(i){this.setPrefs(t),e=t}return e||t},AblePlayer.prototype.updatePreferences=function(e){var t,i,a,s,n,r,o,l;if(t=this.getPref(),"transcript"===e||"sign"===e)"transcript"===e?(a=(i=this.$transcriptArea).position(),void 0===t.transcript&&(t.transcript={}),t.transcript.position=i.css("position"),t.transcript.zindex=i.css("z-index"),t.transcript.top=a.top,t.transcript.left=a.left,t.transcript.width=i.width(),t.transcript.height=i.height()):"sign"===e&&(a=(i=this.$signWindow).position(),void 0===t.sign&&(t.sign={}),t.sign.position=i.css("position"),t.sign.zindex=i.css("z-index"),t.sign.top=a.top,t.sign.left=a.left,t.sign.width=i.width(),t.sign.height=i.height());else if("voice"===e){void 0===t.voices&&(t.voices=[]),o=!1;for(var h=0;h<t.voices.length;h++)t.voices[h].lang===this.prefDescVoiceLang&&(o=!0,t.voices[h].name=this.prefDescVoice);o||(l={name:this.prefDescVoice,lang:this.prefDescVoiceLang},t.voices.push(l))}else for(s=this.getAvailablePreferences(),n=0;n<s.length;n++)(r=s[n].name)==e&&(t.preferences[r]=this[r]);this.setPrefs(t)},AblePlayer.prototype.getPreferencesGroups=function(){return this.usingYouTubeCaptions?["captions","descriptions","keyboard"]:this.usingVimeoCaptions?["descriptions","keyboard"]:["captions","descriptions","keyboard","transcript"]},AblePlayer.prototype.getAvailablePreferences=function(){var e=[];return e.push({name:"prefAltKey",label:this.translate("prefAltKey","Alt"),group:"keyboard",default:1}),e.push({name:"prefCtrlKey",label:this.translate("prefCtrlKey","Control"),group:"keyboard",default:1}),e.push({name:"prefShiftKey",label:this.translate("prefShiftKey","Shift"),group:"keyboard",default:0}),e.push({name:"prefNoKeyShortcuts",label:this.translate("prefNoKeyShortcuts","Disable Keyboard Shortcuts"),group:"keyboard",default:0}),e.push({name:"prefTranscript",label:null,group:"transcript",default:0}),e.push({name:"prefHighlight",label:this.translate("prefHighlight","Highlight transcript as media plays"),group:"transcript",default:1}),e.push({name:"prefAutoScrollTranscript",label:null,group:"transcript",default:1}),e.push({name:"prefTabbable",label:this.translate("prefTabbable","Keyboard-enable transcript"),group:"transcript",default:0}),e.push({name:"prefCaptions",label:null,group:"captions",default:this.defaultStateCaptions}),this.usingYouTubeCaptions||("video"===this.mediaType&&e.push({name:"prefCaptionsPosition",label:this.translate("prefCaptionsPosition","Position"),group:"captions",default:this.defaultCaptionsPosition}),e.push({name:"prefCaptionsFont",label:this.translate("prefCaptionsFont","Font"),group:"captions",default:"sans-serif"})),e.push({name:"prefCaptionsSize",label:this.translate("prefCaptionsSize","Font size"),group:"captions",default:"100%"}),this.usingYouTubeCaptions||(e.push({name:"prefCaptionsColor",label:this.translate("prefCaptionsColor","Text Color"),group:"captions",default:"white"}),e.push({name:"prefCaptionsBGColor",label:this.translate("prefCaptionsBGColor","Background"),group:"captions",default:"black"}),e.push({name:"prefCaptionsOpacity",label:this.translate("prefCaptionsOpacity","Opacity"),group:"captions",default:"100%"})),"video"===this.mediaType&&(e.push({name:"prefDesc",label:null,group:"descriptions",default:this.defaultStateDescriptions}),e.push({name:"prefDescMethod",label:null,group:"descriptions",default:"video"}),e.push({name:"prefDescVoice",label:this.translate("prefDescVoice","Voice"),group:"descriptions",default:null}),e.push({name:"prefDescPitch",label:this.translate("prefDescPitch","Pitch"),group:"descriptions",default:1}),e.push({name:"prefDescRate",label:this.translate("prefDescRate","Rate"),group:"descriptions",default:1}),e.push({name:"prefDescVolume",label:this.translate("volume","Volume"),group:"descriptions",default:1}),"video"!==this.descMethod&&e.push({name:"prefDescPause",label:this.translate("prefDescPause","Automatically pause video when description starts"),group:"descriptions",default:this.defaultDescPause}),e.push({name:"prefDescVisible",label:this.translate("prefDescVisible","Make description visible"),group:"descriptions",default:0})),e.push({name:"prefSign",label:null,group:null,default:0}),e},AblePlayer.prototype.loadCurrentPreferences=function(){for(var e=this.getAvailablePreferences(),t=this.getPref(),i=0;i<e.length;i++){var a=e[i].name,s=e[i].default;void 0!==t.preferences[a]?this[a]=t.preferences[a]:(t.preferences[a]=s,this[a]=s)}void 0!==t.voices&&(this.prefVoices=t.voices),this.setPrefs(t)},AblePlayer.prototype.injectPrefsForm=function(t){var i,a,s,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b,P,T,k,w,C,A,D,S,x,$,N,I,M,B,L,E,O,F,V,R,z,H,W;i=this,a=this.getAvailablePreferences();var _="able-prefs-form-"+t;if((s=e("<div>",{class:"able-prefs-form "})).addClass(_),"captions"==t)n=this.translate("prefTitleCaptions","Captions Preferences");else if("descriptions"==t){n=this.translate("prefTitleDescriptions","Audio Description Preferences");var j=e("<p>",{text:this.translate("prefIntroDescription1","This media player supports audio description in two ways: ")}),q=e("<ul>"),K=e("<li>",{text:this.translate("prefDescFormatOption1","alternative described version of video")}),Y=e("<li>",{text:this.translate("prefDescFormatOption2","text-based description, announced by screen reader")});q.append(K,Y),this.hasOpenDesc&&this.hasClosedDesc?(I=this.translate("prefIntroDescription2","The current video has ")+" ",I+="<strong>"+this.translate("prefDescFormatOption1b","an alternative described version")+"</strong>",I+=" <em>"+this.translate("and","and")+"</em> <strong>"+this.translate("prefDescFormatOption2b","text-based description, announced by screen reader")+"</strong>."):this.hasOpenDesc?(I=this.translate("prefIntroDescription2","The current video has "),I+=" <strong>"+this.translate("prefDescFormatOption1b","an alternative described version")+"</strong>."):this.hasClosedDesc?(I=this.translate("prefIntroDescription2","The current video has "),I+=" <strong>"+this.translate("prefDescFormatOption2b","text-based description, announced by screen reader")+"</strong>."):I=this.translate("prefIntroDescriptionNone","The current video has no audio description in either format."),o=e("<p>",{html:I}),l=this.translate("prefIntroDescription3","Use the following form to set your preferences related to text-based audio description."),(this.hasOpenDesc||this.hasClosedDesc)&&(l+=" "+this.translate("prefIntroDescription4","After you save your settings, audio description can be toggled on/off using the Description button.")),h=e("<p>",{text:l}),s.append(j,q,o,h)}else"keyboard"==t?(n=this.translate("prefTitleKeyboard","Keyboard Preferences"),r=this.translate("prefIntroKeyboard1","The media player on this web page can be operated from anywhere on the page using keyboard shortcuts (see below for a list)."),r+=" "+this.translate("prefIntroKeyboard2","Modifier keys (Shift, Alt, and Control) can be assigned below."),r+=" "+this.translate("prefIntroKeyboard3","NOTE: Some key combinations might conflict with keys used by your browser and/or other software applications. Try various combinations of modifier keys to find one that works for you."),j=e("<p>",{text:r}),s.append(j)):"transcript"==t&&(n=this.translate("prefTitleTranscript","Transcript Preferences"));for(u=e("<div>").attr("role","group"),d="able-prefs-"+t,m=(f=this.mediaId+"-prefs-"+t)+"-legend",u.addClass(d).attr("id",f),"keyboard"===t?((g=e("<h2>"+this.translate("prefHeadingKeyboard1","Modifier keys used for shortcuts")+"</h2>")).attr("id",m),u.attr("aria-labelledby",m),u.append(g)):"descriptions"===t&&((g=e("<h2>"+this.translate("prefHeadingTextDescription","Text-based audio description")+"</h2>")).attr("id",m),u.attr("aria-labelledby",m),u.append(g)),p=0;p<a.length;p++)if(a[p].group==t&&a[p].label){if(b="able-"+(v=a[p].name),P=this.mediaId+"_"+v,y=e("<div>").addClass(b),"captions"===t){for(T=e('<label for="'+P+'"> '+a[p].label+"</label>"),k=e("<select>",{name:v,id:P}),"prefCaptions"!==v&&"prefCaptionsStyle"!==v&&k.on("change",function(){x=e(this).attr("name"),i.stylizeCaptions(i.$sampleCapsDiv,x)}),w=this.getCaptionsOptions(v),c=0;c<w.length;c++)"prefCaptionsPosition"===v?"overlay"===(A=w[c])?S=this.translate("captionsPositionOverlay","Overlay"):"below"===A&&(A=w[c],S=this.translate("captionsPositionBelow","Below video")):"prefCaptionsFont"===v||"prefCaptionsColor"===v||"prefCaptionsBGColor"===v?(A=w[c][0],S=w[c][1]):"prefCaptionsOpacity"===v?(A=w[c],S=w[c],S+="0%"===A?" ("+this.translate("transparent","transparent")+")":" ("+this.translate("solid","solid")+")"):(A=w[c],S=w[c]),C=e("<option>",{value:A,text:S}),this[v]===A&&C.prop("selected",!0),k.append(C);y.append(T,k)}else if("descriptions"===t){if(T=e('<label for="'+P+'"> '+a[p].label+"</label>"),"prefDescPause"===v||"prefDescVisible"===v)y.addClass("able-prefs-checkbox"),k=e("<input>",{type:"checkbox",name:v,id:P,value:"true"}),1===this[v]&&k.prop("checked",!0),y.append(k,T);else if(this.synth){if(y.addClass("able-prefs-select"),k=e("<select>",{name:v,id:P}),"prefDescVoice"===v&&this.descVoices.length){for(M=this.getPrefDescVoice(),c=0;c<this.descVoices.length;c++)A=this.descVoices[c].name,D=this.descVoices[c].lang.substring(0,2).toLowerCase(),S=A+" ("+this.descVoices[c].lang+")",C=e("<option>",{value:A,"data-lang":D,text:S}),M===A&&C.prop("selected",!0),k.append(C);this.$voiceSelectField=k}else if("prefDescPitch"==v?w=[0,.5,1,1.5,2]:"prefDescRate"==v?w=[.7,.8,.9,1,1.1,1.2,1.5,2,2.5,3]:"prefDescVolume"==v&&(w=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]),void 0!==w)for(c=0;c<w.length;c++)A=w[c],S=this.makePrefsValueReadable(v,A),C=e("<option>",{value:A,text:S}),this[v]==A&&C.prop("selected",!0),k.append(C),y.append(T,k);k.on("change",function(){i.announceDescriptionText("sample",i.currentSampleText)}),y.append(T,k)}}else T=e('<label for="'+P+'"> '+a[p].label+"</label>"),k=e("<input>",{type:"checkbox",name:v,id:P,value:"true"}),1===this[v]&&k.prop("checked",!0),"keyboard"===t&&k.on("change",function(){"prefAltKey"===(x=e(this).attr("name"))?($=".able-modkey-alt",N=i.tt.prefAltKey+" + "):"prefCtrlKey"===x?($=".able-modkey-ctrl",N=i.tt.prefCtrlKey+" + "):"prefShiftKey"===x&&($=".able-modkey-shift",N=i.tt.prefShiftKey+" + "),"prefNoKeyShortcuts"!==x?e(this).is(":checked")?e($).text(N):e($).text(""):e(this).is(":checked")?e(".able-modkey-item").addClass("hidden"):e(".able-modkey-item").removeClass("hidden")}),y.append(k,T);("prefDescVoice"!==v||this.descVoices.length)&&u.append(y)}if(s.append(u),"captions"===t)this.usingYouTubeCaptions||(this.$sampleCapsDiv=e("<div>",{class:"able-captions-sample"}).text(this.translate("sampleCaptionText","Sample caption text")),s.append(this.$sampleCapsDiv),this.stylizeCaptions(this.$sampleCapsDiv));else if("descriptions"===t)this.synth&&(this.$sampleDescDiv=e("<div>",{class:"able-desc-sample"}).text(this.translate("sampleDescriptionText","Adjust settings to hear this sample text.")),s.append(this.$sampleDescDiv),this.currentSampleText=this.translate("sampleDescriptionText","Adjust settings to hear this sample text."));else if("keyboard"===t){let t=1===this.prefNoKeyShortcuts?"able-modkey-item hidden":"able-modkey-item";for(B=e("<h2>",{text:this.translate("prefHeadingKeyboard2","Current keyboard shortcuts")}),L=e("<ul>"),E=[],O=[],p=0;p<this.controls.length;p++)"play"===this.controls[p]?(E.push(this.translate("play","Play")+"/"+this.translate("pause","Pause")),O.push("p</span> <em>"+this.translate("or","or")+'</em> <span class="able-help-modifiers"> '+this.translate("spacebar","spacebar"))):"restart"===this.controls[p]?(E.push(this.translate("restart","Restart")),O.push("s")):"previous"===this.controls[p]?(E.push(this.translate("prevTrack","Previous track")),O.push("b")):"next"===this.controls[p]?(E.push(this.translate("nextTrack","Next track")),O.push("n")):"rewind"===this.controls[p]?(E.push(this.translate("rewind","Rewind")),O.push("r")):"forward"===this.controls[p]?(E.push(this.translate("forward","Forward")),O.push("f")):"volume"===this.controls[p]?(E.push(this.translate("volume","Volume")),O.push("v</span> <em>"+this.translate("or","or")+'</em> <span class="able-modkey">1-9'),E.push(this.translate("mute","Mute")+"/"+this.translate("unmute","Unmute")),O.push("m")):"captions"===this.controls[p]?(this.captions.length>1?E.push(this.translate("captions","Captions")):this.captionsOn?E.push(this.translate("hideCaptions","Hide captions")):E.push(this.translate("showCaptions","Show captions")),O.push("c")):"descriptions"===this.controls[p]?(this.descOn?E.push(this.translate("turnOffDescriptions","Turn off descriptions")):E.push(this.translate("turnOnDescriptions","Turn on descriptions")),O.push("d")):"prefs"===this.controls[p]&&(E.push(this.translate("preferences","Preferences")),O.push("e"));for(p=0;p<O.length;p++)F='<span class="able-modkey-alt">',1===this.prefAltKey&&(F+=this.translate("prefAltKey","Alt")+" + "),F+="</span>",F+='<span class="able-modkey-ctrl">',1===this.prefCtrlKey&&(F+=this.translate("prefCtrlKey","Control")+" + "),F+="</span>",F+='<span class="able-modkey-shift">',1===this.prefShiftKey&&(F+=this.translate("prefShiftKey","Shift")+" + "),F+="</span>",F+='<span class="able-modkey">'+O[p]+"</span>",F+=" = "+E[p],V=e("<li>",{class:t,html:F}),L.append(V);F='<span class="able-modkey">'+this.translate("escapeKey","Escape")+"</span>",F+=" = "+this.translate("escapeKeyFunction","Close current dialog or popup menu"),V=e("<li>",{html:F}),L.append(V),s.append(B,L)}e("body").append(s),R=new AccessibleDialog(s,this.$prefsButton,n,i.tt.closeButtonLabel),W=e('<div class="able-prefs-buttons"></div>'),z=e('<button class="modal-button">'+this.translate("save","Save")+"</button>"),H=e('<button class="modal-button">'+this.translate("cancel","Cancel")+"</button>"),z.on("click",function(){R.hide(),i.savePrefsFromForm()}),H.on("click",function(){R.hide(),i.resetPrefsForm()}),W.append(z,H),s.append(W),"captions"!==t&&"transcript"!==t||u.attr("aria-labelledby",R.titleH1.attr("id")),"captions"===t?this.captionPrefsDialog=R:"descriptions"===t?this.descPrefsDialog=R:"keyboard"===t?this.keyboardPrefsDialog=R:"transcript"===t&&(this.transcriptPrefsDialog=R),e("div.able-prefs-form button.modalCloseButton").on("click",function(){i.resetPrefsForm()}),e("div.able-prefs-form").on("keydown",function(e){"Escape"===e.key&&i.resetPrefsForm()})},AblePlayer.prototype.getPrefDescVoice=function(){var e,t,i;if(e=this.selectedDescriptions?this.selectedDescriptions.language:this.captionLang?this.captionLang:this.lang,(t=this.getPref()).voices)for(i=0;i<t.voices.length;i++)if(t.voices[i].lang===e)return t.voices[i].name;return null},AblePlayer.prototype.rebuildDescPrefsForm=function(){var t,i,a,s;for(this.$voiceSelectField=e("#"+this.mediaId+"_prefDescVoice"),this.$voiceSelectField.empty(),t=0;t<this.descVoices.length;t++)a=(i=this.descVoices[t].name)+" ("+this.descVoices[t].lang+")",s=e("<option>",{value:i,"data-lang":this.descVoices[t].lang.substring(0,2).toLowerCase(),text:a}),this.prefDescVoice==i&&s.prop("selected",!0),this.$voiceSelectField.append(s)},AblePlayer.prototype.makePrefsValueReadable=function(e,t){if("prefDescPitch"===e){if(0===t)return this.translate("prefDescPitch1","Very low");if(.5===t)return this.translate("prefDescPitch2","Low");if(1===t)return this.translate("prefDescPitch3","Default");if(1.5===t)return this.translate("prefDescPitch4","High");if(2===t)return this.translate("prefDescPitch5","Very high")}else if("prefDescRate"===e){if(.7===t)return 1;if(.8===t)return 2;if(.9===t)return 3;if(1===t)return 4;if(1.1===t)return 5;if(1.2===t)return 6;if(1.5===t)return 7;if(2===t)return 8;if(2.5===t)return 9;if(3===t)return 10}else if("prefDescVolume"===e)return 10*t;return t},AblePlayer.prototype.resetPrefsForm=function(){var t,i,a,s;for(t=this.getPref(),i=this.getAvailablePreferences(),a=0;a<i.length;a++)-1!==(s=i[a].name).indexOf("Captions")&&"prefCaptions"!==s?e('select[name="'+s+'"]').val(t.preferences[s]):1===this[s]?e('input[name="'+s+'"]').prop("checked",!0):e('input[name="'+s+'"]').prop("checked",!1);this.stylizeCaptions(this.$sampleCapsDiv)},AblePlayer.prototype.savePrefsFromForm=function(){var t,i,a,s,n,r,o,l,h,p,c,u;o=0,h=0,p=!1,t=this.getPref(),i=this.getAvailablePreferences();for(var d=0;d<i.length;d++)if(i[d].label)if(a=i[d].name,s=this.mediaId+"_"+a,"prefDescVoice"===a){void 0===t.voices&&(t.voices=[]),n=this.mediaId+"_prefDescVoice",this.prefDescVoice=e("select#"+n).find(":selected").val(),this.prefDescVoiceLang=e("select#"+n).find(":selected").attr("data-lang"),l=!1;for(var f=0;f<t.voices.length;f++)t.voices[f].lang===this.prefDescVoiceLang&&(l=!0,t.voices[f].name=this.prefDescVoice);l||(r={name:this.prefDescVoice,lang:this.prefDescVoiceLang},t.voices.push(r)),o++}else"prefDescMethod"==a?(this.prefDescMethod="video",this.prefDescMethod!==t.preferences.prefDescMethod&&(t.preferences.prefDescMethod=this.prefDescMethod,o++)):-1!==a.indexOf("Captions")&&"prefCaptions"!==a?(u=e('select[id="'+s+'"]').val(),t.preferences[a]!==u&&(t.preferences[a]=u,this[a]=u,o++,h++),"prefCaptionsSize"===a&&(p=!0,c=u)):-1!==a.indexOf("Desc")&&"prefDescPause"!==a&&"prefDescVisible"!==a?(u=e('select[id="'+s+'"]').val(),t.preferences[a]!==u&&(t.preferences[a]=u,this[a]=u,o++)):e('input[id="'+s+'"]').is(":checked")?(t.preferences[a]=1,1===this[a]||(this[a]=1,o++)):(t.preferences[a]=0,1===this[a]&&(this[a]=0,o++));if(o>0?(this.setPrefs(t),this.showAlert(this.translate("prefSuccess","Your changes have been saved."))):this.showAlert(this.translate("prefNoChange","You didn't make any changes")),"youtube"===this.player&&void 0!==this.usingYouTubeCaptions&&this.usingYouTubeCaptions&&p&&this.youTubePlayer.setOption("captions","fontSize",this.translatePrefs("size",c,"youtube")),AblePlayerInstances.length>1)for(d=0;d<AblePlayerInstances.length;d++)AblePlayerInstances[d].updatePlayerPrefs(),AblePlayerInstances[d].loadCurrentPreferences(),AblePlayerInstances[d].resetPrefsForm(),h>0&&(AblePlayerInstances[d].stylizeCaptions(AblePlayerInstances[d].$captionsDiv),void 0!==AblePlayerInstances[d].$descDiv&&AblePlayerInstances[d].stylizeCaptions(AblePlayerInstances[d].$descDiv));else this.updatePlayerPrefs(),h>0&&(this.stylizeCaptions(this.$captionsDiv),void 0!==this.$descDiv&&this.stylizeCaptions(this.$descDiv))},AblePlayer.prototype.updatePlayerPrefs=function(){this.$transcriptDiv&&(1===this.prefTabbable?this.$transcriptDiv.find("span.able-transcript-seekpoint").attr("tabindex","0"):this.$transcriptDiv.find("span.able-transcript-seekpoint").removeAttr("tabindex"),0===this.prefHighlight&&this.$transcriptDiv.find("span").removeClass("able-highlight")),this.updateCaption(),this.initDescription()},AblePlayer.prototype.usingModifierKeys=function(e){return!(1===this.prefAltKey&&!e.altKey)&&(!(1===this.prefCtrlKey&&!e.ctrlKey)&&!(1===this.prefShiftKey&&!e.shiftKey))}}(jQuery),function(e){function actList(e,t){for(var i=[],a=0;a<t.length;a++)i.push(act(e,t[a]));return i}function act(e,t){var i=t(e);if(null!==e.error)throw e.error;return i}function updatePosition(e,t){for(var i=0;i<t.length;i++)"\n"===t[i]?(e.column=1,e.line+=1):e.column+=1}function cut(e,t){var i=e.text.substring(0,t);return updatePosition(e,i),e.text=e.text.substring(t),i}function cutLine(e,t){var i,a=e.text.indexOf("\n");return-1===a?(updatePosition(e,i=e.text),e.text=""):(i=e.text.substring(0,a),updatePosition(e,i+"\n"),e.text=e.text.substring(a+1)),i}function peekLine(e){var t=e.text.indexOf("\n");return-1===t?e.text:e.text.substring(0,t)}function parseFileBody(e){actList(e,[eatOptionalBOM,eatSignature]);var t=e.text[0];" "===t||"\t"===t||"\n"===t?actList(e,[eatUntilEOLInclusive,parseMetadataHeaders,eatAtLeast1EmptyLines,parseCuesAndComments]):e.error="WEBVTT signature not followed by whitespace."}function parseMetadataHeaders(e){for(;;){var t=peekLine(e);if(-1!==t.indexOf("--\x3e"))return;if(0===t.length)return;var i=act(e,getMetadataKeyValue);e.metadata[i[0]]=i[1],act(e,eatUntilEOLInclusive)}}function nextSpaceOrNewline(e){var t=[],i=e.indexOf(" ");i>=0&&t.push(i);var a=e.indexOf("\t");a>=0&&t.push(a);var s=e.indexOf("\n");return s>=0&&t.push(s),Math.min.apply(null,t)}function getMetadataKeyValue(e){var t=e.text.indexOf("\n"),i=cut(e,t),a=i.indexOf(":");return-1===a?void(e.error="Missing colon."):[i.substring(0,a),i.substring(a+1)]}function getSettingsKeyValue(e){var t=cut(e,nextSpaceOrNewline(e.text)),i=t.indexOf(":");return-1===i?void(e.error="Missing colon."):[t.substring(0,i),t.substring(i+1)]}function parseCuesAndComments(e){for(;;){var t=peekLine(e);if(0!==t.indexOf("NOTE")||4!==t.length&&" "!==t[4]&&"\t"!==t[4])if(0===t.trim().length&&e.text.length>0)act(e,eatEmptyLines);else{if(!(t.trim().length>0))return;act(e,parseCue)}else actList(e,[eatComment,eatEmptyLines])}}function parseCue(e){var t,i=peekLine(e);if(-1===i.indexOf("--\x3e")&&(t=cutLine(e),-1===(i=peekLine(e)).indexOf("--\x3e")))return"Invalid WebVTT file: "+e.src+"\n","Line: "+e.line+", ","Column: "+e.column+"\n",void(console.warn||console.log);var a=actList(e,[getTiming,eatAtLeast1SpacesOrTabs,eatArrow,eatAtLeast1SpacesOrTabs,getTiming]),s=a[0],n=a[4];if(s>=n)e.error="Start time is not sooner than end time.";else{act(e,eatSpacesOrTabs);var r=act(e,getCueSettings);cut(e,1);var o=act(e,getCuePayload);void 0===t&&(t=e.cues.length+1),e.cues.push({id:t,start:s,end:n,settings:r,components:o})}}function getCueSettings(e){for(var t={};e.text.length>0&&"\n"!==e.text[0];){var i=act(e,getSettingsKeyValue);t[i[0]]=i[1],act(e,eatSpacesOrTabs)}return t}function getCuePayload(t){for(var i={type:"internal",tagName:"",value:"",classes:[],annotation:"",parent:null,children:[],language:""},a=i,s=[];t.text.length>0;){var n=peekLine(t);if(-1!==n.indexOf("--\x3e")||/^\s+$/.test(n))break;if(t.text.length>=2&&"\n"===t.text[0]&&"\n"===t.text[1]){cut(t,2);break}var r=getCueToken(t);if("string"===r.type)a.children.push(r);else if("startTag"===r.type)r.type=r.tagName,r.parent=a,-1!==e.inArray(r.tagName,["i","b","u","ruby"])||"rt"===r.tagName&&"ruby"===a.tagName?(s.length>0&&(a.language=s[s.length-1]),a.children.push(r),a=r):"c"===r.tagName||"v"===r.tagName?(r.value=r.annotation,s.length>0&&(a.language=s[s.length-1]),a.children.push(r),a=r):"lang"===r.tagName&&(s.push(r.annotation),s.length>0&&(a.language=s[s.length-1]),a.children.push(r),a=r);else if("endTag"===r.type)r.tagName===a.type&&-1!==e.inArray(r.tagName,["c","i","b","u","ruby","rt","v"])?a=a.parent:"lang"===r.tagName&&"lang"===a.type?(a=a.parent,s.pop()):"ruby"===r.tagName&&"rt"===a.type&&(a=a.parent.parent);else if("timestampTag"===r.type){var o={text:r.value,error:null,metadata:{},cues:[],line:1,column:1};try{var l=act(o,getTiming);0===o.text.length&&(r.value=l,a.push(r))}catch(e){}}}return i}function getCueToken(e){for(var t="data",i=[],a="",s={type:"",tagName:"",value:"",classes:[],annotation:"",children:[]};;){var n;if(n=e.text.length>=2&&"\n"===e.text[0]&&"\n"===e.text[1]?"":e.text.length>0?e.text[0]:"","data"===t)if("&"===n)a="&",t="escape";else if("<"===n){if(0!==i.length)return s.type="string",s.value=i.join(""),s;t="tag"}else{if(""===n)return{type:"string",value:i.join("")};i.push(n)}else if("escape"===t)if("&"===n)i.push(a),a="&";else if(n.match(/[0-9a-z]/))a+=n;else if(";"===n)"&amp"===a?i.push("&"):"&lt"===a?i.push("<"):"&gt"===a?i.push(">"):"&lrm"===a?i.push(""):"&rlm"===a?i.push(""):"&nbsp"===a?i.push(""):(i.push(a),i.push(";")),t="data";else{if("<"===n||""===n)return i.push(a),s.type="string",s.value=i.join(""),s;if("\t"===n||"\n"===n||"\f"===n||" "===n)return i.push(a),s.type="string",s.value=i.join(""),s;i.push(a),t="data"}else if("tag"===t)if("\t"===n||"\n"===n||"\f"===n||" "===n)t="startTagAnnotation";else if("."===n)t="startTagClass";else if("/"===n)t="endTag";else if(n.match("[0-9]"))t="timestampTag",i.push(n);else{if(">"===n){cut(e,1);break}if(""===n)return s.tagName="",s.type="startTag",s;i.push(n),t="startTag"}else if("startTag"===t)if("\t"===n||"\f"===n||" "===n)t="startTagAnnotation";else if("\n"===n)a=n,t="startTagAnnotation";else if("."===n)t="startTagClass";else{if(">"===n)return cut(e,1),s.tagName=i.join(""),s.type="startTag",s;if(""===n)return s.tagName=i.join(""),s.type="startTag",s;i.push(n)}else if("startTagClass"===t)if("\t"===n||"\f"===n||" "===n)s.classes.push(a),a="",t="startTagAnnotation";else if("\n"===n)s.classes.push(a),a=n,t="startTagAnnotation";else if("."===n)s.classes.push(a),a="";else{if(">"===n)return cut(e,1),s.classes.push(a),s.type="startTag",s.tagName=i.join(""),s;if(""===n)return s.classes.push(a),s.type="startTag",s.tagName=i.join(""),s;a+="c"}else if("startTagAnnotation"===t){if(">"===n)return cut(e,1),a=a.trim().replace(/ +/," "),s.type="startTag",s.tagName=i.join(""),s.annotation=a,s;if(""===n)return a=a.trim().replace(/ +/," "),s.type="startTag",s.tagName=i.join(""),s.annotation=a,s;a+=n}else if("endTag"===t){if(">"===n)return cut(e,1),s.type="endTag",s.tagName=i.join(""),s;if(""===n)return s.type="endTag",s.tagName=i.join(""),s;i.push(n)}else{if("timestampTag"!==t)throw"Unknown tokenState "+t;if(">"===n)return cut(e,1),s.type="timestampTag",s.name=i.join(""),s;if(""===n)return s.type="timestampTag",s.name=i.join(""),s;i.push(n)}cut(e,1)}}function eatComment(e){if(-1===cutLine(e).indexOf("--\x3e"))for(;;){var t=peekLine(e);if(0===t.trim().length)return;if(-1!==t.indexOf("--\x3e"))return void(e.error="Invalid syntax: --\x3e in comment.");cutLine(e)}else e.error="Invalid syntax: --\x3e in NOTE line."}function eatOptionalBOM(e){"\ufeff"===e.text[0]&&cut(e,1)}function eatSignature(e){"WEBVTT"===e.text.substring(0,6)?cut(e,6):e.error="Invalid signature."}function eatArrow(e){e.text.length<3||"--\x3e"!==e.text.substring(0,3)?e.error="Missing --\x3e":cut(e,3)}function eatSpacesOrTabs(e){for(;"\t"===e.text[0]||" "===e.text[0];)cut(e,1)}function eatAtLeast1SpacesOrTabs(e){for(var t=0;"\t"===e.text[0]||" "===e.text[0];)cut(e,1),t+=1;0===t&&(e.error="Missing space.")}function eatUntilEOLInclusive(e){var t=e.text.indexOf("\n");-1===t?e.error="Missing EOL.":cut(e,t+1)}function eatEmptyLines(e){for(;e.text.length>0;){if(0!==peekLine(e).trim().length)break;cutLine(e)}}function eatAtLeast1EmptyLines(e){for(var t=0;e.text.length>0;){if(0!==peekLine(e).trim().length)break;cutLine(e),t+=1}0===t&&(e.error="Missing empty line.")}function getTiming(e){var t=nextSpaceOrNewline(e.text);if(-1!==t){var i=cut(e,t),a=/((\d+):)?((\d\d):)(\d\d).(\d\d\d)|(\d+).(\d\d\d)/.exec(i);if(a){var s=0,n=a[2],r=a[4];if(r){if(parseInt(r,10)>59)return void(e.error="Invalid minute range");n&&(s+=3600*parseInt(n,10)),s+=60*parseInt(r,10);var o=a[5];if(parseInt(o,10)>59)return void(e.error="Invalid second range");s+=parseInt(o,10),s+=parseInt(a[6],10)/1e3}else s+=parseInt(a[7],10),s+=parseInt(a[8],10)/1e3;return s}e.error="Unable to parse timestamp"}else e.error("Missing timing.")}AblePlayer.prototype.parseWebVTT=function(e){let t=e.src,i=e.text;i=i.replace(/(\r\n|\n|\r)/g,"\n");var a={src:t,text:i,error:null,metadata:{},cues:[],line:1,column:1};try{act(a,parseFileBody)}catch(e){console.warn||console.log}return a}}(jQuery),function(e){AblePlayer.prototype.injectPlayerCode=function(){var t;this.$mediaContainer=this.$media.wrap('<div class="able-media-container"></div>').parent(),this.$ableDiv=this.$mediaContainer.wrap('<div class="able"></div>').parent(),this.$ableWrapper=this.$ableDiv.wrap('<div class="able-wrapper"></div>').parent(),this.$ableWrapper.addClass("able-skin-"+this.skin),"video"===this.mediaType&&("image"==this.iconType||"youtube"===this.player&&!this.hasPoster||this.injectBigPlayButton()),t=e("<div>"),"video"===this.mediaType?t.addClass("able-vidcap-container"):"audio"===this.mediaType&&(t.addClass("able-audcap-container"),t.addClass("captions-off")),this.injectPlayerControlArea(),this.$captionsContainer=this.$mediaContainer.wrap(t).parent(),this.injectAlert(this.$ableDiv),this.injectPlaylist(),this.injectAudioPoster(),this.injectOffscreenHeading()},AblePlayer.prototype.injectAudioPoster=function(){if("audio"===this.mediaType&&this.hasPoster){audioPoster=DOMPurify.sanitize(this.audioPoster),audioPosterAlt=DOMPurify.sanitize(this.audioPosterAlt);let e=document.createElement("img");e.setAttribute("src",audioPoster),e.setAttribute("alt",audioPosterAlt),this.$audioWrapper=this.$playerDiv.wrap('<div class="able-audio-wrapper">').parent(),this.$audioWrapper.prepend(e)}},AblePlayer.prototype.injectOffscreenHeading=function(){var t;"0"==this.playerHeadingLevel||(void 0===this.playerHeadingLevel&&(this.playerHeadingLevel=this.getNextHeadingLevel(this.$ableDiv)),t="h"+this.playerHeadingLevel.toString(),this.$headingDiv=e("<"+t+">"),this.$ableDiv.prepend(this.$headingDiv),this.$headingDiv.addClass("able-offscreen"),this.$headingDiv.text(this.translate("playerHeading","Media player")))},AblePlayer.prototype.injectBigPlayButton=function(){var t=this;this.$bigPlayButton=e("<button>",{class:"able-big-play-button","aria-hidden":!1,"aria-label":this.translate("play","Play"),type:"button",tabindex:0}),this.getIcon(this.$bigPlayButton,"play"),this.$bigPlayButton.on("click",function(){t.handlePlay()}),this.$mediaContainer.append(this.$bigPlayButton)},AblePlayer.prototype.injectPlayerControlArea=function(){this.$playerDiv=e("<div>",{class:"able-player",role:"region","aria-label":"audio"===this.mediaType?this.translate("audioPlayer","audio player"):this.translate("videoPlayer","video player")}),this.$playerDiv.addClass("able-"+this.mediaType),this.hasPlaylist&&this.showNowPlaying&&(this.$nowPlayingDiv=e("<div>",{class:"able-now-playing","aria-live":"assertive","aria-atomic":"true"})),this.$controllerDiv=e("<div>",{class:"able-controller"}),this.$controllerDiv.addClass("able-"+this.iconColor+"-controls"),this.$statusBarDiv=e("<div>",{class:"able-status-bar"}),this.$timer=e("<span>",{class:"able-timer"}),this.$elapsedTimeContainer=e("<span>",{class:"able-elapsedTime",text:"0:00"}),this.$durationContainer=e("<span>",{class:"able-duration"}),this.$timer.append(this.$elapsedTimeContainer).append(this.$durationContainer),this.$speed=e("<span>",{class:"able-speed","aria-live":"assertive","aria-atomic":"true"}).text(this.translate("speed","Speed")+": 1x"),this.$status=e("<span>",{class:"able-status","aria-live":"polite"}),this.$statusBarDiv.append(this.$timer,this.$speed,this.$status),this.showNowPlaying?this.$playerDiv.append(this.$nowPlayingDiv,this.$controllerDiv,this.$statusBarDiv):this.$playerDiv.append(this.$controllerDiv,this.$statusBarDiv),"video"===this.mediaType?this.$ableDiv.append(this.$playerDiv):this.$ableDiv.prepend(this.$playerDiv)},AblePlayer.prototype.injectTextDescriptionArea=function(){this.$descDiv=e("<div>",{class:"able-descriptions"}),this.$descDiv.attr({"aria-live":"assertive","aria-atomic":"true"}),this.$descDiv.hide(),this.$ableDiv.append(this.$descDiv)},AblePlayer.prototype.getDefaultWidth=function(e){let t=window.innerWidth;return"transcript"===e?t<=450?t:450:"sign"===e?t<=400?t:400:void 0},AblePlayer.prototype.rePositionDraggableWindow=function(e){let t,i;t=this.getPref(),i="transcript"===e?this.$transcriptArea:this.$signWindow,"transcript"===e&&i?(void 0!==t.transcript&&(this.prevTranscriptPosition=t.transcript),i.css({top:0,left:0})):"sign"===e&&i&&(void 0!==t.sign&&(this.prevSignPosition=t.sign),i.css({top:0,right:0,left:"auto"}))},AblePlayer.prototype.positionDraggableWindow=function(t,i){var a,s,n,r,o,l;a=this.getPref(),(n="transcript"===t?this.$transcriptArea:this.$signWindow)&&("transcript"===t?(void 0!==a.transcript&&(s=a.transcript),this.prevTranscriptPosition&&(s=this.prevTranscriptPosition,this.prevTranscriptPosition=!1)):"sign"===t&&(void 0!==a.sign&&(s=a.sign),this.prevSignPosition&&(s=this.prevSignPosition,this.prevSignPosition=!1)),void 0===s||e.isEmptyObject(s)?(r=this.getOptimumPosition(t,i),void 0===i&&(i=this.getDefaultWidth(t)),n.css({position:r[0],width:i,"z-index":r[3]}),"absolute"===r[0]&&n.css({top:r[1]+"px",left:r[2]+"px"})):(n.css({position:s.position,width:s.width,"z-index":s.zindex}),"absolute"===s.position&&(n.css({top:s.top,left:s.left}),topPosition=n.offset().top,leftPosition=n.offset().left,o=window.innerWidth,l=n.width(),topPosition<0&&n.css({top:s.top-topPosition}),leftPosition<0&&!this.restoringAfterFullscreen&&n.css({left:s.left-leftPosition}),o-leftPosition<30&&n.css({left:o-l})),this.updateZIndex(t)))},AblePlayer.prototype.getOptimumPosition=function(t,i){var a,s,n,r,o;return void 0===i&&(i=this.getDefaultWidth(t)),a=[],s=this.$ableDiv.width(),n=this.$ableDiv.offset().left,r=e(window).width(),o=0,"transcript"===t?void 0!==this.$signWindow&&this.$signWindow.is(":visible")&&(o=this.$signWindow.width()+5):"sign"===t&&void 0!==this.$transcriptArea&&this.$transcriptArea.is(":visible")&&(o=this.$transcriptArea.width()+5),i<r-(n+s+5+o)?(a[0]="absolute",a[1]=0,a[2]=s+o+5):i+5<n?(a[0]="absolute",a[1]=0,a[2]=n-i-5):a[0]="relative",a},AblePlayer.prototype.injectAlert=function(t){this.$alertBox=e('<div role="alert"></div>'),this.$alertBox.addClass("able-alert"),this.$alertBox.hide(),e("<span></span>").appendTo(this.$alertBox);var i=e('<button type="button"></button>');i.attr("aria-label",this.translate("dismissButton","Dismiss")),i.text(""),i.appendTo(this.$alertBox),i.on("click",function(t){e(this).parent("div").hide()}),this.$alertBox.appendTo(t),this.$srAlertBox||(this.$srAlertBox=e('<div role="alert"></div>'),this.$srAlertBox.addClass("able-screenreader-alert"),this.$srAlertBox.appendTo(t))},AblePlayer.prototype.injectPlaylist=function(){if(!0===this.playlistEmbed){var e=this.$playlistDom.clone();e.insertBefore(this.$statusBarDiv),this.$playlist=e.find("li")}},AblePlayer.prototype.createPopup=function(t,i){var a,s,n,r,o,l,h,p,c,u,d,f,g,m;if(a=this,s=e("<ul>",{id:this.mediaId+"-"+t+"-menu",class:"able-popup",role:"menu"}).hide(),"captions"===t&&s.addClass("able-popup-captions"),"prefs"===t)if(this.prefCats.length>1){for(n=0;n<this.prefCats.length;n++)o=this.prefCats[n],g=!!(a.hasDescTracks||a.hasOpenDesc||a.hasClosedDesc),m=null!==a.transcriptType,"descriptions"===o&&!g||"transcript"===o&&!m||(r=e("<li></li>",{role:"menuitem",tabindex:"-1"}),"captions"===o?r.text(this.translate("prefMenuCaptions","Captions")):"descriptions"===o?r.text(this.translate("prefMenuDescriptions","Descriptions")):"keyboard"===o?r.text(this.translate("prefMenuKeyboard","Keyboard")):"transcript"===o&&r.text(this.translate("prefMenuTranscript","Transcript")),r.on("click",function(){l=e(this).text(),a.showingPrefsDialog=!0,a.setFullscreen(!1),l===a.tt.prefMenuCaptions?a.captionPrefsDialog.show():l===a.tt.prefMenuDescriptions?a.descPrefsDialog.show():l===a.tt.prefMenuKeyboard?a.keyboardPrefsDialog.show():l===a.tt.prefMenuTranscript&&a.transcriptPrefsDialog.show(),a.closePopups(),a.showingPrefsDialog=!1}),s.append(r));this.$prefsButton.attr("data-prefs-popup","menu")}else 1==this.prefCats.length&&this.$prefsButton.attr("data-prefs-popup",this.prefCats[0]);else if("captions"===t||"chapters"===t){for(h=!1,n=0;n<i.length;n++)p=i[n],("captions"!==t||"html5"!==this.player||void 0!==p.cues)&&(r=e("<li></li>",{role:"menuitemradio",tabindex:"-1",lang:p.language}),p.def&&1==this.prefCaptions?(r.attr("aria-checked","true"),h=!0):r.attr("aria-checked","false"),"captions"==t?(r.text(p.label),r.on("click",this.getCaptionClickFunction(p))):"chapters"==t&&(r.text(this.flattenCueForCaption(p)+" - "+this.formatSecondsAsColonTime(p.start)),r.on("click",this.getChapterClickFunction(p.start))),s.append(r));"captions"===t&&(r=e("<li></li>",{role:"menuitemradio",tabindex:"-1"}).text(this.translate("captionsOff","Captions off")),0===this.prefCaptions?(r.attr("aria-checked","true"),h=!0):r.attr("aria-checked","false"),r.on("click",this.getCaptionOffFunction()),s.append(r))}else if("transcript-window"===t||"sign-window"===t)for((c=[]).push({name:"move",label:this.translate("windowMove","Move")}),c.push({name:"resize",label:this.translate("windowResize","Resize")}),c.push({name:"close",label:this.translate("windowClose","Close")}),n=0;n<c.length;n++)(r=e("<li></li>",{role:"menuitem",tabindex:"-1","data-choice":c[n].name})).text(c[n].label),r.on("click",function(i){if(i.stopPropagation(),void 0!==i.button&&0!==i.button)return!1;a.windowMenuClickRegistered||a.finishingDrag||(a.windowMenuClickRegistered=!0,a.handleMenuChoice(t.substring(0,t.indexOf("-")),e(this).attr("data-choice"),i))}),s.append(r);return"captions"!==t||h?"chapters"===t&&(s.find('li:contains("'+this.defaultChapter+'")')?s.find('li:contains("'+this.defaultChapter+'")').attr("aria-checked","true").addClass("able-focus"):s.find("li").first().attr("aria-checked","true").addClass("able-focus")):s.find("li[lang="+this.captionLang+"]")?s.find("li[lang="+this.captionLang+"]").attr("aria-checked","true"):s.find("li").last().attr("aria-checked","true"),s.on("keydown",function(t){(u=e(this).find("li:focus")).is(":first-child")?(d=e(this).find("li").last(),f=u.next()):u.is(":last-child")?(d=u.prev(),f=e(this).find("li").first()):(d=u.prev(),f=u.next()),"Tab"===t.key?t.shiftKey?(u.removeClass("able-focus"),d.trigger("focus").addClass("able-focus")):(u.removeClass("able-focus"),f.trigger("focus").addClass("able-focus")):"ArrowDown"===t.key||"ArrowRight"===t.key?(u.removeClass("able-focus"),f.trigger("focus").addClass("able-focus")):"ArrowUp"==t.key||"ArrowLeft"===t.key?(u.removeClass("able-focus"),d.trigger("focus").addClass("able-focus")):" "===t.key||"Enter"===t.key?u.trigger("click"):"Escape"===t.key&&(u.removeClass("able-focus"),a.closePopups(),t.stopPropagation),t.preventDefault()}),this.$controllerDiv.append(s),s},AblePlayer.prototype.closePopups=function(){var e=this;this.chaptersPopup&&this.chaptersPopup.is(":visible")&&(this.chaptersPopup.hide(),this.$chaptersButton.attr("aria-expanded","false").trigger("focus")),this.captionsPopup&&this.captionsPopup.is(":visible")&&(this.captionsPopup.hide(),this.$ccButton.attr("aria-expanded","false"),this.waitThenFocus(this.$ccButton)),this.prefsPopup&&this.prefsPopup.is(":visible")&&!this.hidingPopup&&(this.hidingPopup=!0,this.prefsPopup.hide(),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$prefsButton.attr("aria-expanded","false"),this.showingPrefsDialog||this.waitThenFocus(e.$prefsButton),setTimeout(function(){e.hidingPopup=!1},100)),this.$volumeSlider&&this.$volumeSlider.is(":visible")&&(this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeButton.attr("aria-expanded","false").trigger("focus")),this.$transcriptPopup&&this.$transcriptPopup.is(":visible")&&(this.hidingPopup=!0,this.$transcriptPopup.hide(),this.$transcriptPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$transcriptPopupButton.attr("aria-expanded","false").trigger("focus"),setTimeout(function(){e.hidingPopup=!1},100)),this.$signPopup&&this.$signPopup.is(":visible")&&(this.$signPopup.hide(),this.$signPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$signPopupButton.attr("aria-expanded","false").trigger("focus"))},AblePlayer.prototype.setupPopups=function(e){var t,i;if(t=[],void 0===e&&t.push("prefs"),"captions"!==e&&void 0!==e||this.captions.length>0&&t.push("captions"),"chapters"!==e&&void 0!==e||this.chapters.length>0&&this.useChaptersButton&&t.push("chapters"),"transcript-window"===e&&"popup"===this.transcriptType&&t.push("transcript-window"),"sign-window"===e&&this.hasSignLanguage&&t.push("sign-window"),t.length>0){0;for(var a=0;a<t.length;a++){var s=t[a];if("prefs"==s)this.prefsPopup=this.createPopup("prefs");else if("captions"==s)void 0!==this.captionsPopup&&this.captionsPopup||(this.captionsPopup=this.createPopup("captions",this.captions));else if("chapters"==s)i=this.selectedChapters?this.selectedChapters.cues:this.chapters.length>=1?this.chapters[0].cues:[],void 0!==this.chaptersPopup&&this.chaptersPopup||(this.chaptersPopup=this.createPopup("chapters",i));else{if("transcript-window"==s)return this.createPopup("transcript-window");if("sign-window"==s)return this.createPopup("sign-window")}}}},AblePlayer.prototype.provideFallback=function(){var t,i;if(!this.usingFallback){if(this.usingFallback=!0,this.testFallback||(this.testFallback=1),void 0===this.$media&&(this.$media=e(this.media)),this.$media.attr("id")?this.mediaId=this.$media.attr("id"):this.mediaId="media"+Math.floor(1e9*Math.random()).toString(),this.hasFallback=!1,this.$media.children().length)for(t=0;t<this.$media.children().length&&!this.hasFallback;)"SOURCE"!==this.$media.children()[t].tagName&&"TRACK"!==this.$media.children()[t].tagName&&(this.hasFallback=!0),t++;if(this.hasFallback||(i=e("<p>").text("Media player unavailable."),this.$media.append(i)),this.$media.attr("width")&&this.$media.css("width",this.$media.attr("width")+"px"),this.$media.attr("height")&&this.$media.css("height",this.$media.attr("height")+"px"),this.$media.removeAttr("data-able-player"),this.$media.prop("controls",!0),2==this.testFallback){if(e(this.$media).replaceWith(e('<foobar id="foobar-'+this.mediaId+'">')),this.$newFallbackElement=e("#foobar-"+this.mediaId),this.$media.children().length)for(t=this.$media.children().length-1;t>=0;)this.$newFallbackElement.prepend(e(this.$media.children()[t])),t--;this.hasFallback||this.$newFallbackElement.append(i)}}},AblePlayer.prototype.calculateControlLayout=function(){var e,t,i;return(e=[])[0]=[],e[1]=[],"legacy"===this.skin&&(e[2]=[],e[3]=[]),e[0].push("play"),e[0].push("restart"),e[0].push("rewind"),e[0].push("forward"),"legacy"===this.skin&&e[1].push("seek"),this.hasPlaylist&&(this.skin,e[0].push("previous"),e[0].push("next")),this.isPlaybackRateSupported()?(t=!0,"legacy"===this.skin&&(e[2].push("slower"),e[2].push("faster"))):t=!1,i=0,this.hasCaptions&&(i++,"legacy"===this.skin?e[2].push("captions"):e[1].push("captions")),this.hasSignLanguage&&(i++,"legacy"===this.skin?e[2].push("sign"):e[1].push("sign")),"video"===this.mediaType&&(this.hasOpenDesc||this.hasClosedDesc)&&(i++,"legacy"===this.skin?e[2].push("descriptions"):e[1].push("descriptions")),null===this.transcriptType||this.hideTranscriptButton||(i++,"legacy"===this.skin?e[2].push("transcript"):e[1].push("transcript")),this.hasChapters&&this.useChaptersButton&&(i++,"legacy"===this.skin?e[2].push("chapters"):e[1].push("chapters")),"2020"==this.skin&&i>0&&e[1].push("pipe"),t&&"2020"===this.skin&&(e[1].push("faster"),e[1].push("slower"),e[1].push("pipe")),"legacy"===this.skin?e[3].push("preferences"):e[1].push("preferences"),"video"===this.mediaType&&this.allowFullscreen&&this.nativeFullscreenSupported()&&("legacy"===this.skin?e[3].push("fullscreen"):e[1].push("fullscreen")),this.browserSupportsVolume()?(this.volumeButton="volume-"+this.getVolumeName(this.volume),this.skin,e[1].push("volume")):this.volume=!1,e},AblePlayer.prototype.addControls=function(){var t,i,a,s,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b,P,T,k,w,C,A,D,S,x;t=this,a=(i=this.calculateControlLayout()).length,P=this.mediaId+"-tooltip",this.$tooltipDiv=e("<div>",{id:P,class:"able-tooltip"}).hide(),this.$controllerDiv.append(this.$tooltipDiv),"2020"==this.skin&&(l=e('<div class="able-seekbar"></div>'),h=this.mediaType+" "+this.translate("seekbarLabel","timeline"),this.$controllerDiv.append(l),this.seekBar=new AccessibleSlider(l,"horizontal",100,0,this.duration,this.seekInterval,h,"seekbar",!0,"visible"));let $=e('<div class="able-control-row"></div>');for(this.$controllerDiv.append($),s=0;s<a;s++){for(r=i[s],o=e("<div>",s%2==0?{class:"able-left-controls"}:{class:"able-right-controls"}),$.append(o),n=0;n<r.length;n++){if("seek"===(c=r[n]))l=e('<div class="able-seekbar"></div>'),h=this.mediaType+" "+this.translate("seekbarLabel","timeline"),o.append(l),void 0!==this.duration&&0!==this.duration||(this.duration=60,this.elapsed=0),this.seekBar=new AccessibleSlider(l,"horizontal",100,0,this.duration,this.seekInterval,h,"seekbar",!0,"visible");else if("pipe"===c)(p=e("<span>",{tabindex:"-1","aria-hidden":"true",class:"able-pipe"})).append("|"),o.append(p);else{u=this.getButtonTitle(c),d=e("<div>",{role:"button",tabindex:"0",class:"able-button-handler-"+c}),"volume"!==c&&"preferences"!==c&&"captions"!==c||("preferences"==c?(this.prefCats=this.getPreferencesGroups(),this.prefCats.length>1?(x=this.mediaId+"-prefs-menu",d.attr({"aria-controls":x,"aria-haspopup":"menu","aria-expanded":"false"})):1===this.prefCats.length&&d.attr({"aria-haspopup":"dialog"})):"volume"===c?(x=this.mediaId+"-volume-slider",d.attr({"aria-controls":x,"aria-expanded":"false"})):"captions"===c&&this.captions&&(this.captions.length>1?d.attr("aria-expanded","false"):d.attr("aria-pressed","false")));var N=c;"faster"===c&&"animals"===this.speedIcons&&(N="rabbit"),"slower"===c&&"animals"===this.speedIcons&&(N="turtle"),"volume"===c?this.getIcon(d,this.volumeButton):("fullscreen"===N&&(N=this.fullscreen?"fullscreen-collapse":"fullscreen-expand"),this.getIcon(d,N)),this.setText(d,u),d.on("mouseenter focus",function(i){clearTimeout(D),f=e(this).attr("aria-label"),g=e(this).position(),m=e(this).height(),v=e(this).width(),b=t.$controllerDiv.width(),g.right=b-g.left-v,T=g.top+m+5,y=e(this).parent().hasClass("able-right-controls")?"right":"left",w=AblePlayer.localGetElementById(d[0],P).text(f).width(),"left"==y?((k=g.left-w/2)<0&&(k=2),C={left:k+"px",right:"",top:T+"px"}):((k=g.right-w/2)<0&&(k=2),C={left:"",right:k+"px",top:T+"px"}),A=AblePlayer.localGetElementById(d[0],P).text(f).css(C),t.showTooltip(A),e(this).on("mouseleave blur",function(){clearTimeout(D),D=setTimeout(function(){AblePlayer.localGetElementById(d[0],P).text("").hide()},500),t.$tooltipDiv.on("mouseenter focus",function(){clearTimeout(D)}),t.$tooltipDiv.on("mouseleave blur",function(){AblePlayer.localGetElementById(d[0],P).text("").hide()})})}),"captions"===c?this.prefCaptions&&1===this.prefCaptions||(S=this.captions.length>1?this.translate("captions","Captions"):this.translate("showCaptions","Show captions"),d.addClass("buttonOff").attr("title",S),d.attr("aria-pressed","false")):"descriptions"===c&&(this.prefDesc&&1===this.prefDesc||d.addClass("buttonOff").attr("title",this.translate("turnOnDescriptions","Turn on descriptions"))),o.append(d),"play"===c?this.$playpauseButton=d:"previous"==c?(this.$prevButton=d,"previous"==this.buttonWithFocus&&(this.$prevButton.trigger("focus"),this.buttonWithFocus=null)):"next"==c?(this.$nextButton=d,"next"==this.buttonWithFocus&&(this.$nextButton.trigger("focus"),this.buttonWithFocus=null)):"captions"===c?this.$ccButton=d:"sign"===c?(this.$signButton=d,this.$signWindow.is(":visible")||this.$signButton.addClass("buttonOff")):"descriptions"===c?this.$descButton=d:"mute"===c?this.$muteButton=d:"transcript"===c?(this.$transcriptButton=d,this.$transcriptDiv.is(":visible")||this.$transcriptButton.addClass("buttonOff").attr("title",this.translate("showTranscript","Show transcript"))):"fullscreen"===c?this.$fullscreenButton=d:"chapters"===c?this.$chaptersButton=d:"preferences"===c?this.$prefsButton=d:"volume"===c&&(this.$volumeButton=d)}"volume"===c&&this.addVolumeSlider(o)}s%2==1&&this.$controllerDiv.append('<div style="clear:both;"></div>')}for(var I in void 0!==this.$captionsDiv&&this.stylizeCaptions(this.$captionsDiv),void 0!==this.$descDiv&&this.stylizeCaptions(this.$descDiv),this.controls=[],i)i.hasOwnProperty(I)&&(this.controls=this.controls.concat(i[I]));this.refreshControls()},AblePlayer.prototype.cuePlaylistItem=function(t){var i,a,s,n,r,o,l=this;a=this.player,this.initializing||this.playerCreated&&this.deletePlayer("playlist"),this.swappingSrc=!0,this.startedPlaying?this.okToPlay=!0:this.okToPlay=!1,this.loadingMedia=!1,i=this.$playlist.eq(t),this.hasAttr(i,"data-youtube-id")?(this.youTubeId=this.getYouTubeId(i.attr("data-youtube-id")),this.hasAttr(i,"data-youtube-desc-id")&&(this.youTubeDescId=this.getYouTubeId(i.attr("data-youtube-desc-id"))),s="youtube"):this.hasAttr(i,"data-vimeo-id")?(this.vimeoId=this.getVimeoId(i.attr("data-vimeo-id")),this.hasAttr(i,"data-vimeo-desc-id")&&(this.vimeoDescId=this.getVimeoId(i.attr("data-vimeo-desc-id"))),s="vimeo"):s="html5","youtube"===s?"html5"===a&&(this.playing&&this.pauseMedia(),this.$media.hide()):(this.youTubeId=!1,"youtube"===a&&this.$media.show()),this.player=s,this.$media.empty(),this.hasAttr(i,"data-poster")&&this.$media.attr("poster",i.attr("data-poster")),this.hasAttr(i,"data-youtube-desc-id")&&this.$media.attr("data-youtube-desc-id",i.attr("data-youtube-desc-id")),this.youTubeId&&this.$media.attr("data-youtube-id",i.attr("data-youtube-id"));var h=i.children("span.able-source");h.length&&h.each(function(){const t=e(this);if(l.hasAttr(t,"data-src")){const i=DOMPurify.sanitize(t.attr("data-src"));if(validate.isProtocolSafe(i)){const a=e("<source>",{src:i});["data-type","data-desc-src","data-sign-src"].forEach(e=>{if(l.hasAttr(t,e)){const i=t.attr(e),s=DOMPurify.sanitize(i);e.endsWith("-src")&&validate.isProtocolSafe(s)?a.attr(e,s):e.endsWith("-src")||a.attr(e,s)}}),l.$media.append(a)}}});var p=i.children("span.able-track");p.length&&p.each(function(){const t=e(this);if(l.hasAttr(t,"data-src")&&l.hasAttr(t,"data-kind")&&l.hasAttr(t,"data-srclang")){const i=DOMPurify.sanitize(t.attr("data-src"));if(validate.isProtocolSafe(i)){const a=e("<track>",{src:i,kind:t.attr("data-kind"),srclang:t.attr("data-srclang")});["data-label","data-desc","data-default"].forEach(e=>{l.hasAttr(t,e)&&a.attr(e,DOMPurify.sanitize(t.attr(e)))}),l.$media.append(a)}}}),n=DOMPurify.sanitize(i.text()),this.hasAttr(i,"lang")&&(r=i.attr("lang")),this.$sources=this.$media.find("source"),this.recreatingPlayer||this.recreatePlayer().then(function(){l.$playlist.removeClass("able-current").children("button").removeAttr("aria-current"),l.$playlist.eq(t).addClass("able-current").children("button").attr("aria-current","true"),!0===l.showNowPlaying&&void 0!==l.$nowPlayingDiv&&(o=e("<span>"),void 0!==r&&o.attr("lang",r),o.html("<span>"+l.tt.selectedTrack+":</span>"+n),l.$nowPlayingDiv.html(o)),l.initializing?l.swappingSrc=!1:"html5"===l.player?l.loadingMedia||(l.media.load(),l.loadingMedia=!0):"youtube"===l.player&&(l.okToPlay=!0),l.initializing=!1,l.playerCreated=!0})},AblePlayer.prototype.deletePlayer=function(t){"youtube"===this.player&&this.youTubePlayer&&this.youTubePlayer.destroy(),"vimeo"===this.player&&this.vimeoPlayer&&this.vimeoPlayer.destroy(),this.$controllerDiv.empty(),this.$elapsedTimeContainer.empty().text("0:00"),this.$durationContainer.empty(),this.$signWindow&&this.$signWindow.remove(),this.$transcriptArea&&this.$transcriptArea.remove(),e(".able-modal-dialog").remove(),this.$captionsWrapper&&this.$captionsWrapper.remove(),this.$descDiv&&this.$descDiv.remove(),this.hasCaptions=!1,this.hasChapters=!1,this.hasDescTracks=!1,this.hasOpenDesc=!1,this.hasClosedDesc=!1,this.captionsPopup=null,this.chaptersPopup=null,this.transcriptType=null,this.playerDeleted=!0},AblePlayer.prototype.getButtonTitle=function(e){return"playpause"===e||"play"===e?this.translate("play","Play"):"pause"===e?this.translate("pause","Pause"):"restart"===e?this.translate("restart","Restart"):"previous"===e?this.translate("prevTrack","Previous track"):"next"===e?this.translate("nextTrack","Next track"):"rewind"===e?this.translate("rewind","Rewind"):"forward"===e?this.translate("forward","Forward"):"captions"===e?this.captions.length>1?this.translate("captions","Captions"):this.captionsOn?this.translate("hideCaptions","Hide captions"):this.translate("showCaptions","Show captions"):"descriptions"===e?this.descOn?this.translate("turnOffDescriptions","Turn off descriptions"):this.translate("turnOnDescriptions","Turn on descriptions"):"transcript"===e?this.$transcriptDiv.is(":visible")?this.translate("hideTranscript","Hide transcript"):this.translate("showTranscript","Show transcript"):"chapters"===e?this.translate("chapters","Chapters"):"sign"===e?this.translate("sign","Sign language"):"volume"===e?this.translate("volume","Volume"):"faster"===e?this.translate("faster","Faster"):"slower"===e?this.translate("slower","Slower"):"preferences"===e?this.translate("preferences","Preferences"):"fullscreen"===e?this.fullscreen?this.translate("exitFullScreen","Exit full screen"):this.translate("enterFullScreen","Enter full screen"):(this.debug,this.capitalizeFirstLetter(e))}}(jQuery);var preProcessing={transformCSSClasses:function(e){if(e>1e3)throw new Error("Input too long");return e.replace(/<(v|c|b|i|u|lang|ruby)\.([\w\.]+)([^>]*)>/g,function(e,t,i,a){return`<${t} class="${i.replace(/\./g," ")}"${a}>`})},transformLangTags:function(e){return e.replace(/<lang\s+([\w-]+)([^>]*)>/g,function(e,t,i){return'<lang lang="'+t+'"'+i+">"})},transformVTags:function(e){return e.replace(/<v\s+([^>]*?)>/g,function(e,t){var i=t.match(/class="([^"]*)"/),a=i?i[0]:"",s=t.replace(/class="[^"]*"/,"").trim().split(/\s+/),n=[],r=[];s.forEach(function(e){-1!==e.indexOf("=")?n.push(e):r.push(e)});var o=r.join(" "),l="<v";return o&&(l+=' title="'+o+'"'),n.length>0&&(l+=" "+n.join(" ")),a&&(l+=" "+a),l+=">"})}},postProcessing={postprocessCTag:function(e){return e.replace(/<c class="([\w\s]+)">/g,function(e,t){return"<c."+t.replace(/ /g,".")+">"})},postprocessVTag:function(e){return e.replace(/<v([^>]*)class="([\w\s]+)"([^>]*)>/g,function(e,t,i,a){var s=i.trim().split(/\s+/).join("."),n=(t+a).replace(/\s*class="[\w\s]+"/,"").trim();return"<v."+s+(n?" "+n:"")+">"})},postprocessLangTag:function(e){return e.replace(/<lang lang="([\w-]+)"([^>]*)>/g,function(e,t,i){return"<lang "+t+i+">"})}},validate={preProcessVttContent:function(e){var t=preProcessing.transformCSSClasses(e),i=preProcessing.transformLangTags(t);return preProcessing.transformVTags(i)},postProcessVttContent:function(e,t){var i=postProcessing.postprocessCTag(e),a=postProcessing.postprocessVTag(i);return postProcessing.postprocessLangTag(a).replace(/--&gt;/g,"--\x3e").replace(/&lt;([\d:.]+)&gt;/g,"<$1>").replace(/<\/v>/g,function(e,i){return-1!==t.indexOf(e,i)?e:""})},sanitizeVttContent:function(e){if(null==e)return"";var t=validate.preProcessVttContent(e),i=DOMPurify.sanitize(t,{ALLOWED_TAGS:["b","i","u","v","c","lang","ruby","rt","rp"],ALLOWED_ATTR:["title","class","lang"],KEEP_CONTENT:!0});return validate.postProcessVttContent(i,e)},isProtocolSafe:function(e){try{const t=new URL(e,window.location.origin);return["http:","https:"].includes(t.protocol)}catch(e){return!1}}};"undefined"!=typeof module&&module.exports&&(module.exports=validate),function(e){AblePlayer.prototype.setupTracks=function(){var t,i,a,s,n,r,o,l,h;for(t=this,a=(i=new this.defer).promise(),s=[],e("#able-vts").length?(this.vtsTracks=[],this.hasVts=!0):this.hasVts=!1,o=this.hasDescTracks&&this.descOn?this.altTracks:this.tracks,r=0;r<o.length;r++)if(h=(l=o[r]).kind?l.kind:"subtitles",l.src){var p=l.src;n=this.loadTextObject(p),s.push(n.catch(function(e){})),n.then(function(e,i){p=e.src;var a=e.language,s=e.label,n=e.desc;return function(r){var o=t.parseWebVTT(r).cues;t.hasVts&&t.setupVtsTracks(i,a,n,s,p,trackText),"captions"===i||"subtitles"===i?t.setupCaptions(e,o):"descriptions"===i?t.setupDescriptions(e,o):"chapters"===i?t.setupChapters(e,o):"metadata"===i&&t.setupMetadata(o)}}(l,h))}else(t.usingYouTubeCaptions||t.usingVimeoCaptions)&&t.setupCaptions(l);return t.usingYouTubeCaptions||t.usingVimeoCaptions?i.resolve():e.when.apply(e,s).then(function(){i.resolve()}),a},AblePlayer.prototype.getTracks=function(){var t,i,a,s,n,r,o,l,h,p,c;return t=this,l=!1,a=(i=new this.defer).promise(),this.$tracks=this.$media.find("track"),this.tracks=[],this.altTracks=[],this.captions=[],this.descriptions=[],this.chapters=[],this.meta=[],this.hasCaptionsTrack=!1,this.hasDescTracks=!1,this.$tracks.length&&(this.usingYouTubeCaptions=!1,this.$tracks.each(function(i,a){if("captions"===e(this).attr("kind")?t.hasCaptionsTrack=!0:"descriptions"===e(this).attr("kind")&&(t.hasClosedDesc=!0),s=e(this).attr("srclang")?e(this).attr("srclang"):t.lang,n=e(this).attr("label")?e(this).attr("label"):t.getLanguageName(s),void 0===e(this).attr("default")||l?s===t.lang?(h=!0,r=!1):r=!1:(r=!0,l=!0),r&&(t.captionLang=s),void 0!==e(this).data("desc")?(o=!0,t.hasDescTracks=!0):o=!1,o?t.altTracks.push({kind:e(this).attr("kind"),src:e(this).attr("src"),language:s,label:n,def:r,desc:o}):t.tracks.push({kind:e(this).attr("kind"),src:e(this).attr("src"),language:s,label:n,def:r,desc:o}),i==t.$tracks.length-1){if(!l)if(h)for(t.captionLang=t.lang,p=!1,c=0;c<t.tracks.length&&!p;)t.tracks[c].language===t.lang&&(t.tracks[c].def=!0,p=!0),c++;else t.tracks[0].def=!0,t.captionLang=t.tracks[0].language;t.$media.find("track").removeAttr("default")}})),this.$tracks.length&&this.hasCaptionsTrack?i.resolve():"youtube"===this.player?this.getYouTubeCaptionTracks().then(function(){t.hasCaptions&&(t.usingYouTubeCaptions=!0,t.$captionsWrapper&&t.$captionsWrapper.remove()),i.resolve()}):"vimeo"===this.player?this.getVimeoCaptionTracks().then(function(){t.hasCaptions&&(t.usingVimeoCaptions=!0,t.$captionsWrapper&&t.$captionsWrapper.remove()),i.resolve()}):(this.hasCaptions=!1,t.$captionsWrapper&&t.$captionsWrapper.remove(),i.resolve()),a},AblePlayer.prototype.setupCaptions=function(t,i){var a,s;if(void 0===i&&(i=null),this.usingYouTubeCaptions||this.usingVimeoCaptions);else if(0===this.captions.length)this.captions.push({language:t.language,label:t.label,def:t.def,cues:i});else{for(a=!1,s=0;s<this.captions.length;s++)if(t.label.toLowerCase()<this.captions[s].label.toLowerCase()){this.captions.splice(s,0,{language:t.language,label:t.label,def:t.def,cues:i}),a=!0;break}a||this.captions.push({language:t.language,label:t.label,def:t.def,cues:i})}this.hasCaptions=!0,this.currentCaption=-1,1===this.prefCaptions?this.captionsOn=!0:0===this.prefCaptions?this.captionsOn=!1:1===this.defaultStateCaptions?this.captionsOn=!0:this.captionsOn=!1,"audio"===this.mediaType&&this.captionsOn&&this.$captionsContainer.removeClass("captions-off"),(!this.$captionsWrapper||this.$captionsWrapper&&!e.contains(this.$ableDiv[0],this.$captionsWrapper[0]))&&(this.$captionsDiv=e("<div>",{class:"able-captions"}),this.$captionsWrapper=e("<div>",{class:"able-captions-wrapper","aria-hidden":"true"}).hide(),"below"===this.prefCaptionsPosition?this.$captionsWrapper.addClass("able-captions-below"):this.$captionsWrapper.addClass("able-captions-overlay"),this.$captionsWrapper.append(this.$captionsDiv),this.$captionsContainer.append(this.$captionsWrapper))},AblePlayer.prototype.setupDescriptions=function(e,t){this.hasClosedDesc=!0,this.currentDescription=-1,this.descriptions.push({cues:t,language:e.language})},AblePlayer.prototype.setupChapters=function(e,t){this.hasChapters=!0,this.chapters.push({cues:t,language:e.language})},AblePlayer.prototype.setupMetadata=function(t){"text"===this.metaType?this.metaDiv&&e("#"+this.metaDiv)&&(this.$metaDiv=e("#"+this.metaDiv),this.hasMeta=!0,this.meta=t):"selector"===this.metaType&&(this.hasMeta=!0,this.visibleSelectors=[],this.meta=t)},AblePlayer.prototype.loadTextObject=function(t){var i,a,s,n;return a=(i=new this.defer).promise(),s=this,n=e("<div>",{style:"display:none"}),fetch(t).then(e=>e.text()).then(e=>{var a,s=e.split(/\r?\n\s*\r?\n/),r="";s.forEach(e=>{a=validate.sanitizeVttContent(e),r+=a+"\n\n"}),n.html(r);let o={src:t,text:r};i.resolve(o),n.remove()}).catch(e=>{s.debug,i.reject(t),n.remove()}),a}}(jQuery),function(e){AblePlayer.prototype.initYouTubePlayer=function(){var t,i,a,s;return t=this,a=(i=new this.defer).promise(),this.youTubePlayerReady=!1,s=this.youTubeDescId&&this.prefDesc?this.youTubeDescId:this.youTubeId,this.activeYouTubeId=s,AblePlayer.youTubeIframeAPIReady?t.finalizeYoutubeInit().then(function(){i.resolve()}):(AblePlayer.loadingYouTubeIframeAPI||t.getScript("https://www.youtube.com/iframe_api",function(){}),e("body").on("youTubeIframeAPIReady",function(){t.finalizeYoutubeInit().then(function(){i.resolve()})})),a},AblePlayer.prototype.finalizeYoutubeInit=function(){var t,i,a,s,n;return i=(t=new this.defer).promise(),a=this,s=this.mediaId+"_youtube",this.$mediaContainer.prepend(e("<div>").attr("id",s)),n=this.okToPlay?1:0,void 0===this.captionLang&&(this.captionLang=this.lang),this.youTubePlayer=new YT.Player(s,{videoId:this.activeYouTubeId,host:this.youTubeNoCookie?"https://www.youtube-nocookie.com":"https://www.youtube.com",playerVars:{autoplay:n,cc_lang_pref:this.captionLang,cc_load_policy:1,controls:0,disableKb:1,enablejsapi:1,hl:this.lang,iv_load_policy:3,origin:window.location.origin,playsinline:this.playsInline,rel:0,start:this.startTime},events:{onReady:function(){a.youTubePlayerReady=!0,a.playerWidth&&a.playerHeight||a.getYouTubeDimensions(),a.playerWidth&&a.playerHeight&&a.youTubePlayer.setSize(a.playerWidth,a.playerHeight),a.swappingSrc&&(a.swappingSrc=!1,a.restoreFocus(),a.cueingPlaylistItem=!1,(a.playing||a.okToPlay)&&a.playMedia()),a.userClickedPlaylist&&(a.userClickedPlaylist=!1),a.recreatingPlayer&&(a.recreatingPlayer=!1),t.resolve()},onError:function(e){t.reject()},onStateChange:function(e){a.getPlayerState().then(function(e){"playing"===e?(a.hasSignLanguage&&a.signVideo&&a.signVideo.play(!0),a.playing=!0,a.startedPlaying=!0,a.paused=!1):"ended"==e?a.onMediaComplete():(a.playing=!1,a.paused=!0),a.stoppingYouTube&&"paused"===e&&(a.hasSignLanguage&&a.signVideo&&a.signVideo.pause(!0),void 0!==a.$posterImg&&a.$posterImg.show(),a.stoppingYouTube=!1,a.seeking=!1,a.playing=!1,a.paused=!0)}),"youtube"!==a.player||a.usingYouTubeCaptions||a.youTubePlayer.getOptions("captions")&&a.youTubePlayer.unloadModule("captions")},onApiChange:function(){a.duration=a.youTubePlayer.getDuration()},onPlaybackQualityChange:function(){}}}),this.hasPlaylist||this.$media.remove(),i},AblePlayer.prototype.getYouTubeDimensions=function(e){var t,i,a;void 0!==(t=this.$ableWrapper.find("iframe"))&&t.prop("width")&&(i=t.prop("width"),t.prop("height")&&(a=t.prop("height"),this.resizePlayer(i,a)))},AblePlayer.prototype.getYouTubeCaptionTracks=function(){var e,t,i,a,s,n,r=new this.defer,o=r.promise(),l=!1;return e=this,this.youTubePlayer.getOption("captions","tracklist")||(this.youTubePlayer.addEventListener("onApiChange",function(){if(l=!0,e.duration=e.youTubePlayer.getDuration(),e.loadingYouTubeCaptions){if(t=e.youTubePlayer.getOption("captions","tracklist"),e.okToPlay||e.youTubePlayer.pauseVideo(),t&&t.length){for(i=0;i<t.length;i++)a=t[i].languageCode,s=t[i].languageName,n=!1,(void 0!==e.captionLang&&a===e.captionLang||void 0!==e.lang&&a===e.lang)&&(n=!0),e.tracks.push({kind:"captions",language:a,label:s,def:n}),e.captions.push({language:a,label:s,def:n,cues:null});e.hasCaptions=!0,e.setupPopups("captions")}else e.usingYouTubeCaptions=!1,e.hasCaptions=!1;e.loadingYouTubeCaptions=!1,e.okToPlay&&e.youTubePlayer.playVideo()}e.captionLangPending&&(e.youTubePlayer.setOption("captions","track",{languageCode:e.captionLangPending}),e.captionLangPending=null),void 0!==e.prefCaptionsSize&&e.youTubePlayer.setOption("captions","fontSize",e.translatePrefs("size",e.prefCaptionsSize,"youtube")),r.resolve()}),this.loadingYouTubeCaptions=!0,this.youTubePlayer.playVideo(),setTimeout(()=>{l||setTimeout(()=>{e.youTubePlayer.pauseVideo(),r.resolve()},500)},500)),o},AblePlayer.prototype.getYouTubePosterUrl=function(e,t){var i="https://img.youtube.com/vi/"+e;return"120"==t?i+"/default.jpg":"320"==t?i+"/mqdefault.jpg":"480"==t?i+"/hqdefault.jpg":"640"==t?i+"/sddefault.jpg":"1280"==t?i+"/hq720.jpg":"1920"==t&&i+"/maxresdefault.jpg"},AblePlayer.prototype.getYouTubeId=function(e){var t;return-1!==e.indexOf("youtu")?(t=(e=e.trim()).length-11,e.substring(t)):e}}(jQuery),function(e){window.AccessibleSlider=function(t,i,a,s,n,r,o,l,h,p){var c,u;c=this,this.position=0,this.tracking=!1,this.trackDevice=null,this.keyTrackPosition=0,this.lastTrackPosition=0,this.nextStep=1,this.inertiaCount=0,this.bodyDiv=e(t),h&&(this.loadedDiv=e("<div></div>"),this.playedDiv=e("<div></div>")),this.seekHead=e("<div>",{"aria-orientation":i,class:"able-"+l+"-head"}),"visible"===p?this.seekHead.attr("tabindex","0"):this.seekHead.attr("tabindex","-1"),this.seekHead.attr({role:"slider","aria-label":o,"aria-valuemin":s,"aria-valuemax":n}),this.timeTooltipTimeoutId=null,this.overTooltip=!1,this.timeTooltip=e("<div>"),this.bodyDiv.append(this.timeTooltip),this.timeTooltip.attr("role","tooltip"),this.timeTooltip.addClass("able-tooltip"),this.timeTooltip.on("mouseenter focus",function(){c.overTooltip=!0,clearInterval(c.timeTooltipTimeoutId)}),this.timeTooltip.on("mouseleave blur",function(){c.overTooltip=!1,e(this).hide()}),this.timeTooltip.hide(),this.bodyDiv.append(this.loadedDiv),this.bodyDiv.append(this.playedDiv),this.bodyDiv.append(this.seekHead),this.bodyDiv.wrap("<div></div>"),this.wrapperDiv=this.bodyDiv.parent(),"legacy"===this.skin&&("horizontal"===i?(this.wrapperDiv.width(a),this.loadedDiv.width(0)):(this.wrapperDiv.height(a),this.loadedDiv.height(0))),this.wrapperDiv.addClass("able-"+l+"-wrapper"),h&&(this.loadedDiv.addClass("able-"+l+"-loaded"),this.playedDiv.width(0),this.playedDiv.addClass("able-"+l+"-played"),this.setDuration(n)),this.seekHead.on("mouseenter mouseleave mousemove mousedown mouseup focus blur touchstart touchmove touchend",function(e){u=c.pointerEventToXY(e),"mouseenter"===e.type||"focus"===e.type?c.overHead=!0:"mouseleave"===e.type||"blur"===e.type?(c.overHead=!1,!c.overBody&&c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(u.x))):"mousemove"===e.type||"touchmove"===e.type?c.tracking&&"mouse"===c.trackDevice&&c.trackHeadAtPageX(u.x):"mousedown"===e.type||"touchstart"===e.type?(c.startTracking("mouse",c.pageXToPosition(c.seekHead.offset()+c.seekHead.width()/2)),c.bodyDiv.is(":focus")||c.bodyDiv.focus(),e.preventDefault()):"mouseup"!==e.type&&"touchend"!==e.type||c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(u.x)),"mousemove"!==e.type&&"mousedown"!==e.type&&"mouseup"!==e.type&&"touchstart"!==e.type&&"touchend"!==e.type&&c.refreshTooltip()}),this.bodyDiv.on("mouseenter mouseleave mousemove mousedown mouseup keydown keyup touchstart touchmove touchend",function(e){if(2==e.button&&"mousedown"==e.type)return;u=c.pointerEventToXY(e);let t=e.key;if("mouseenter"===e.type)c.overBody=!0,c.overBodyMousePos={x:u.x,y:u.y};else if("mouseleave"===e.type)c.overBody=!1,c.overBodyMousePos=null,!c.overHead&&c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(u.x));else if("mousemove"===e.type||"touchmove"===e.type)c.overBodyMousePos={x:u.x,y:u.y},c.tracking&&"mouse"===c.trackDevice&&c.trackHeadAtPageX(u.x);else if("mousedown"===e.type||"touchstart"===e.type)c.startTracking("mouse",c.pageXToPosition(u.x)),c.trackHeadAtPageX(u.x),c.seekHead.is(":focus")||c.seekHead.focus(),e.preventDefault();else if("mouseup"===e.type||"touchend"===e.type)c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(u.x));else if("keydown"===e.type){if("Home"===e.key)c.trackImmediatelyTo(0);else if("End"===e.key)c.trackImmediatelyTo(c.duration);else if("ArrowLeft"===e.key||"ArrowDown"===e.key)c.arrowKeyDown(-1);else if("ArrowRight"===e.key||"ArrowUp"===e.key)c.arrowKeyDown(1);else if("PageUp"===e.key&&r>0)c.arrowKeyDown(r);else{if(!("PageDown"===e.key&&r>0))return;c.arrowKeyDown(-r)}e.preventDefault()}else"keyup"===e.type&&t===e.key&&(c.tracking&&"keyboard"===c.trackDevice&&c.stopTracking(c.keyTrackPosition),e.preventDefault());c.overTooltip||"mouseup"===e.type||"keydown"===e.type||"keydown"===e.type||c.refreshTooltip()})},AccessibleSlider.prototype.arrowKeyDown=function(e){this.tracking&&"keyboard"===this.trackDevice?(this.keyTrackPosition=this.boundPos(this.keyTrackPosition+this.nextStep*e),this.inertiaCount+=1,20===this.inertiaCount&&(this.inertiaCount=0,this.nextStep*=2),this.trackHeadAtPosition(this.keyTrackPosition)):(this.nextStep=1,this.inertiaCount=0,this.keyTrackPosition=this.boundPos(this.position+this.nextStep*e),this.startTracking("keyboard",this.keyTrackPosition),this.trackHeadAtPosition(this.keyTrackPosition))},AccessibleSlider.prototype.pageXToPosition=function(e){var t=e-this.bodyDiv.offset().left,i=this.duration*(t/this.bodyDiv.width());return this.boundPos(i)},AccessibleSlider.prototype.boundPos=function(e){return Math.max(0,Math.min(e,this.duration))},AccessibleSlider.prototype.setDuration=function(e){e!==this.duration&&(this.duration=e,this.resetHeadLocation(),this.seekHead.attr("aria-valuemax",e))},AccessibleSlider.prototype.setWidth=function(e){this.wrapperDiv.width(e),this.resizeDivs(),this.resetHeadLocation()},AccessibleSlider.prototype.getWidth=function(){return this.wrapperDiv.width()},AccessibleSlider.prototype.resizeDivs=function(){this.playedDiv.width(this.bodyDiv.width()*(this.position/this.duration)),this.loadedDiv.width(this.bodyDiv.width()*this.buffered)},AccessibleSlider.prototype.resetHeadLocation=function(){var e=this.position/this.duration,t=this.bodyDiv.width()*e;this.seekHead.css("left",t-this.seekHead.width()/2),this.tracking&&this.stopTracking(this.position)},AccessibleSlider.prototype.setPosition=function(e,t){this.position=e,this.resetHeadLocation(),this.overHead&&this.refreshTooltip(),this.resizeDivs(),this.updateAriaValues(e,t)},AccessibleSlider.prototype.setBuffered=function(e){isNaN(e)||(this.buffered=e,this.redrawDivs)},AccessibleSlider.prototype.startTracking=function(e,t){this.tracking||(this.trackDevice=e,this.tracking=!0,this.bodyDiv.trigger("startTracking",[t]))},AccessibleSlider.prototype.stopTracking=function(e){this.trackDevice=null,this.tracking=!1,this.bodyDiv.trigger("stopTracking",[e]),this.setPosition(e,!0)},AccessibleSlider.prototype.trackHeadAtPageX=function(e){var t=this.pageXToPosition(e),i=e-this.bodyDiv.offset().left-this.seekHead.width()/2;i=Math.max(0,Math.min(i,this.bodyDiv.width()-this.seekHead.width())),this.lastTrackPosition=t,this.seekHead.css("left",i),this.reportTrackAtPosition(t)},AccessibleSlider.prototype.trackHeadAtPosition=function(e){var t=e/this.duration,i=this.bodyDiv.width()*t;this.lastTrackPosition=e,this.seekHead.css("left",i-this.seekHead.width()/2),this.reportTrackAtPosition(e)},AccessibleSlider.prototype.reportTrackAtPosition=function(e){this.bodyDiv.trigger("tracking",[e]),this.updateAriaValues(e,!0)},AccessibleSlider.prototype.updateAriaValues=function(t,i){var a,s=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60),o=1===n?"minute":"minutes",l=1===r?"second":"seconds";a=s>0?s+" "+(1===s?"hour":"hours")+", "+n+" "+o+", "+r+" "+l:n>0?n+" "+o+", "+r+" "+l:r+" "+l,this.liveAriaRegion||(this.liveAriaRegion=e("<span>",{class:"able-offscreen","aria-live":"polite"}),this.wrapperDiv.append(this.liveAriaRegion)),i&&this.liveAriaRegion.text()!==a&&this.liveAriaRegion.text(a),this.seekHead.attr("aria-valuetext",a),this.seekHead.attr("aria-valuenow",Math.floor(t).toString())},AccessibleSlider.prototype.trackImmediatelyTo=function(e){this.startTracking("keyboard",e),this.trackHeadAtPosition(e),this.keyTrackPosition=e},AccessibleSlider.prototype.refreshTooltip=function(){if(this.overHead)this.timeTooltip.show(),this.tracking?this.timeTooltip.text(this.positionToStr(this.lastTrackPosition)):this.timeTooltip.text(this.positionToStr(this.position)),this.setTooltipPosition(this.seekHead.position().left+this.seekHead.width()/2);else if(this.overBody&&this.overBodyMousePos)this.timeTooltip.show(),this.timeTooltip.text(this.positionToStr(this.pageXToPosition(this.overBodyMousePos.x))),this.setTooltipPosition(this.overBodyMousePos.x-this.bodyDiv.offset().left);else{clearTimeout(this.timeTooltipTimeoutId);var e=this;this.timeTooltipTimeoutId=setTimeout(function(){e.timeTooltip.hide()},500)}},AccessibleSlider.prototype.hideSliderTooltips=function(){this.overHead=!1,this.overBody=!1,this.timeTooltip.hide()},AccessibleSlider.prototype.setTooltipPosition=function(e){this.timeTooltip.css({left:e-this.timeTooltip.width()/2-10,bottom:this.seekHead.height()})},AccessibleSlider.prototype.positionToStr=function(e){var t=Math.floor(e/3600),i=Math.floor(e/60)%60,a=Math.floor(e%60);return a<10&&(a="0"+a),t>0?(i<10&&(i="0"+i),t+":"+i+":"+a):i+":"+a},AccessibleSlider.prototype.pointerEventToXY=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=i.pageX,t.y=i.pageY}else"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(t.x=e.pageX,t.y=e.pageY);return t}}(jQuery),function(e){AblePlayer.prototype.addVolumeSlider=function(t){var i,a,s,n,r,o;i=this,a=this.mediaId+"-volume-slider",s=this.mediaId+"-volume-help",this.$volumeSlider=e("<div>",{id:a,class:"able-volume-slider","aria-hidden":"true"}).hide(),this.$volumeSliderTooltip=e("<div>",{class:"able-tooltip",role:"tooltip"}).hide(),this.$volumeRange=e("<input>",{type:"range",min:"0",max:"10",step:"1",orient:"vertical","aria-label":this.translate("volumeUpDown","Volume up down"),value:this.volume}),n=parseInt(i.volume)/10*100,this.$volumeHelp=e("<div>",{id:s,class:"able-volume-help","aria-live":"polite"}).text(n+"%"),r=this.$volumeButton.attr("aria-label"),this.$volumeButton.attr("aria-label",r+" "+n+"%"),this.$volumeSlider.append(this.$volumeSliderTooltip,this.$volumeRange,this.$volumeHelp),o=this.$volumeButton.parents(".able-control-row")[0],this.$volumeSlider.css("bottom",o.offsetHeight),t.append(this.$volumeSlider),this.$volumeRange.on("change",function(t){i.handleVolumeChange(e(this).val())}),this.$volumeRange.on("input",function(t){i.handleVolumeChange(e(this).val())}),this.$volumeRange.on("keydown",function(e){"Escape"!==e.key&&"Tab"!==e.key&&"Enter"!==e.key||(i.$volumeSlider.is(":visible")?(i.closingVolume=!0,i.hideVolumePopup()):i.closingVolume||i.showVolumePopup())})},AblePlayer.prototype.refreshVolumeHelp=function(e){var t;t=e/10*100,this.$volumeHelp&&this.$volumeHelp.text(t+"%"),this.$volumeRange.attr("value",e)},AblePlayer.prototype.refreshVolumeButton=function(e){var t,i,a;t=this.getVolumeName(e),i=e/10*100,a=this.translate("volume","Volume")+" "+i+"%",this.getIcon(this.$volumeButton,"volume-"+t),this.$volumeButton.attr("aria-label",a)},AblePlayer.prototype.handleVolumeButtonClick=function(){this.$volumeSlider.is(":visible")?this.hideVolumePopup():this.showVolumePopup()},AblePlayer.prototype.handleVolumeKeystroke=function(e){this.isMuted()&&e>0?this.setMute(!1):0===e?this.setMute(!0):(this.setVolume(e),this.refreshVolumeHelp(e),this.refreshVolumeButton(e))},AblePlayer.prototype.handleVolumeChange=function(e){this.isMuted()&&e>0?this.setMute(!1):0===e?this.setMute(!0):(this.setVolume(e),this.refreshVolumeHelp(e),this.refreshVolumeButton(e))},AblePlayer.prototype.handleMute=function(){this.isMuted()?this.setMute(!1):this.setMute(!0)},AblePlayer.prototype.showVolumePopup=function(){this.closePopups(),this.$tooltipDiv.hide(),this.$volumeSlider.show().attr("aria-hidden","false"),this.$volumeButton.attr("aria-expanded","true"),this.$volumeButton.focus(),this.waitThenFocus(this.$volumeRange)},AblePlayer.prototype.hideVolumePopup=function(){var e=this;this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeButton.attr("aria-expanded","false").focus(),setTimeout(function(){e.closingVolume=!1},1e3)},AblePlayer.prototype.isMuted=function(){return"html5"===this.player?this.media.muted:"youtube"===this.player?this.youTubePlayer.isMuted():void 0},AblePlayer.prototype.setMute=function(e){e?(this.lastVolume=this.volume,this.volume=0):void 0!==this.lastVolume&&(this.volume=this.lastVolume),"html5"===this.player?this.media.muted=e:"youtube"===this.player&&(e?this.youTubePlayer.mute():this.youTubePlayer.unMute()),this.setVolume(this.volume),this.refreshVolumeHelp(this.volume),this.refreshVolumeButton(this.volume)},AblePlayer.prototype.setVolume=function(e){var t;this.syncSignVideo({volume:0}),"html5"===this.player?(t=e/10,this.media.volume=t):"youtube"===this.player?(t=10*e,this.youTubePlayer.setVolume(t),this.volume=e):"vimeo"===this.player&&(t=e/10,this.vimeoPlayer.setVolume(t).then(function(){})),this.lastVolume=e},AblePlayer.prototype.getVolume=function(e){return"html5"===this.player?10*this.media.volume:"youtube"===this.player&&this.youTubePlayerReady?this.youTubePlayer.getVolume()/10:"vimeo"===this.player?this.volume:void 0},AblePlayer.prototype.getVolumeName=function(e){return 0==e?"mute":10==e?"loud":e<5?"soft":"medium"}}(jQuery),function(e){var t="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";window.AccessibleDialog=function(i,a,s,n){this.title=s,this.closeButtonLabel=n,this.focusedElementBeforeModal=a,this.baseId=e(i).attr("id")||Math.floor(1e9*Math.random()).toString();var r=this,o=i;this.modal=o,o.addClass("able-modal-dialog");var l=e("<button>",{class:"modalCloseButton",title:r.closeButtonLabel,"aria-label":r.closeButtonLabel}).text("");l.on("keydown",function(e){" "===e.key&&r.hide()}).on("click",function(){r.hide()});var h=e("<h1></h1>");h.attr("id","modalTitle-"+this.baseId),h.text(s),this.titleH1=h,o.attr({"aria-labelledby":"modalTitle-"+this.baseId});var p=e("<div>",{class:"able-modal-header"});p.prepend(h),p.prepend(l),o.prepend(p),o.attr({"aria-hidden":"true",role:"dialog","aria-modal":"true"}),o.on("keydown",function(i){if("Escape"===i.key)r.hide(),i.preventDefault();else if("Tab"===i.key){var a=o.find("*").filter(t).filter(":visible");if(0===a.length)return;var s=e(":focus"),n=a.index(s);i.shiftKey?0===n&&(a.get(a.length-1).trigger("focus"),i.preventDefault()):n===a.length-1&&(a.get(0).trigger("focus"),i.preventDefault())}i.stopPropagation()}),e("body").hasClass("able-modal-active")&&(e("body > *").not(".able-modal-overlay").not(".able-modal-dialog").removeAttr("inert"),e("body").removeClass("able-modal-active"))},AccessibleDialog.prototype.show=function(){if(!this.overlay){var i=e("<div></div>").attr({class:"able-modal-overlay",tabindex:"-1"});this.overlay=i,e("body").append(i),i.on("mousedown.accessibleModal",function(e){e.preventDefault(),a.hide()})}e("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("inert",!0),e("body").addClass("able-modal-active"),this.overlay.css("display","block"),this.modal.css("display","block"),this.modal.attr({"aria-hidden":"false",tabindex:"-1"}),0===this.modal.find("*").filter(t).filter(":visible").length&&this.focusedElementBeforeModal.blur();var a=this;setTimeout(function(){a.modal.find("button.modalCloseButton").first().trigger("focus")},300)},AccessibleDialog.prototype.hide=function(){this.overlay&&this.overlay.css("display","none"),this.modal.css("display","none"),this.modal.attr("aria-hidden","true"),e("body > *").not(".able-modal-overlay").not(".able-modal-dialog").removeAttr("inert"),e("body").removeClass("able-modal-active"),this.focusedElementBeforeModal.trigger("focus")},AccessibleDialog.prototype.getInputs=function(){return!!this.modal&&this.modal.find("input")}}(jQuery),function(e){AblePlayer.prototype.getNextHeadingLevel=function(t){var i,a,s,n;return t.parents().each(function(){if(i=e(this).children(":header"),a=i.length)return s=i.eq(a-1).prop("tagName"),!1}),void 0===s?n=1:(n=parseInt(s[1]),(n+=1)>6&&(n=6)),n},AblePlayer.prototype.countProperties=function(e){var t,i;for(i in t=0,e)e.hasOwnProperty(i)&&++t;return t},AblePlayer.prototype.formatSecondsAsColonTime=function(e,t){var i,a,s,n,r,o,l;if(t)if(2===(n=e.toString().split(".")).length){if((r=n[1]).length<3)for(o=3-r.length,l=1;l<=o;l++)r+="0"}else r="000";return i=Math.floor(e/3600),a=Math.floor(e/60)%60,(s=Math.floor(e%60))<10&&(s="0"+s),i>0?(a<10&&(a="0"+a),t?i+":"+a+":"+s+"."+r:i+":"+a+":"+s):t?(i<1?i="00":i<10&&(i="0"+i),a<1?a="00":a<10&&(a="0"+a),i+":"+a+":"+s+"."+r):a+":"+s},AblePlayer.prototype.getSecondsFromColonTime=function(e){var t;return 3===(t=e.split(":")).length?3600*parseInt(t[0])+60*parseInt(t[1])+parseFloat(t[2]):2===t.length?60*parseInt(t[0])+parseFloat(t[1]):1===t.length?parseFloat(t[0]):void 0},AblePlayer.prototype.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},AblePlayer.prototype.roundDown=function(e,t){return Number(Math.floor(e+"e"+t)+"e-"+t)},AblePlayer.prototype.defer=function(){const e=this,t=new Promise((i,a)=>{e.resolve=i,e.reject=a,e.promise=()=>t})},AblePlayer.prototype.getScript=function(e,t){var i=document.createElement("script"),a=document.getElementsByTagName("script")[0];i.async=1,i.onload=i.onreadystatechange=function(e,a){(a||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i=void 0,!a&&t&&setTimeout(t,0))},i.src=e,a.parentNode.insertBefore(i,a)},AblePlayer.prototype.hasAttr=function(e,t){var i=e.attr(t);return void 0!==i&&!1!==i}}(jQuery),function(e){AblePlayer.prototype.initDescription=function(){var e,t;return t=(e=new this.defer).promise(),"audio"===this.mediaType&&e.resolve(),this.descFile=this.$sources.first().attr("data-desc-src"),void 0!==this.descFile?this.hasOpenDesc=!0:this.hasOpenDesc=!(!this.youTubeDescId&&!this.vimeoDescId),this.descMethod=null,this.hasOpenDesc&&this.hasClosedDesc?this.descMethod=this.prefDescMethod?this.prefDescMethod:"video":this.hasOpenDesc?this.descMethod="video":this.hasClosedDesc&&(this.descMethod="text"),this.descOn=!1,this.descMethod&&(1===this.prefDesc?this.descOn=!0:0===this.prefDesc?this.descOn=!1:this.descOn=1===this.defaultStateDescriptions),void 0===this.$descDiv&&this.hasClosedDesc&&this.injectTextDescriptionArea(),this.descOn?("video"!==this.descMethod||this.usingDescribedVersion()||this.swapDescription(),this.hasClosedDesc&&(this.prefDescVisible?void 0!==this.$descDiv&&(this.$descDiv.show(),this.$descDiv.removeClass("able-offscreen")):void 0!==this.$descDiv&&this.$descDiv.addClass("able-offscreen"))):"video"===this.descMethod?this.usingDescribedVersion()&&this.swapDescription():"text"===this.descMethod&&void 0!==this.$descDiv&&(this.$descDiv.hide(),this.$descDiv.removeClass("able-offscreen")),e.resolve(),t},AblePlayer.prototype.usingDescribedVersion=function(){return"youtube"===this.player?this.activeYouTubeId===this.youTubeDescId:"vimeo"===this.player?this.activeVimeoId===this.vimeoDescId:this.$sources.first().attr("data-desc-src")===this.$sources.first().attr("src")},AblePlayer.prototype.initSpeech=function(t){var i=this;function attemptEnableSpeech(){var e=new SpeechSynthesisUtterance(" ");e.onend=function(){i.getBrowserVoices(),(Array.isArray(i.descVoices)&&i.descVoices.length||"init"!==t)&&(i.speechEnabled=!0)},i.synth.speak(e)}null===this.speechEnabled&&(window.speechSynthesis?(this.synth=window.speechSynthesis,this.synth.cancel(),"init"===t?(attemptEnableSpeech(),e(document).on("click",function handleInitialClick(){attemptEnableSpeech(),e(document).off("click",handleInitialClick)})):attemptEnableSpeech()):this.speechEnabled=!1)},AblePlayer.prototype.getBrowserVoices=function(){var e,t,i,a;if(a=this.captionLang?this.captionLang.substring(0,2).toLowerCase():this.lang.substring(0,2).toLowerCase(),this.descVoices=[],e=this.synth.getVoices(),t=this.getDescriptionLangs(),e.length>0){this.descVoices=[];for(var s=0;s<e.length;s++)(i=e[s].lang.substring(0,2).toLowerCase())===a&&-1!==t.indexOf(i)&&this.descVoices.push(e[s]);this.descVoices.length||(this.descVoices=e)}return!1},AblePlayer.prototype.getDescriptionLangs=function(){var e=[];if(this.tracks)for(var t=0;t<this.tracks.length;t++)"descriptions"===this.tracks[t].kind&&e.push(this.tracks[t].language.substring(0,2).toLowerCase());return e},AblePlayer.prototype.setDescriptionVoice=function(){var e,t,i,a,s;if(t=void 0!==this.getPref().voices?this.getPrefDescVoice():null,this.getBrowserVoices(),this.rebuildDescPrefsForm(),a=this.selectedDescriptions?this.selectedDescriptions.language:this.captionLang?this.captionLang:this.lang,this.synth&&(e=this.synth.getVoices()).length>0){if(t){s=!1;for(var n=0;n<e.length;n++)if(e[n].lang.substring(0,2).toLowerCase()===a.substring(0,2).toLowerCase()&&e[n].name===t){i=e[n].name,s=!0;break}}if(!s)for(n=0;n<e.length;n++)if(e[n].lang.substring(0,2).toLowerCase()===a.substring(0,2).toLowerCase()){i=e[n].name;break}this.prefDescVoice=i,this.prefDescVoiceLang=a,this.$voiceSelectField&&this.$voiceSelectField.val(this.prefDescVoice),this.updatePreferences("voice")}},AblePlayer.prototype.swapDescription=function(){var t,i,a,s;if(t=this,this.loadingMedia=!1,this.$focusedElement=e(":focus"),this.activeMedia=this.mediaId,this.elapsed>0?this.swapTime=this.elapsed:this.swapTime=0,this.duration>0&&(this.prevDuration=this.duration),this.okToPlay||(this.okToPlay=this.playing),this.descOn?this.showAlert(this.translate("alertDescribedVersion","Using the audio described version of this video")):this.showAlert(this.translate("alertNonDescribedVersion","Using the non-described version of this video")),"html5"===this.player){if(this.swappingSrc=!0,this.paused=!0,this.usingDescribedVersion())for(i=0;i<this.$sources.length;i++)a=DOMPurify.sanitize(this.$sources[i].getAttribute("data-orig-src")),srcType=this.$sources[i].getAttribute("type"),a&&this.$sources[i].setAttribute("src",a);else for(i=0;i<this.$sources.length;i++)a=DOMPurify.sanitize(this.$sources[i].getAttribute("src")),s=DOMPurify.sanitize(this.$sources[i].getAttribute("data-desc-src")),srcType=this.$sources[i].getAttribute("type"),s&&(this.$sources[i].setAttribute("src",s),this.$sources[i].setAttribute("data-orig-src",a));if(this.recreatingPlayer)return;this.playerCreated&&(this.deletePlayer("swap-desc-html"),this.recreatePlayer().then(function(){t.loadingMedia||(t.media.load(),t.loadingMedia=!0)}))}else if("youtube"===this.player){if(this.activeYouTubeId=this.usingDescribedVersion()?this.youTubeId:this.youTubeDescId,void 0!==this.youTubePlayer&&(t.swappingSrc=!0,t.playing?t.youTubePlayer.loadVideoById(t.activeYouTubeId,t.swapTime):t.youTubePlayer.cueVideoById(t.activeYouTubeId,t.swapTime)),this.playerCreated&&this.deletePlayer("swap-desc-youtube"),this.recreatingPlayer)return;this.recreatePlayer().then(function(){})}else if("vimeo"===this.player){if(this.usingDescribedVersion()?(this.activeVimeoId=this.vimeoId,this.showAlert(this.translate("alertNonDescribedVersion","Using the non-described version of this video"))):(this.activeVimeoId=this.vimeoDescId,this.showAlert(this.translate("alertDescribedVersion","Using the audio described version of this video"))),this.playerCreated&&this.deletePlayer("swap-desc-vimeo"),this.recreatingPlayer)return;this.recreatePlayer().then(function(){t.vimeoPlayer.loadVideo(t.activeVimeoId).then(function(){t.playing?t.vimeoPlayer.setCurrentTime(t.swapTime):t.vimeoPlayer.pause()})})}},AblePlayer.prototype.showDescription=function(e){if(this.playing&&this.hasClosedDesc&&!this.swappingSrc&&this.descOn&&("video"!==this.descMethod||this.prefDescVisible)){var t,i,a,s;0;var flattenComponentForDescription=function(e){var t=[];if("string"===e.type)t.push(e.value);else for(var i=0;i<e.children.length;i++)t.push(flattenComponentForDescription(e.children[i]));return t.join("")};for(t=[],this.selectedDescriptions?t=this.selectedDescriptions.cues:this.descriptions.length>=1&&(t=this.descriptions[0].cues),i=0;i<t.length;i++)if(t[i].start<=e&&t[i].end>e){a=i;break}void 0!==a?this.currentDescription!==a&&(this.$status.removeAttr("aria-live"),s=flattenComponentForDescription(t[a].components),"screenreader"===this.descReader?this.$descDiv.html(s):this.speechEnabled?("video"!==this.descMethod&&this.announceDescriptionText("description",s),this.prefDescVisible&&this.$descDiv.html(s).removeAttr("aria-live aria-atomic")):this.$descDiv.html(s),this.prefDescPause&&"text"===this.descMethod&&(this.pauseMedia(),this.pausedForDescription=!0),this.currentDescription=a):(this.$descDiv.html(""),this.currentDescription=-1,this.$status.attr("aria-live","polite"))}},AblePlayer.prototype.syncSpeechToPlaybackRate=function(e){var t;.5===e?t=.7:.75===e?t=.8:1===e?t=1:1.25===e?t=1.1:1.5===e?t=1.2:1.75===e?t=1.5:2===e?t=2:2.25===e?t=2.5:e>=2.5&&(t=3),this.prefDescRate=t},AblePlayer.prototype.announceDescriptionText=function(t,i){var a,s,n,r,o,l,h,p,c;a=this;if(this.speechEnabled||this.initSpeech("desc"),"sample"===t?(s=e("#"+this.mediaId+"_prefDescVoice").val(),o=e("#"+this.mediaId+"_prefDescPitch").val(),l=e("#"+this.mediaId+"_prefDescRate").val(),h=e("#"+this.mediaId+"_prefDescVolume").val()):(s=this.prefDescVoice,o=this.prefDescPitch,l=this.prefDescRate,h=this.prefDescVolume),this.descVoices){if(this.descVoices.length>0){if(s)for(n=0;n<this.descVoices.length;n++)if(this.descVoices[n].name==s){r=this.descVoices[n];break}void 0===r&&(r=this.descVoices[0])}}else r=null;p=new SpeechSynthesisUtterance,r&&(p.voice=r),p.voiceURI="native",p.volume=h,p.rate=l,p.pitch=o,p.text=i,p.lang=this.lang,p.onstart=function(e){},p.onpause=function(e){},p.onend=function(e){this.speakingDescription=!1,c=e.elapsedTime,c>100?(e.elapsedTime/1e3).toFixed(2):e.elapsedTime.toFixed(2),this.debug,"description"===t&&a.prefDescPause&&a.pausedForDescription&&(a.playMedia(),this.pausedForDescription=!1)},p.onerror=function(e){},this.synth.paused&&this.synth.resume(),this.synth.speak(p),this.speakingDescription=!0}}(jQuery),jQuery,AblePlayer.prototype.isIOS=function(e){var t;return t=navigator.userAgent.toLowerCase(),!!/ipad|iphone|ipod/.exec(t)&&(void 0===e||-1!==t.indexOf("os "+e))},AblePlayer.prototype.browserSupportsVolume=function(){var e;return!this.isIOS()&&((e=new Audio).volume=.9,.9===e.volume)},AblePlayer.prototype.nativeFullscreenSupported=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled},function(e){AblePlayer.prototype.seekTo=function(e){var t,i=this;(this.seekFromTime=this.media.currentTime,this.seekToTime=e,this.seeking=!0,this.liveUpdatePending=!0,this.speakingDescription&&this.synth.cancel(),this.syncSignVideo({time:this.startTime}),"html5"===this.player)?(this.startTime=e,(t=this.media.seekable).length>0&&this.startTime>=t.start(0)&&this.startTime<=t.end(0)&&(this.media.currentTime=this.startTime,this.seekStatus="complete",this.syncSignVideo({time:this.startTime}))):"youtube"===this.player?(this.youTubePlayer.seekTo(e,!0),e>0&&void 0!==this.$posterImg&&this.$posterImg.hide(),this.syncSignVideo({time:e})):"vimeo"===this.player&&this.vimeoPlayer.setCurrentTime(e).then(function(){i.elapsed=e,i.refreshControls("timeline")});this.refreshControls("timeline")},AblePlayer.prototype.getMediaTimes=function(e,t){var i,a,s,n;return n={},a=(i=new this.defer).promise(),s=this,void 0!==e&&void 0!==t?(n.duration=e,n.elapsed=t,i.resolve(n)):this.getDuration().then(function(e){n.duration=s.roundDown(e,6),s.getElapsed().then(function(e){n.elapsed=s.roundDown(e,6),i.resolve(n)})}),a},AblePlayer.prototype.getDuration=function(){var e,t,i;(t=(e=new this.defer).promise(),"vimeo"===this.player)?this.vimeoPlayer?this.vimeoPlayer.getDuration().then(function(t){void 0===t||isNaN(t)||-1===t?e.resolve(0):e.resolve(t)}):e.resolve(0):("html5"===this.player?i=this.media.duration:"youtube"===this.player&&(i=this.youTubePlayerReady?this.duration>0?this.duration:this.youTubePlayer.getDuration():0),void 0===i||isNaN(i)||-1===i?e.resolve(0):e.resolve(i));return t},AblePlayer.prototype.getElapsed=function(){var e,t,i;(t=(e=new this.defer).promise(),"vimeo"===this.player)?this.vimeoPlayer?this.vimeoPlayer.getCurrentTime().then(function(t){void 0===t||isNaN(t)||-1===t?e.resolve(0):e.resolve(t)}):e.resolve(0):("html5"===this.player?i=this.media.currentTime:"youtube"===this.player&&(i=this.youTubePlayerReady?this.youTubePlayer.getCurrentTime():0),void 0===i||isNaN(i)||-1===i?e.resolve(0):e.resolve(i));return t},AblePlayer.prototype.getPlayerState=function(){var e,t,i;if(t=(e=new this.defer).promise(),i=this,"html5"===this.player)this.media.ended?e.resolve("ended"):this.media.paused?e.resolve("paused"):4!==this.media.readyState?e.resolve("buffering"):e.resolve("playing");else if("youtube"===this.player&&this.youTubePlayerReady){var a=this.youTubePlayer.getPlayerState();-1===a||5===a?e.resolve("stopped"):0===a?e.resolve("ended"):1===a?e.resolve("playing"):2===a?e.resolve("paused"):3===a&&e.resolve("buffering")}else"vimeo"===this.player&&this.vimeoPlayer&&this.vimeoPlayer.getPaused().then(function(t){t?e.resolve("paused"):i.vimeoPlayer.getEnded().then(function(t){t?e.resolve("ended"):e.resolve("playing")})});return t},AblePlayer.prototype.isPlaybackRateSupported=function(){return"html5"===this.player?!!this.media.playbackRate:"youtube"===this.player?!!this.youTubePlayerReady&&this.youTubePlayer.getAvailablePlaybackRates().length>1:"vimeo"===this.player?this.vimeoSupportsPlaybackRateChange:void 0},AblePlayer.prototype.setPlaybackRate=function(e){e=Math.max(.5,e),this.hasClosedDesc&&"text"===this.descMethod&&this.syncSpeechToPlaybackRate(e),this.syncSignVideo({rate:e}),"html5"===this.player?this.media.playbackRate=e:"youtube"===this.player?this.youTubePlayer.setPlaybackRate(e):"vimeo"===this.player&&this.vimeoPlayer.setPlaybackRate(e),this.syncSignVideo({rate:e}),this.playbackRate=e,this.$speed.text(this.translate("speed","Speed")+": "+e.toFixed(2).toString()+"x")},AblePlayer.prototype.getPlaybackRate=function(){return"html5"===this.player?this.media.playbackRate:"youtube"===this.player&&this.youTubePlayerReady?this.youTubePlayer.getPlaybackRate():void 0},AblePlayer.prototype.isPaused=function(){if("vimeo"===this.player)return!this.playing;this.getPlayerState().then(function(e){return"paused"===e||"stopped"===e||"ended"===e})},AblePlayer.prototype.syncSignVideo=function(e){this.hasSignLanguage&&(this.signVideo||this.signYoutube)&&(e&&void 0!==e.time&&(this.signVideo?this.signVideo.currentTime=e.time:this.youTubeSignPlayer.seekTo(e.time,!0)),e&&void 0!==e.rate&&(this.signVideo?this.signVideo.playbackRate=e.rate:this.youTubeSignPlayer.setPlaybackRate(e.rate)),e&&void 0!==e.pause&&(this.signVideo?this.signVideo.pause(!0):this.youTubeSignPlayer.pauseVideo()),e&&void 0!==e.play&&(this.signVideo?this.signVideo.play(!0):this.youTubeSignPlayer.playVideo()),e&&void 0!==e.volume&&this.signVideo&&(this.signVideo.volume=0))},AblePlayer.prototype.pauseMedia=function(){this.syncSignVideo({pause:!0}),"html5"===this.player?this.media.pause(!0):"youtube"===this.player?this.youTubePlayer.pauseVideo():"vimeo"===this.player&&this.vimeoPlayer.pause()},AblePlayer.prototype.playMedia=function(){this.syncSignVideo({play:!0}),"html5"===this.player?this.media.play(!0):"youtube"===this.player?(this.youTubePlayer.playVideo(),void 0!==this.$posterImg&&this.$posterImg.hide(),this.stoppingYouTube=!1):"vimeo"===this.player&&this.vimeoPlayer.play(),this.startedPlaying=!0,this.hideControls&&(this.hidingControls=!0,this.invokeHideControlsTimeout())},AblePlayer.prototype.fadeControls=function(e){"out"==e?this.$playerDiv.addClass("fade-out").removeClass("fade-in"):"in"==e&&this.$playerDiv.addClass("fade-in").removeClass("fade-out")},AblePlayer.prototype.invokeHideControlsTimeout=function(){var e=this;this.hideControlsTimeout=window.setTimeout(function(){void 0!==e.playing&&!0===e.playing&&e.hideControls&&(e.fadeControls("out"),e.controlsHidden=!0)},5e3),this.hideControlsTimeoutStatus="active"},AblePlayer.prototype.refreshControls=function(t="init",i,a){var s,n,r,o,l,h,p,c,u,d,f,g,m;if((t="init",s=this,!this.swappingSrc||!this.playing)&&void 0!==this.duration){if(this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.chapterElapsed=this.getChapterElapsed()),!this.useFixedSeekInterval&&!this.seekIntervalCalculated&&this.duration>0&&this.setSeekInterval(),this.seekBar&&(this.useChapterTimes?(h=this.selectedChapters.cues.length-1,this.selectedChapters.cues[h]==this.currentChapter&&this.currentChapter.end!==this.duration?this.seekBar.setDuration(this.duration-this.currentChapter.start):this.seekBar.setDuration(this.chapterDuration)):void 0===this.duration||isNaN(this.duration)||-1===this.duration||this.seekBar.setDuration(this.duration),this.seekBar.tracking||(c=this.liveUpdatePending||this.seekBar.seekHead.is(e(document.activeElement)),this.liveUpdatePending=!1,this.useChapterTimes?this.seekBar.setPosition(this.chapterElapsed,c):this.seekBar.setPosition(this.elapsed,c)),p=this.seekBar.tracking?this.seekBar.lastTrackPosition:this.useChapterTimes?this.chapterElapsed:this.elapsed),void 0!==this.$durationContainer&&(this.useChapterTimes?this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(this.chapterDuration)):this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(this.duration))),void 0!==this.$elapsedTimeContainer&&this.$elapsedTimeContainer.text(this.formatSecondsAsColonTime(p)),"legacy"===this.skin&&this.seekBar){let t=this.seekBar.wrapperDiv.parent().parent();f=(d=this.seekBar.wrapperDiv.parent().prev("div.able-left-controls")).next("div.able-right-controls"),u=d.outerWidth(!0),f.children().each(function(){"button"==e(this).attr("role")&&(u+=e(this).outerWidth(!0)+5)}),g=this.fullscreen?e(window).width()-u:t.width()-u-10,Math.abs(g-this.seekBar.getWidth())>5&&this.seekBar.setWidth(g)}if("html5"===this.player&&this.media.buffered.length>0?(m=this.media.buffered.end(0),this.useChapterTimes?(m>this.chapterDuration&&(m=this.chapterDuration),this.seekBar&&this.seekBar.setBuffered(m/this.chapterDuration)):this.seekBar&&!isNaN(m)&&this.seekBar.setBuffered(m/i)):"youtube"===this.player&&this.seekBar&&this.youTubePlayerReady?this.seekBar.setBuffered(this.youTubePlayer.getVideoLoadedFraction()):this.player,this.$descButton&&this.toggleButtonState(this.$descButton,this.descOn,this.translate("turnOffDescriptions","Turn off descriptions"),this.translate("turnOnDescriptions","Turn on descriptions")),this.$ccButton){(o=this.captions.length)>1&&this.$ccButton.attr({"aria-haspopup":"true","aria-controls":this.mediaId+"-captions-menu"});var v=o>1?this.translate("captions","Captions"):this.translate("showCaptions","Show captions"),y=o>1?this.translate("captions","Captions"):this.translate("hideCaptions","Hide captions"),b=o>1;this.toggleButtonState(this.$ccButton,this.captionsOn,y,v,b)}this.$fullscreenButton&&(this.fullscreen?(this.$fullscreenButton.attr("aria-label",this.translate("exitFullScreen","Exit full screen")),this.getIcon(this.$fullscreenButton,"fullscreen-collapse")):(this.$fullscreenButton.attr("aria-label",this.translate("enterFullScreen","Enter full screen")),this.getIcon(this.$fullscreenButton,"fullscreen-expand"))),void 0!==this.$bigPlayButton&&void 0!==this.seekBar&&(this.paused&&!this.seekBar.tracking?this.hideBigPlayButton||(this.$bigPlayButton.show(),this.$bigPlayButton.attr("aria-hidden","false")):(this.$bigPlayButton.hide(),this.$bigPlayButton.attr("aria-hidden","true"))),this.transcriptType&&(1===this.prefAutoScrollTranscript?(this.autoScrollTranscript=!0,this.$autoScrollTranscriptCheckbox.prop("checked",!0)):(this.autoScrollTranscript=!1,this.$autoScrollTranscriptCheckbox.prop("checked",!1)),this.autoScrollTranscript&&this.currentHighlight&&(l=Math.floor(this.$transcriptDiv.scrollTop()+e(this.currentHighlight).position().top-this.$transcriptDiv.height()/2+e(this.currentHighlight).height()/2))!==Math.floor(this.$transcriptDiv.scrollTop())&&(this.scrollingTranscript=!0,this.movingHighlight&&(this.$transcriptDiv.scrollTop(l),this.movingHighlight=!1))),this.$chaptersButton&&this.$chaptersButton.attr({"aria-label":this.translate("chapters","Chapters"),"aria-haspopup":"true","aria-controls":this.mediaId+"-chapters-menu"}),n={stopped:this.translate("statusStopped","Stopped"),paused:this.translate("statusPaused","Paused"),playing:this.translate("statusPlaying","Playing"),buffering:this.translate("statusBuffering","Buffering"),ended:this.translate("statusEnd","End of track")},this.stoppingYouTube?(this.$status.text()!==this.translate("statusStopped","Stopped")&&this.$status.text(this.translate("statusStopped","Stopped")),this.getIcon(this.$playpauseButton,"play")):void 0!==this.$status&&void 0!==this.seekBar&&this.getPlayerState().then(function(e){s.$status.text()===n[e]||s.seekBar.tracking?(s.statusDebounceStart=null,s.debouncingStatus=!1,clearTimeout(s.statusTimeout),s.statusTimeout=null):(s.swappingSrc?s.debouncingStatus||(s.statusMessageThreshold=2e3):s.debouncingStatus||(s.statusMessageThreshold=250),r=(new Date).getTime(),s.statusDebounceStart?r-s.statusDebounceStart>s.statusMessageThreshold&&(s.$status.text(n[e]),s.statusDebounceStart=null,clearTimeout(s.statusTimeout),s.statusTimeout=null):(s.statusDebounceStart=r,s.debouncingStatus=!0,s.statusTimeout=setTimeout(function(){s.debouncingStatus=!1,s.refreshControls(t)},s.statusMessageThreshold))),s.seekBar.tracking||s.stoppingYouTube||("paused"===e||"stopped"===e||"ended"===e?(s.$playpauseButton.attr("aria-label",s.tt.play),s.getIcon(s.$playpauseButton,"play")):(s.$playpauseButton.attr("aria-label",s.tt.pause),s.getIcon(s.$playpauseButton,"pause")))}),this.fullscreen||(this.$statusBarDiv.width()<300?(this.$statusBarDiv.find("span.able-speed").hide(),this.hidingSpeed=!0):this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1))}},AblePlayer.prototype.handlePlay=function(e){this.paused?(this.okToPlay=!0,this.playMedia(),this.synth.paused&&this.synth.resume()):(this.okToPlay=!1,this.pauseMedia(),this.speakingDescription&&this.synth.pause()),null===this.speechEnabled&&this.initSpeech("play")},AblePlayer.prototype.handleRestart=function(){this.speakingDescription&&this.synth.cancel(),this.seekTo(0)},AblePlayer.prototype.handlePrevTrack=function(){this.playlistIndex=0===this.playlistIndex?this.$playlist.length-1:this.playlistIndex--,this.cueingPlaylistItem=!0,this.cuePlaylistItem(this.playlistIndex)},AblePlayer.prototype.handleNextTrack=function(){this.playlistIndex=this.playlistIndex===this.$playlist.length-1?0:this.playlistIndex++,this.cueingPlaylistItem=!0,this.cuePlaylistItem(this.playlistIndex)},AblePlayer.prototype.handleRewind=function(){var e;e=this.elapsed-this.seekInterval,this.useChapterTimes&&e<this.currentChapter.start?e=this.currentChapter.start:e<0&&(e=0),this.seekTo(e)},AblePlayer.prototype.handleFastForward=function(){var e,t;t=this.chapters.length-1,e=this.elapsed+this.seekInterval,this.useChapterTimes?this.chapters[t]==this.currentChapter?(e>this.duration||e>this.currentChapter.end||this.duration%e<this.seekInterval)&&(e=Math.min(this.duration,this.currentChapter.end)):e>this.currentChapter.end&&(e=this.currentChapter.end):e>this.duration&&(e=this.duration),this.seekTo(e)},AblePlayer.prototype.handleRateIncrease=function(){this.changeRate(1)},AblePlayer.prototype.handleRateDecrease=function(){this.changeRate(-1)},AblePlayer.prototype.changeRate=function(e){var t,i,a,s;"html5"===this.player?this.setPlaybackRate(this.getPlaybackRate()+.25*e):"youtube"===this.player?this.youTubePlayerReady&&(t=this.youTubePlayer.getAvailablePlaybackRates(),i=this.getPlaybackRate(),-1===(a=t.indexOf(i))||(a+=e)<t.length&&a>=0&&this.setPlaybackRate(t[a])):"vimeo"===this.player&&(1===e?s=this.vimeoPlaybackRate+.5<=2?this.vimeoPlaybackRate+.5:2:-1===e&&(s=this.vimeoPlaybackRate-.5>=.5?this.vimeoPlaybackRate-.5:.5),this.setPlaybackRate(s))},AblePlayer.prototype.handleCaptionToggle=function(){var e,t,i=this;if(this.hidingPopup)return this.hidingPopup=!1,!1;if(1===(e=this.captions.length?this.captions:[]).length)if(!0===this.captionsOn)this.captionsOn=!1,this.prefCaptions=0,t=!1,this.updatePreferences("prefCaptions"),this.usingYouTubeCaptions?this.youTubePlayer.unloadModule("captions"):this.usingVimeoCaptions?this.vimeoPlayer.disableTextTrack():this.$captionsWrapper.hide();else{this.captionsOn=!0,this.prefCaptions=1,t=!0,this.updatePreferences("prefCaptions"),this.usingYouTubeCaptions?this.youTubePlayer.loadModule("captions"):this.usingVimeoCaptions?this.vimeoPlayer.enableTextTrack(this.captionLang).then(function(e){}).catch(function(e){e.name}):this.$captionsWrapper.show();for(var a=0;a<e.length;a++)!0===e[a].def&&(this.selectedCaptions=e[a]);this.selectedCaptions=this.captions[0],this.descriptions.length>=0&&(this.selectedDescriptions=this.descriptions[0])}else this.captionsPopup&&this.captionsPopup.is(":visible")?(this.captionsPopup.hide(),this.hidingPopup=!1,this.$ccButton.attr("aria-expanded","false"),this.waitThenFocus(this.$ccButton)):(this.closePopups(),this.captionsPopup&&(this.captionsPopup.show(),this.$ccButton.attr("aria-expanded","true"),setTimeout(function(){i.captionsPopup.css("top",i.$ccButton.position().top-i.captionsPopup.outerHeight()),i.captionsPopup.css("left",i.$ccButton.position().left),i.captionsPopup.find("li").removeClass("able-focus"),i.captionsPopup.find("li").first().trigger("focus").addClass("able-focus")},50)));var s=e.length>1?this.translate("captions","Captions"):this.translate("showCaptions","Show captions"),n=e.length>1?this.translate("captions","Captions"):this.translate("hideCaptions","Hide captions");this.toggleButtonState(this.$ccButton,this.captionsOn,n,s,t)},AblePlayer.prototype.waitThenFocus=function(e,t){setTimeout(function(){e.trigger("focus")},null==t?50:t)},AblePlayer.prototype.handleChapters=function(){if(this.hidingPopup)return this.hidingPopup=!1,!1;this.chaptersPopup.is(":visible")?(this.chaptersPopup.hide(),this.hidingPopup=!1,this.$chaptersButton.attr("aria-expanded","false").trigger("focus")):(this.closePopups(),this.chaptersPopup.show(),this.$chaptersButton.attr("aria-expanded","true"),this.chaptersPopup.css("top",this.$chaptersButton.position().top-this.chaptersPopup.outerHeight()),this.chaptersPopup.css("left",this.$chaptersButton.position().left),this.chaptersPopup.find("li").removeClass("able-focus"),this.chaptersPopup.find('li[aria-checked="true"]').length?this.chaptersPopup.find('li[aria-checked="true"]').trigger("focus").addClass("able-focus"):this.chaptersPopup.find("li").first().addClass("able-focus").attr("aria-checked","true").trigger("focus"))},AblePlayer.prototype.handleDescriptionToggle=function(){this.descOn=!this.descOn,this.prefDesc=+this.descOn,this.updatePreferences("prefDesc"),void 0!==this.$descDiv&&(this.$descDiv.is(":hidden")||this.$descDiv.hide()),this.initDescription(),this.refreshControls("descriptions")},AblePlayer.prototype.handlePrefsClick=function(e){var t,i,a,s;if(t=this,null===this.speechEnabled&&this.initSpeech("prefs"),this.hidingPopup)return this.hidingPopup=!1,!1;this.prefsPopup.is(":visible")?(this.prefsPopup.hide(),this.$prefsButton.attr("aria-expanded","false"),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.showingPrefsDialog||this.$prefsButton.trigger("focus"),setTimeout(function(){t.hidingPopup=!1},100)):(this.closePopups(),this.prefsPopup.show(),this.$prefsButton.attr("aria-expanded","true"),this.$prefsButton.trigger("focus"),setTimeout(function(){i=t.$prefsButton.position(),a=t.$ableDiv.width()-5,s=a-t.prefsPopup.width(),t.prefsPopup.css("top",i.top-t.prefsPopup.outerHeight()),t.prefsPopup.css("left",s),t.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","0"),t.prefsPopup.find("li").first().trigger("focus").addClass("able-focus")},50))},AblePlayer.prototype.handleTranscriptToggle=function(){var e=this,t=this.$transcriptDiv.is(":visible");t?(this.$transcriptArea.hide(),this.toggleButtonState(this.$transcriptButton,!t,this.translate("hideTranscript","Hide transcript"),this.translate("showTranscript","Show transcript")),this.prefTranscript=0,"popup"===this.transcriptType&&(this.$transcriptButton.trigger("focus").addClass("able-focus"),setTimeout(function(){e.closingTranscript=!1},100))):"popup"===this.transcriptType?(this.positionDraggableWindow("transcript"),this.$transcriptArea.show(),this.$transcriptPopup.hide(),this.toggleButtonState(this.$transcriptButton,!t,this.translate("hideTranscript","Hide transcript"),this.translate("showTranscript","Show transcript")),this.prefTranscript=1,this.focusNotClick=!0,this.$transcriptArea.find("button").first().trigger("focus"),setTimeout(function(){e.focusNotClick=!1},100)):(this.toggleButtonState(this.$transcriptButton,!t,this.translate("hideTranscript","Hide transcript"),this.translate("showTranscript","Show transcript")),this.$transcriptArea.show()),this.updatePreferences("prefTranscript")},AblePlayer.prototype.handleSignToggle=function(){var e=this,t=this.$signWindow.is(":visible");t?(this.$signWindow.hide(),this.toggleButtonState(this.$signButton,!t,this.translate("hideSign","Hide sign language"),this.translate("showSign","Show sign language")),this.prefSign=0,this.$signButton.trigger("focus").addClass("able-focus"),setTimeout(function(){e.closingSign=!1},100)):(this.positionDraggableWindow("sign"),this.$signWindow.show(),this.$signPopup.hide(),this.toggleButtonState(this.$signButton,!t,this.translate("hideSign","Hide sign language"),this.translate("showSign","Show sign language")),this.prefSign=1,this.focusNotClick=!0,this.$signWindow.find("button").first().trigger("focus"),setTimeout(function(){e.focusNotClick=!1},100)),this.updatePreferences("prefSign")},AblePlayer.prototype.setFullscreen=function(t){if(this.fullscreen!=t){var i=this,a=this.$ableWrapper[0];if(this.nativeFullscreenSupported())if(t){var s={x:window.pageXOffset||0,y:window.pageYOffset||0};1===this.prefTranscript&&this.rePositionDraggableWindow("transcript"),1===this.prefSign&&this.rePositionDraggableWindow("sign"),this.scrollPosition=s,a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(),this.fullscreen=!0}else this.restoringAfterFullscreen=!0,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullscreen&&document.webkitCancelFullscreen(),1===this.prefTranscript&&this.positionDraggableWindow("transcript"),1===this.prefSign&&this.positionDraggableWindow("sign"),this.fullscreen=!1;e(document).on("fullscreenchange webkitfullscreenchange",function(e){i.fullscreen?i.clickedFullscreenButton||(i.fullscreen=!1,i.restoringAfterFullscreen=!0):i.restoringAfterFullscreen=!0,i.resizePlayer(),i.refreshControls("fullscreen"),i.scrollPosition&&(s=i.scrollPosition,window.scrollTo(s.x,s.y)),setTimeout(function(){i.clickedFullscreenButton=!1,i.restoringAfterFullscreen=!1},100)})}},AblePlayer.prototype.handleFullscreenToggle=function(){var e=this.paused;this.setFullscreen(!this.fullscreen),e?this.pauseMedia():e||this.playMedia(),this.fullscreen?(this.hideControls=!0,this.playing&&(this.fadeControls("out"),this.controlsHidden=!0)):(this.hideControls=this.hideControlsOriginal,this.hideControls||(this.controlsHidden&&(this.fadeControls("in"),this.controlsHidden=!1),"active"===this.hideControlsTimeoutStatus&&(window.clearTimeout(this.hideControlsTimeout),this.hideControlsTimeoutStatus="clear")))},AblePlayer.prototype.handleTranscriptLockToggle=function(e){this.autoScrollTranscript=e,this.prefAutoScrollTranscript=+e,this.updatePreferences("prefAutoScrollTranscript"),this.refreshControls("transcript")},AblePlayer.prototype.getIcon=function(t,i,a=!1){var s=this.iconType,n=this.getIconData(i);if(s=null===n[3]?"svg":s,s=!0===a?"img":s,!(t.find(s+"#ableplayer-"+i).length>0))if(t.find("svg, img, span").remove(),"font"===s){var r=e("<span>",{class:n[2]});t.append(r)}else if("svg"===s){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("focusable","false"),o.setAttribute("aria-hidden","true"),o.setAttribute("viewBox",n[0]),o.setAttribute("id","ableplayer-"+i);let e=function getNode(e,t){for(var i in e=document.createElementNS("http://www.w3.org/2000/svg",e),t)e.setAttributeNS(null,i.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t[i]);return e}("path",{d:n[1]});o.appendChild(e),t.append(o),t.html(t.html())}else{var l=e("<img>",{src:n[3],alt:"",role:"presentation"});t.append(l),t.find("img").attr("src",n[3])}},AblePlayer.prototype.setText=function(e,t){e.attr("aria-label",t)},AblePlayer.prototype.toggleButtonState=function(e,t,i,a,s=!1,n=!1){let r=!!e.hasClass("buttonOff");r&&!t||!r&&t||(t?(e.removeClass("buttonOff").attr("aria-label",i),s&&e.attr("aria-pressed","true"),n&&e.attr("aria-expanded","true")):(e.addClass("buttonOff").attr("aria-label",a),s&&e.attr("aria-pressed","false"),n&&e.attr("aria-expanded","false")))},AblePlayer.prototype.showTooltip=function(e){e.show()},AblePlayer.prototype.showAlert=function(e,t="main"){var i,a,s;a=(i=this).$alertBox,s=i.$ableDiv,"transcript"===t?s=i.$transcriptArea:"sign"===t?s=i.$signWindow:"screenreader"===t&&(a=i.$srAlertBox),a.find("span").text(e),a.appendTo(s),a.css({display:"flex"}),"screenreader"!==t&&setTimeout(function(){a.hide()},3e4)},AblePlayer.prototype.showedAlert=function(e){return"transcript"===e?this.showedTranscriptAlert??!1:"sign"===e&&(this.showedSignAlert??!1)},AblePlayer.prototype.resizePlayer=function(t,i){var a,s,n,r;if("audio"!==this.mediaType){if(void 0!==t&&void 0!==i?(this.aspectRatio=i/t,this.playerWidth?(s=this.playerWidth,this.playerHeight?n=this.playerHeight:(n=Math.round(s*this.aspectRatio),this.playerHeight=n)):(s="html5"===this.player?e(window).width():this.$ableWrapper.width(),n=Math.round(s*this.aspectRatio))):this.fullscreen?(this.$ableWrapper.addClass("fullscreen"),s=e(window).width(),n=e(window).height()-this.$playerDiv.outerHeight()-5,this.positionCaptions("overlay")):(this.$ableWrapper.removeClass("fullscreen"),s="html5"===this.player?this.playerWidth?this.playerWidth:e(window).width():this.$ableWrapper.width(),n=Math.round(s*this.aspectRatio),this.positionCaptions(this.prefCaptionsPosition)),this.debug,"youtube"===this.player||"vimeo"===this.player?(r=this.$ableWrapper.find("iframe"),"youtube"===this.player&&this.youTubePlayer?this.youTubePlayer.setSize(s,n):r.attr({width:s,height:n}),this.playerWidth&&this.playerHeight&&(this.fullscreen?r.css({"max-width":"","max-height":""}):r.css({"max-width":this.playerWidth+"px","max-height":this.playerHeight+"px"}))):"html5"===this.player&&(this.fullscreen?(this.$media.attr({width:s,height:n}),this.$ableWrapper.css({width:s,height:n})):(this.$media.removeAttr("width height"),this.$ableWrapper.removeAttr("style"))),void 0!==this.$captionsDiv){var o=!1;window.screen.width<1200&&(o=!0),a=parseInt(this.prefCaptionsSize,10),this.fullscreen&&!o?a=a/100+"vw":this.fullscreen&&o?a="1.2rem":a+="%",this.$captionsDiv.css({"font-size":a})}this.refreshControls()}},AblePlayer.prototype.retrieveOffscreenWindow=function(e,t,i){var a,s,n,r,o,l,h,p;"transcript"==e?a=this.$transcriptArea:"sign"==e&&(a=this.$signWindow),l=a.width(),p=a.height(),n=(s=a.position()).top,o=(r=s.left)+l,h=n+p,n<0&&(n=10,a.css("top",n)),r<0&&(r=10,a.css("left",r)),o>t&&(r=t-20-l,a.css("left",r)),h>i&&(n=i-10-p,a.css("top",n))},AblePlayer.prototype.updateZIndex=function(e){var t,i,a,s,n,r;if(t=8e3,i=7e3,void 0===this.$transcriptArea||void 0===this.$signWindow)return void 0!==this.$transcriptArea?(a=parseInt(this.$transcriptArea.css("z-index")))>i&&this.$transcriptArea.css("z-index",i):void 0!==this.$signWindow&&(s=parseInt(this.$signWindow.css("z-index")))>t&&this.$signWindow.css("z-index",t),!1;if((a=parseInt(this.$transcriptArea.css("z-index")))===(s=parseInt(this.$signWindow.css("z-index"))))n=t,r=i;else if(a>s){if("transcript"===e)return!1;n=a,r=s}else{if("sign"===e)return!1;n=s,r=a}"transcript"===e?(this.$transcriptArea.css("z-index",n),this.$signWindow.css("z-index",r)):"sign"===e&&(this.$signWindow.css("z-index",n),this.$transcriptArea.css("z-index",r))},AblePlayer.prototype.syncTrackLanguages=function(e,t){var i,a,s,n,r;for(i=0;i<this.captions.length;i++)this.captions[i].language===t&&(a=this.captions[i]);for(i=0;i<this.chapters.length;i++)this.chapters[i].language===t&&(n=this.chapters[i]);for(i=0;i<this.descriptions.length;i++)this.descriptions[i].language===t&&(s=this.descriptions[i]);for(i=0;i<this.meta.length;i++)this.meta[i].language===t&&(r=this.meta[i]);if(this.transcriptLang=t,"init"===e||"captions"===e?(this.captionLang=t,this.selectedCaptions=a,this.selectedChapters=n,this.selectedDescriptions=s,this.selectedMeta=r,this.transcriptCaptions=a,this.transcriptChapters=n,this.transcriptDescriptions=s,this.updateChaptersList()):"transcript"===e&&(this.transcriptCaptions=a,this.transcriptChapters=n,this.transcriptDescriptions=s),this.selectedDescriptions&&(this.setDescriptionVoice(),this.$sampleDescDiv&&this.sampleText))for(i=0;i<this.sampleText.length;i++)this.sampleText[i].lang===this.selectedDescriptions.language&&(this.currentSampleText=this.sampleText[i].text,this.$sampleDescDiv.html(this.currentSampleText));this.updateTranscript()}}(jQuery),function(e){AblePlayer.prototype.updateCaption=function(e){this.usingYouTubeCaptions||this.usingVimeoCaptions||void 0===this.$captionsWrapper||(this.captionsOn?(this.$captionsWrapper.show(),void 0!==e&&this.showCaptions(e)):this.$captionsWrapper&&(this.$captionsWrapper.hide(),this.prefCaptions=0))},AblePlayer.prototype.updateCaptionsMenu=function(e){this.captionsPopup.find("li").attr("aria-checked","false"),void 0===e?this.captionsPopup.find("li").last().attr("aria-checked","true"):this.captionsPopup.find("li[lang="+e+"]").attr("aria-checked","true")},AblePlayer.prototype.getCaptionClickFunction=function(e){var t=this;return function(){t.selectedCaptions=e,t.captionLang=e.language,t.currentCaption=-1,t.usingYouTubeCaptions?t.captionsOn?t.youTubePlayer.getOptions("captions")&&t.startedPlaying?t.youTubePlayer.setOption("captions","track",{languageCode:t.captionLang}):t.captionLangPending=t.captionLang:t.youTubePlayer.getOptions("captions")?t.youTubePlayer.setOption("captions","track",{languageCode:t.captionLang}):(t.youTubePlayer.loadModule("captions"),t.captionLangPending=t.captionLang):t.usingVimeoCaptions?t.vimeoPlayer.enableTextTrack(t.captionLang).then(function(e){}).catch(function(e){e.name}):(t.syncTrackLanguages("captions",t.captionLang),t.swappingSrc||(t.updateCaption(t.elapsed),t.showDescription(t.elapsed))),t.captionsOn=!0,t.hidingPopup=!0,t.captionsPopup.hide(),t.$ccButton.attr("aria-expanded","false"),"audio"===t.mediaType&&t.$captionsContainer.removeClass("captions-off"),setTimeout(function(){t.hidingPopup=!1},100),t.updateCaptionsMenu(t.captionLang),t.waitThenFocus(t.$ccButton),t.prefCaptions=1,t.updatePreferences("prefCaptions"),t.refreshControls("captions")}},AblePlayer.prototype.getCaptionOffFunction=function(){var e=this;return function(){"youtube"==e.player?e.youTubePlayer.unloadModule("captions"):e.usingVimeoCaptions&&e.vimeoPlayer.disableTextTrack(),e.captionsOn=!1,e.currentCaption=-1,"audio"===e.mediaType&&e.$captionsContainer.addClass("captions-off"),e.hidingPopup=!0,e.captionsPopup.hide(),e.$ccButton.attr("aria-expanded","false"),setTimeout(function(){e.hidingPopup=!1},100),e.updateCaptionsMenu(),e.waitThenFocus(e.$ccButton),e.prefCaptions=0,e.updatePreferences("prefCaptions"),this.swappingSrc||(e.refreshControls("captions"),e.updateCaption())}},AblePlayer.prototype.showCaptions=function(e){var t,i,a,s;for(s=this.selectedCaptions.cues.length?this.selectedCaptions.cues:this.captions.length>=1?this.captions[0].cues:[],t=0;t<s.length;t++)if(s[t].start<=e&&s[t].end>e){i=t;break}void 0!==i?this.currentCaption!==i&&(a=this.flattenCueForCaption(s[i]).replace(/\n/g,"<br>"),this.$captionsDiv.html(a),this.currentCaption=i,0===a.length?this.$captionsDiv.css("display","none"):this.$captionsDiv.css("display","inline-block")):(this.$captionsDiv.html("").css("display","none"),this.currentCaption=-1)},AblePlayer.prototype.flattenCueForCaption=function(e){var t=[],flattenComponent=function(e){var t,i=[];if("string"===e.type)i.push(e.value);else if("v"===e.type)for(i.push("("+e.value+")"),t=0;t<e.children.length;t++)i.push(flattenComponent(e.children[t]));else if("i"===e.type){for(i.push("<em>"),t=0;t<e.children.length;t++)i.push(flattenComponent(e.children[t]));i.push("</em>")}else if("b"===e.type){for(i.push("<strong>"),t=0;t<e.children.length;t++)i.push(flattenComponent(e.children[t]));i.push("</strong>")}else for(t=0;t<e.children.length;t++)i.push(flattenComponent(e.children[t]));return i.join("")};if(void 0!==e.components)for(var i=0;i<e.components.children.length;i++)t.push(flattenComponent(e.components.children[i]));return t.join("")},AblePlayer.prototype.getCaptionsOptions=function(e){var t=[];switch(e){case"prefCaptionsFont":t[0]=["serif",this.translate("serif","serif")],t[1]=["sans-serif",this.translate("sans","sans-serif")],t[2]=["cursive",this.translate("cursive","cursive")],t[3]=["fantasy",this.translate("fantasy","fantasy")],t[4]=["monospace",this.translate("monospace","monospace")];break;case"prefCaptionsColor":case"prefCaptionsBGColor":t[0]=["white",this.translate("white","white")],t[1]=["yellow",this.translate("yellow","yellow")],t[2]=["green",this.translate("green","green")],t[3]=["cyan",this.translate("cyan","cyan")],t[4]=["blue",this.translate("blue","blue")],t[5]=["magenta",this.translate("magenta","magenta")],t[6]=["red",this.translate("red","red")],t[7]=["black",this.translate("black","black")];break;case"prefCaptionsSize":t[0]="75%",t[1]="100%",t[2]="125%",t[3]="150%",t[4]="200%";break;case"prefCaptionsOpacity":t[0]="0%",t[1]="25%",t[2]="50%",t[3]="75%",t[4]="100%";break;case"prefCaptionsStyle":t[0]=this.translate("captionsStylePopOn","Pop-on"),t[1]=this.translate("captionsStyleRollUp","Roll-up");break;case"prefCaptionsPosition":t[0]="overlay",t[1]="below"}return t},AblePlayer.prototype.translatePrefs=function(e,t,i){if("youtube"==i&&"size"===e)switch(t){case"75%":return-1;case"100%":return 0;case"125%":return 1;case"150%":return 2;case"200%":return 3}return!1},AblePlayer.prototype.stylizeCaptions=function(t,i){var a,s,n;void 0!==t&&("prefCaptionsPosition"==i?this.positionCaptions():void 0!==i?("prefCaptionsFont"===i?a="font-family":"prefCaptionsSize"===i?a="font-size":"prefCaptionsColor"===i?a="color":"prefCaptionsBGColor"===i?a="background-color":"prefCaptionsOpacity"===i&&(a="opacity"),s="prefCaptionsOpacity"===i?parseFloat(e("#"+this.mediaId+"_"+i).val())/100:e("#"+this.mediaId+"_"+i).val(),t.css(a,s)):(n=parseFloat(this.prefCaptionsOpacity)/100,t.css({"font-family":this.prefCaptionsFont,color:this.prefCaptionsColor,"background-color":this.prefCaptionsBGColor,opacity:n}),t===this.$captionsDiv&&void 0!==this.$captionsDiv&&this.$captionsDiv.css({"font-size":this.prefCaptionsSize}),"below"===this.prefCaptionsPosition?void 0!==this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"}):"overlay"===this.prefCaptionsPosition&&void 0!==this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":"transparent",opacity:""}),this.positionCaptions()))},AblePlayer.prototype.positionCaptions=function(e){void 0===e&&(e=this.prefCaptionsPosition),void 0!==this.$captionsWrapper&&("below"==e?(this.$captionsWrapper.removeClass("able-captions-overlay").addClass("able-captions-below"),this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"})):(this.$captionsWrapper.removeClass("able-captions-below").addClass("able-captions-overlay"),this.$captionsWrapper.css({"background-color":"transparent",opacity:""})))}}(jQuery),function(e){AblePlayer.prototype.populateChaptersDiv=function(){var t,i,a;this.chaptersDivLocation&&e("#"+this.chaptersDivLocation)&&(this.$chaptersDiv=e("#"+this.chaptersDivLocation),this.$chaptersDiv.addClass("able-chapters-div"),this.$chaptersDiv.empty(),this.chaptersTitle&&(t="h"+this.getNextHeadingLevel(this.$chaptersDiv).toString(),i=this.mediaId+"-chapters-heading",a=e("<"+t+">",{class:"able-chapters-heading",id:i}).text(this.chaptersTitle),this.$chaptersDiv.append(a)),this.$chaptersNav=e("<nav>"),this.chaptersTitle?this.$chaptersNav.attr("aria-labelledby",i):this.$chaptersNav.attr("aria-label",this.translate("chapters","Chapters")),this.$chaptersDiv.append(this.$chaptersNav),this.updateChaptersList())},AblePlayer.prototype.updateChaptersList=function(){var t,i,a,s,n,r,o,l,h,p;if(t=this,!this.$chaptersNav)return!1;if(void 0===this.useChapterTimes&&(this.useChapterTimes=!("chapter"!==this.seekbarScope||!this.selectedChapters.cues.length)),(i=this.useChapterTimes?this.selectedChapters.cues:this.chapters.length>=1?this.chapters[0].cues:[]).length>0){for(p=e("<ul>"),a=0;a<i.length;a++)s=a,n=e("<li></li>"),l=function(i){return function(){t.seekTrigger="chapter",h=e(this).closest("li"),(p=e(this).closest("ul").find("li")).removeClass("able-current-chapter").children("button").removeAttr("aria-current"),h.addClass("able-current-chapter").children("button").attr("aria-current","true"),t.updateChapter(i),t.seekTo(i)}},(r=e("<button>",{type:"button",val:s}).text(this.flattenCueForCaption(i[s]))).on("click",l(i[s].start)),r.on("focus",function(){e(this).closest("ul").find("li").removeClass("able-focus"),e(this).closest("li").addClass("able-focus")}),n.on("hover",function(){e(this).closest("ul").find("li").removeClass("able-focus"),e(this).addClass("able-focus")}),n.on("mouseleave",function(){e(this).removeClass("able-focus")}),r.on("blur",function(){e(this).closest("li").removeClass("able-focus")}),n.append(r),p.append(n),this.defaultChapter===i[s].id&&(r.attr("aria-current","true").parent("li").addClass("able-current-chapter"),this.currentChapter=i[s],o=!0);o||(this.currentChapter=i[0],p.find("button").first().attr("aria-current","true").parent("li").addClass("able-current-chapter")),this.$chaptersNav.html(p)}return!1},AblePlayer.prototype.seekToChapter=function(e){for(var t=0;t<this.selectedChapters.cues.length;){if(this.selectedChapters.cues[t].id==e){this.seekTo(this.selectedChapters.cues[t].start),this.updateChapter(this.selectedChapters.cues[t].start);break}t++}},AblePlayer.prototype.updateChapter=function(e){if(void 0!==this.selectedChapters){var t,i,a;for(t=this.selectedChapters.cues,i=0;i<t.length;i++)if(t[i].start<=e&&t[i].end>e){a=i;break}void 0!==a&&this.currentChapter!==t[a]&&(this.currentChapter=t[a],this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.seekIntervalCalculated=!1),void 0!==this.$chaptersDiv&&(this.$chaptersDiv.find("ul").find("li").removeClass("able-current-chapter").children("button").removeAttr("aria-current"),this.$chaptersDiv.find("ul").find("li").eq(a).addClass("able-current-chapter").children("button").attr("aria-current","true")))}},AblePlayer.prototype.getChapterDuration=function(){var e,t;return void 0===this.currentChapter||void 0===this.duration?0:(e=this.selectedChapters.cues.length-1,this.selectedChapters.cues[e]==this.currentChapter&&this.currentChapter.end!==this.duration?(t=this.duration,this.currentChapter.end=this.duration):t=this.currentChapter.end,t-this.currentChapter.start)},AblePlayer.prototype.getChapterElapsed=function(){return void 0===this.currentChapter?0:this.elapsed>this.currentChapter.start?this.elapsed-this.currentChapter.start:0},AblePlayer.prototype.convertChapterTimeToVideoTime=function(e){if(void 0!==this.currentChapter){var t=this.currentChapter.start+e;return t>this.currentChapter.end?this.currentChapter.end:t}return e},AblePlayer.prototype.getChapterClickFunction=function(e){var t=this;return function(){t.seekTrigger="chapter",t.seekTo(e),t.hidingPopup=!0,t.chaptersPopup.hide(),setTimeout(function(){t.hidingPopup=!1},100),t.$chaptersButton.trigger("focus")}}}(jQuery),function(e){AblePlayer.prototype.updateMeta=function(e){this.hasMeta&&("text"===this.metaType?(this.$metaDiv.show(),this.showMeta(e||this.elapsed)):this.showMeta(e||this.elapsed))},AblePlayer.prototype.showMeta=function(t){var i,a,s,n,r,o,l,h,p;for(i=[],n=this.meta.length>=1?this.meta:[],a=0;a<n.length;a++)if(n[a].start<=t&&n[a].end>t){s=a;break}if(void 0!==s){if(this.currentMeta!==s)if("text"===this.metaType)this.$metaDiv.html(this.flattenCueForMeta(n[s]).replace(/\n/g,"<br>"));else if("selector"===this.metaType){for(r=this.flattenCueForMeta(n[s]).split("\n"),o=0;o<r.length;o++)if("pause"===(l=r[o].trim()).toLowerCase().trim())this.hideBigPlayButton=!0,this.pauseMedia();else if("focus:"==l.toLowerCase().substring(0,6))p=l.substring(6).trim(),e(p).length&&e(p).trigger("focus");else if(e(l).length){if(this.currentMeta=s,void 0===(h=parseInt(e(l).attr("data-duration")))||isNaN(h))e(l).show();else{e(l).show();(e=>new Promise(t=>setTimeout(t,e)))(h).then(()=>{e(l).hide()})}this.visibleSelectors.push(l),i.push(l)}if(this.visibleSelectors&&this.visibleSelectors.length&&this.visibleSelectors.length!==i.length)for(o=this.visibleSelectors.length-1;o>=0;o--)-1==e.inArray(this.visibleSelectors[o],i)&&(e(this.visibleSelectors[o]).hide(),this.visibleSelectors.splice(o,1))}}else{if(void 0!==this.$metaDiv&&this.$metaDiv.html(""),this.visibleSelectors&&this.visibleSelectors.length){for(o=0;o<this.visibleSelectors.length;o++)e(this.visibleSelectors[o]).hide();this.visibleSelectors=[]}this.currentMeta=-1}},AblePlayer.prototype.flattenCueForMeta=function(e){for(var t=[],flattenComponent=function(e){var t,i=[];if("string"===e.type)i.push(e.value);else if("v"===e.type)for(i.push("["+e.value+"]"),t=0;t<e.children.length;t++)i.push(flattenComponent(e.children[t]));else for(t=0;t<e.children.length;t++)i.push(flattenComponent(e.children[t]));return i.join("")},i=0;i<e.components.children.length;i++)t.push(flattenComponent(e.components.children[i]));return t.join("")}}(jQuery),function(e){AblePlayer.prototype.setupTranscript=function(){var e=new this.defer,t=e.promise();return this.usingYouTubeCaptions||this.usingVimeoCaptions||this.hideTranscriptButton?(this.transcriptType=null,e.resolve()):(this.transcriptType||this.captions.length&&(this.transcriptType="popup"),this.transcriptType?"popup"===this.transcriptType||"external"===this.transcriptType?(this.injectTranscriptArea(),e.resolve()):"manual"===this.transcriptType&&(this.setupManualTranscript(),e.resolve()):e.resolve()),t},AblePlayer.prototype.injectTranscriptArea=function(){var t,i,a,s,n;if(this.$transcriptArea=e("<div>",{class:"able-transcript-area",role:"dialog","aria-label":this.translate("transcriptTitle","Transcript")}),this.$transcriptToolbar=e("<div>",{class:"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$transcriptDiv=e("<div>",{class:"able-transcript"}),this.$autoScrollTranscriptCheckbox=e("<input>",{id:"autoscroll-transcript-checkbox-"+this.mediaId,type:"checkbox"}),t=e("<label>",{for:"autoscroll-transcript-checkbox-"+this.mediaId}).text(this.translate("autoScroll","Auto scroll")),$autoScrollContainer=e("<div>",{class:"autoscroll-transcript"}),$autoScrollContainer.append(t,this.$autoScrollTranscriptCheckbox),this.$transcriptToolbar.append($autoScrollContainer),this.captions.length>1)for(i=e("<div>",{class:"transcript-language-select-wrapper"}),a=e("<label>",{for:"transcript-language-select-"+this.mediaId}).text(this.translate("language","Language")),this.$transcriptLanguageSelect=e("<select>",{id:"transcript-language-select-"+this.mediaId}),s=0;s<this.captions.length;s++)n=e("<option></option>",{value:this.captions[s].language,lang:this.captions[s].language}).text(this.captions[s].label),this.captions[s].def&&n.prop("selected",!0),this.$transcriptLanguageSelect.append(n);i&&(i.append(a,this.$transcriptLanguageSelect),this.$transcriptToolbar.append(i)),this.$transcriptArea.append(this.$transcriptToolbar,this.$transcriptDiv),this.transcriptDivLocation?(this.$transcriptArea.removeAttr("role"),this.$transcriptArea.removeAttr("aria-label"),e("#"+this.transcriptDivLocation).append(this.$transcriptArea)):this.$ableWrapper.append(this.$transcriptArea),this.transcriptDivLocation||(this.initDragDrop("transcript"),1===this.prefTranscript&&this.positionDraggableWindow("transcript",this.getDefaultWidth("transcript"))),this.prefTranscript||this.transcriptDivLocation||this.$transcriptArea.hide()},AblePlayer.prototype.addTranscriptAreaEvents=function(){var e=this;this.$autoScrollTranscriptCheckbox.on("click",function(){e.handleTranscriptLockToggle(e.$autoScrollTranscriptCheckbox.prop("checked"))}),this.$transcriptDiv.on("mousewheel DOMMouseScroll click scroll",function(t){e.scrollingTranscript||(e.autoScrollTranscript=!1,e.refreshControls("transcript")),e.scrollingTranscript=!1}),void 0!==this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.on("click",function(e){e.stopPropagation()}),this.$transcriptLanguageSelect.on("change",function(){var t=e.$transcriptLanguageSelect.val();e.syncTrackLanguages("transcript",t)}))},AblePlayer.prototype.transcriptSrcHasRequiredParts=function(){return!!(e("#"+this.transcriptSrc).length&&(this.$transcriptArea=e("#"+this.transcriptSrc),this.$transcriptArea.find(".able-window-toolbar").length&&(this.$transcriptToolbar=this.$transcriptArea.find(".able-window-toolbar").eq(0),this.$transcriptArea.find(".able-transcript").length&&(this.$transcriptDiv=this.$transcriptArea.find(".able-transcript").eq(0),this.$transcriptArea.find(".able-transcript-seekpoint").length))))&&(this.$transcriptSeekpoints=this.$transcriptArea.find(".able-transcript-seekpoint"),!0)},AblePlayer.prototype.setupManualTranscript=function(){var t,i;t=e("<input>",{id:"autoscroll-transcript-checkbox-"+this.mediaId,type:"checkbox"}),i=e("<label>",{for:"autoscroll-transcript-checkbox-"+this.mediaId}).text(this.translate("autoScroll","Auto scroll")),this.$autoScrollTranscriptCheckbox=t,this.$transcriptToolbar.append(i,this.$autoScrollTranscriptCheckbox)},AblePlayer.prototype.updateTranscript=function(){if(this.transcriptType&&(!this.playerCreated||this.$transcriptArea)){if("external"===this.transcriptType||"popup"===this.transcriptType){var t,i,a;if(this.transcriptLang?i=this.transcriptCaptions.cues:this.transcriptCaptions?(this.transcriptLang=this.transcriptCaptions.language,i=this.transcriptCaptions.cues):this.selectedCaptions&&(this.transcriptLang=this.captionLang,i=this.selectedCaptions.cues),this.transcriptChapters)t=this.transcriptChapters.cues;else if(this.chapters.length>0){if(this.transcriptLang)for(var s=0;s<this.chapters.length;s++)this.chapters[s].language===this.transcriptLang&&(t=this.chapters[s].cues);void 0===t&&(t=this.chapters[0].cues||[])}if(this.transcriptDescriptions)a=this.transcriptDescriptions.cues;else if(this.descriptions.length>0){if(this.transcriptLang)for(s=0;s<this.descriptions.length;s++)this.descriptions[s].language===this.transcriptLang&&(a=this.descriptions[s].cues);a||(a=this.descriptions[0].cues||[])}var n=this.generateTranscript(t||[],i||[],a||[]);this.$transcriptDiv.html(n),this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.find("option:selected").prop("selected",!1),this.$transcriptLanguageSelect.find("option[lang="+this.transcriptLang+"]").prop("selected",!0))}var r=this;1===this.prefTabbable&&this.$transcriptDiv.find("span.able-transcript-seekpoint").attr("tabindex","0"),this.$transcriptArea.length>0&&this.$transcriptArea.find("span.able-transcript-seekpoint").on("click",function(t){r.seekTrigger="transcript";var i=parseFloat(e(this).attr("data-start"));i+=.01,r.seekingFromTranscript?r.seekingFromTranscript=!1:(r.seekingFromTranscript=!0,r.seekTo(i))})}},AblePlayer.prototype.highlightTranscript=function(t){if(this.transcriptType){var i,a,s,n=this;t=parseFloat(t),this.$transcriptArea.find("span.able-transcript-seekpoint").each(function(){if(i=parseFloat(e(this).attr("data-start")),a=parseFloat(e(this).attr("data-end")),s=!!e(this).parent().hasClass("able-transcript-chapter-heading"),t>=i&&t<=a&&!s)return e(this).hasClass("able-highlight")||(n.$transcriptArea.find(".able-highlight").removeClass("able-highlight"),e(this).addClass("able-highlight"),n.movingHighlight=!0),!1}),n.currentHighlight=n.$transcriptArea.find(".able-highlight"),0===n.currentHighlight.length&&(n.currentHighlight=null)}},AblePlayer.prototype.generateTranscript=function(t,i,a){var s,n=this,r=e('<div class="able-transcript-container"></div>');if(r.attr("lang",this.transcriptLang),s=void 0!==this.transcriptTitle?this.transcriptTitle:this.lyricsMode?this.translate("lyricsTitle","Lyrics"):this.translate("transcriptTitle","Transcript"),!this.transcriptDivLocation){var o=this.playerHeadingLevel,l=(o+=1)+1;if(o<=6)var h="h"+o.toString();else h="div";var p=e("<"+h+">");p.addClass("able-transcript-heading"),o>6&&p.attr({role:"heading","aria-level":o}),p.text(s),p.attr("lang",this.lang),r.append(p)}for(var c=0,u=0,d=0,addChapter=function(t,i){if(l<=6)var a="h"+l.toString();else a="div";var s=e("<"+a+">",{class:"able-transcript-chapter-heading"});l>6&&s.attr({role:"heading","aria-level":l});for(var flattenComponentForChapter=function(e){var t=[];if("string"===e.type)t.push(e.value);else for(var i=0;i<e.children.length;i++)t=t.concat(flattenComponentForChapter(e.children[i]));return t},n=e("<span>",{class:"able-transcript-seekpoint"}),r=0;r<i.components.children.length;r++)for(var o=flattenComponentForChapter(i.components.children[r]),h=0;h<o.length;h++)n.append(o[h]);n.attr("data-start",i.start.toString()),n.attr("data-end",i.end.toString()),s.append(n),t.append(s)},addDescription=function(t,i){var a=e("<div>",{class:"able-transcript-desc"}),s=e("<span>",{class:"able-hidden"});s.attr("lang",n.lang),s.text(n.tt.prefHeadingDescription+": "),a.append(s);for(var flattenComponentForDescription=function(e){var t=[];if("string"===e.type)t.push(e.value);else for(var i=0;i<e.children.length;i++)t=t.concat(flattenComponentForDescription(e.children[i]));return t},r=e("<span>",{class:"able-transcript-seekpoint"}),o=0;o<i.components.children.length;o++)for(var l=flattenComponentForDescription(i.components.children[o]),h=0;h<l.length;h++)r.append(l[h]);r.attr("data-start",i.start.toString()),r.attr("data-end",i.end.toString()),a.append(r),t.append(a)},addCaption=function(t,i){for(var a=e("<span>",{class:"able-transcript-seekpoint able-transcript-caption"}),flattenComponentForCaption=function(t){var i=[],a=0,flattenString=function(e){var t;a++;var i=[];if(""===e)return i;var s=e.indexOf("["),n=e.indexOf("]"),r=e.indexOf("("),o=e.indexOf(")"),l=-1!==s&&-1!==n,h=-1!==r&&-1!==o;if(h||l){if(a>1)var p="<br/>";else p="";var c=p+'<span class="able-unspoken">',u="</span>";h&&l&&(s<r?h=!1:l=!1)}return h?(t=e.substring(0,r),t+=c,t+=e.substring(r,o+1),t+=u,t+=flattenString(e.substring(o+1)),i.push(t)):l?(t=e.substring(0,s),t+=c,t+=e.substring(s,n+1),t+=u,t+=flattenString(e.substring(n+1)),i.push(t)):i.push(e),i};if("string"===t.type)i=i.concat(flattenString(t.value));else if("v"===t.type){var s=e("<span>",{class:"able-unspoken"});t.value=t.value.replace(/^title="|\"$/g,""),s.text("("+t.value+")"),i.push(s);for(var n=0;n<t.children.length;n++)for(var r=flattenComponentForCaption(t.children[n]),o=0;o<r.length;o++)i.push(r[o])}else if("b"===t.type||"i"===t.type){if("b"===t.type)var l=e("<strong>");else if("i"===t.type)l=e("<em>");for(n=0;n<t.children.length;n++)for(r=flattenComponentForCaption(t.children[n]),o=0;o<r.length;o++)l.append(r[o]);"b"!==t.type&&"i"!=t.type||i.push(l)}else for(n=0;n<t.children.length;n++)i=i.concat(flattenComponentForCaption(t.children[n]));return i},s=0;s<i.components.children.length;s++){var r;s<i.components.children.length-1&&(r=i.components.children[s+1].tagName);for(var o=flattenComponentForCaption(i.components.children[s]),l=0;l<o.length;l++){var h=o[l];"string"==typeof h&&(n.lyricsMode?(h=h.replace(/\n/g,"<br>"),(!r||"i"!==r&&"b"!==r)&&(h+="<br>")):h+=" "),a.append(h)}}a.attr("data-start",i.start.toString()),a.attr("data-end",i.end.toString()),t.append(a),t.append(" \n")};c<t.length||d<a.length||u<i.length;){if(c<t.length&&d<a.length&&u<i.length)var f=Math.min(t[c].start,a[d].start,i[u].start);else if(c<t.length&&d<a.length)f=Math.min(t[c].start,a[d].start);else if(c<t.length&&u<i.length)f=Math.min(t[c].start,i[u].start);else if(d<a.length&&u<i.length)f=Math.min(a[d].start,i[u].start);else f=null;null!==f?void 0!==t[c]&&t[c].start===f?(addChapter(r,t[c]),c+=1):void 0!==a[d]&&a[d].start===f?(addDescription(r,a[d]),d+=1):(addCaption(r,i[u]),u+=1):c<t.length?(addChapter(r,t[c]),c+=1):d<a.length?(addDescription(r,a[d]),d+=1):u<i.length&&(addCaption(r,i[u]),u+=1)}var g=r.children(),m=0;return g.each(function(){e(this).hasClass("able-transcript-caption")?(-1===e(this).text().indexOf("[")&&-1===e(this).text().indexOf("(")||m>0&&(r=wrapTranscriptBlocks(r),m=0),e(this).addClass("able-block-temp"),m++):m>0&&(r=wrapTranscriptBlocks(r),m=0)}),r=wrapTranscriptBlocks(r)};var wrapTranscriptBlocks=function(e){return e.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),e}}(jQuery),function(e){AblePlayer.prototype.showSearchResults=function(){var t=this;if(this.searchDiv&&this.searchString){var i=DOMPurify.sanitize(this.searchString);if(e("#"+this.SearchDiv)){var a="<p>"+this.translate("resultsSummary1","You searched for:")+" ";a+='<span id="able-search-term-echo">'+i+"</span>",a+="</p>";var s=this.searchFor(i,this.searchIgnoreCaps);if(s.length>0){var n=e("<p>",{class:"able-search-results-summary"}),r=this.translate("resultsSummary2","Found");r+=" <strong>"+s.length+"</strong> ",r+=this.translate("resultsSummary3","matching items.")+" ",r+=this.translate("resultsSummary4","Click the time associated with any item to play the video from that point."),n.html(r);for(var o=e("<ul>"),l=0;l<s.length;l++){var h="aria-search-result-"+l,p=e("<li>",{}),c=this.secondsToTime(s[l].start),u=this.translate("searchButtonLabel","Play at")+" "+c.title,d=e("<button>",{class:"able-search-results-time","data-start":s[l].start,title:u,"aria-label":u,"aria-describedby":h});d.text(c.value),d.on("click",function(i){t.seekTrigger="search";var a=parseFloat(e(this).attr("data-start"));a+=.01,t.seeking=!0,t.seekTo(a)});var f=e("<span>",{class:"able-search-result-text",id:h});f.html("..."+s[l].caption+"..."),p.append(d,f),o.append(p)}e("#"+this.searchDiv).html(a).append(n,o)}else{var g=e("<p>").text(this.translate("noResultsFound","No results found."));e("#"+this.searchDiv).html(a).append(g)}}}},AblePlayer.prototype.searchFor=function(t,i){var a,s,n,r,o,l,h;n=[];var p=t.split(" ");if(this.captions.length>0){for(l=0;l<this.captions.length;l++)this.captions[l].language===this.searchLang&&(a=this.searchLang,s=this.captions[l].cues);if(s.length>0)for(o=0,l=0;l<s.length;l++)if(-1!==e.inArray(s[l].components.children[0].type,["string","i","b","u","v","c"])){r=this.flattenCueForCaption(s[l]);var c=i?r.toLowerCase():r;for(h=0;h<p.length;h++){var u=i?p[h].toLowerCase():p[h];if(-1!==c.indexOf(u)){n[o]=[],n[o].start=s[l].start,n[o].lang=a,n[o].caption=this.highlightSearchTerm(p,r),o++;break}}}}return n},AblePlayer.prototype.highlightSearchTerm=function(e,t){return e.forEach(function(e){var i=new RegExp(e,"gi");t=t.replace(i,'<span class="able-search-term">$&</span>')}),t},AblePlayer.prototype.secondsToTime=function(e){e=Math.floor(e);var t=parseInt(e/3600,10)%24,i=parseInt(e/60,10)%60,a=e%60,s="",n="";t>0&&(s+=t+":",n+=1==t?"1 "+this.translate("hour","hour")+" ":t+" "+this.translate("hours","hours")+" "),i<10?(s+="0"+i+":",i>0&&(n+=1==i?"1 "+this.translate("minute","minute")+" ":i+" "+this.translate("minutes","minutes")+" ")):(s+=i+":",n+=i+" "+this.translate("minutes","minutes")+" "),a<10?(s+="0"+a,a>0&&(n+=1==a?"1 "+this.translate("second","second")+" ":a+" "+this.translate("seconds","seconds")+" ")):(s+=a,n+=a+" "+this.translate("seconds","seconds")+" ");var r=[];return r.value=s,r.title=n,r}}(jQuery),function(e){AblePlayer.prototype.onMediaUpdateTime=function(e,t){var i=this;this.getMediaTimes(e,t).then(function(e){i.duration=e.duration,i.elapsed=e.elapsed,i.duration>0&&(1===i.prefHighlight&&i.highlightTranscript(i.elapsed),i.updateCaption(i.elapsed),i.showDescription(i.elapsed),i.updateChapter(i.elapsed),i.updateMeta(i.elapsed),i.refreshControls("timeline",i.duration,i.elapsed))})},AblePlayer.prototype.onMediaPause=function(){this.controlsHidden&&(this.fadeControls("in"),this.controlsHidden=!1),"active"===this.hideControlsTimeoutStatus&&(window.clearTimeout(this.hideControlsTimeout),this.hideControlsTimeoutStatus="clear"),this.refreshControls("playpause")},AblePlayer.prototype.onMediaComplete=function(){this.hasPlaylist&&!this.cueingPlaylistItem&&(this.playlistIndex===this.$playlist.length-1?this.loop?(this.playlistIndex=0,this.cueingPlaylistItem=!0,this.cuePlaylistItem(0)):(this.playing=!1,this.paused=!0):(this.playlistIndex++,this.cueingPlaylistItem=!0,this.cuePlaylistItem(this.playlistIndex))),this.refreshControls()},AblePlayer.prototype.onMediaNewSourceLoad=function(){var e=!1;this.cueingPlaylistItem&&(this.cueingPlaylistItem=!1),this.recreatingPlayer&&(this.recreatingPlayer=!1),this.playbackRate&&this.setPlaybackRate(this.playbackRate),this.userClickedPlaylist?this.startedPlaying&&!this.okToPlay||(this.playMedia(),e=!0):"restart"==this.seekTrigger||"chapter"==this.seekTrigger||"transcript"==this.seekTrigger||"search"==this.seekTrigger?(this.playMedia(),e=!0):this.swappingSrc?this.hasPlaylist?(this.playlistIndex!==this.$playlist.length||this.loop)&&(this.playMedia(),e=!0):this.swapTime>0?"complete"===this.seekStatus?(this.okToPlay&&this.playMedia(),e=!0):"seeking"===this.seekStatus||(this.swapTime===this.elapsed?(this.seekStatus="complete",this.okToPlay&&this.playMedia(),e=!0):this.hasDescTracks?e=!0:this.durationsAreCloseEnough(this.duration,this.prevDuration)?(this.seekStatus="seeking",this.seekTo(this.swapTime)):e=!0):this.playing&&(this.playMedia(),e=!0):this.startedPlaying?this.hasPlaylist?(this.playlistIndex!==this.$playlist.length||this.loop)&&(this.playMedia(),e=!0):e=!0:this.startTime>0?this.seeking?(this.seeking=!1,this.okToPlay&&this.playMedia(),e=!0):this.seekTo(this.startTime):this.defaultChapter&&void 0!==this.selectedChapters?this.seekToChapter(this.defaultChapter):(this.okToPlay&&this.playMedia(),e=!0),e&&(this.swappingSrc=!1,this.seekStatus=null,this.swapTime=0,this.seekTrigger=null,this.seekingFromTranscript=!1,this.userClickedPlaylist=!1,this.okToPlay=!1),this.refreshControls(),this.$focusedElement&&(this.restoreFocus(),this.$focusedElement=null,this.activeMedia=null)},AblePlayer.prototype.durationsAreCloseEnough=function(e,t){return Math.abs(Math.round(e)-Math.round(t))<=1},AblePlayer.prototype.restoreFocus=function(){var t,i;this.$focusedElement&&null!==this.activeMedia&&(i=e("#"+this.activeMedia).closest(".able"),"button"===this.$focusedElement.attr("role")&&(t=this.$focusedElement.attr("class").split(/\s+/),e.each(t,function(e,t){"able-button-handler-"===t.substring(0,20)&&i.find("div.able-controller div."+t).trigger("focus")})))},AblePlayer.prototype.addSeekbarListeners=function(){var e=this;this.seekBar.bodyDiv.on("startTracking",function(t){e.pausedBeforeTracking=e.paused,e.pauseMedia()}).on("tracking",function(t,i){e.highlightTranscript(i),e.updateCaption(i),e.showDescription(i),e.updateChapter(e.convertChapterTimeToVideoTime(i)),e.updateMeta(i),e.refreshControls()}).on("stopTracking",function(t,i){e.useChapterTimes?e.seekTo(e.convertChapterTimeToVideoTime(i)):e.seekTo(i),e.pausedBeforeTracking||setTimeout(function(){e.playMedia()},200)})},AblePlayer.prototype.onClickPlayerButton=function(t){var i;switch(this.getButtonNameFromClass(e(t).attr("class"))){case"play":this.clickedPlay=!0,this.handlePlay();break;case"restart":this.seekTrigger="restart",this.handleRestart();break;case"previous":this.userClickedPlaylist=!0,this.okToPlay=!0,this.seekTrigger="previous",this.buttonWithFocus="previous",this.handlePrevTrack();break;case"next":this.userClickedPlaylist=!0,this.okToPlay=!0,this.seekTrigger="next",this.buttonWithFocus="next",this.handleNextTrack();break;case"rewind":this.seekTrigger="rewind",this.handleRewind();break;case"forward":this.seekTrigger="forward",this.handleFastForward();break;case"mute":this.handleMute();break;case"volume":this.handleVolumeButtonClick();break;case"faster":this.handleRateIncrease();break;case"slower":this.handleRateDecrease();break;case"captions":this.handleCaptionToggle();break;case"chapters":this.handleChapters();break;case"descriptions":this.handleDescriptionToggle();break;case"sign":this.closingSign||this.handleSignToggle();break;case"preferences":"menu"===e(t).attr("data-prefs-popup")?this.handlePrefsClick():(this.showingPrefsDialog=!0,this.closePopups(),"keyboard"===(i=e(t).attr("data-prefs-popup"))?this.keyboardPrefsDialog.show():"captions"===i?this.captionPrefsDialog.show():"descriptions"===i?this.descPrefsDialog.show():"transcript"===i&&this.transcriptPrefsDialog.show(),this.showingPrefsDialog=!1);break;case"transcript":this.closingTranscript||this.handleTranscriptToggle();break;case"fullscreen":this.clickedFullscreenButton=!0,this.handleFullscreenToggle()}},AblePlayer.prototype.getButtonNameFromClass=function(e){var t,i;for(t=e.split(" "),i=0;i<t.length;i++)if("able-button-handler-"===t[i].substring(0,20))return t[i].substring(20);return e},AblePlayer.prototype.okToHandleKeyPress=function(){let t=!0;1===this.prefNoKeyShortcuts&&(t=!1);var i=AblePlayer.getActiveDOMElement();return"INPUT"!==e(i).prop("tagName")&&t},AblePlayer.prototype.onPlayerKeyPress=function(t){var i,a;return i=t.key,a=e(document.activeElement),"Escape"===i&&this.$transcriptArea&&e.contains(this.$transcriptArea[0],a[0])&&!this.hidingPopup?(this.handleTranscriptToggle(),!1):!!this.okToHandleKeyPress()&&void(e(":focus").is("[contenteditable]")||e(":focus").is("input")||e(":focus").is("textarea")&&!this.stenoMode||e(":focus").is("select")||t.target.hasAttribute("contenteditable")||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName&&!this.stenoMode||"SELECT"===t.target.tagName||("Escape"===i?(this.closePopups(),this.$tooltipDiv.hide(),this.seekBar.hideSliderTooltips()):" "===i?"button"===a.attr("role")&&(t.preventDefault(),a.trigger("click")):"p"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handlePlay()):"s"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleRestart()):"m"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleMute()):"v"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleVolumeButtonClick()):i>=0&&i<=9?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleVolumeKeystroke(i)):"c"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleCaptionToggle()):"d"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleDescriptionToggle()):"f"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleFastForward()):"r"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleRewind()):"b"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handlePrevTrack()):"n"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleNextTrack()):"e"===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handlePrefsClick()):"Enter"===i&&("button"===a.attr("role")||"SPAN"===a.prop("tagName")||"LI"===a.prop("tagName"))&&a.trigger("click")))},AblePlayer.prototype.addHtml5MediaListeners=function(){var e=this;this.$media.on("emptied",function(){}).on("loadedmetadata",function(){e.duration=e.media.duration}).on("canplay",function(){}).on("canplaythrough",function(){e.onMediaNewSourceLoad()}).on("play",function(){}).on("playing",function(){e.playing=!0,e.paused=!1,e.swappingSrc=!1,e.refreshControls("playpause")}).on("ended",function(){e.playing=!1,e.paused=!0,e.onMediaComplete()}).on("progress",function(){e.refreshControls("timeline")}).on("waiting",function(){}).on("durationchange",function(){e.refreshControls("timeline")}).on("timeupdate",function(){e.onMediaUpdateTime()}).on("pause",function(){e.clickedPlay?(e.playing=!1,e.paused=!0):e.hasPlaylist||e.swappingSrc||(e.playing=!1,e.paused=!0),e.clickedPlay=!1,e.onMediaPause()}).on("ratechange",function(){}).on("volumechange",function(){e.volume=e.getVolume()}).on("error",function(){e.debug&&e.media.error.code})},AblePlayer.prototype.addVimeoListeners=function(){var e=this;this.vimeoPlayer.on("loaded",function(t){e.onMediaNewSourceLoad()}),this.vimeoPlayer.on("play",function(t){e.playing=!0,e.startedPlaying=!0,e.paused=!1,e.refreshControls("playpause")}),this.vimeoPlayer.on("ended",function(t){e.playing=!1,e.paused=!0,e.onMediaComplete()}),this.vimeoPlayer.on("bufferstart",function(){}),this.vimeoPlayer.on("bufferend",function(){}),this.vimeoPlayer.on("progress",function(e){}),this.vimeoPlayer.on("seeking",function(e){}),this.vimeoPlayer.on("seeked",function(e){}),this.vimeoPlayer.on("timeupdate",function(t){e.onMediaUpdateTime(t.duration,t.seconds)}),this.vimeoPlayer.on("pause",function(t){e.clickedPlay?(e.playing=!1,e.paused=!0):e.hasPlaylist||e.swappingSrc||(e.playing=!1,e.paused=!0),e.clickedPlay=!1,e.onMediaPause(),e.refreshControls("playpause")}),this.vimeoPlayer.on("playbackratechange",function(t){e.vimeoPlaybackRate=t.playbackRate}),this.vimeoPlayer.on("texttrackchange",function(e){}),this.vimeoPlayer.on("volumechange",function(t){e.volume=10*t.volume}),this.vimeoPlayer.on("error",function(e){})},AblePlayer.prototype.addEventListeners=function(){var t=this;if(e(window).on("resize",function(){t.resizePlayer()}),window.MutationObserver){var i=this.$ableDiv[0];new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&"style"===e.attributeName&&t.$ableDiv.is(":visible")&&t.refreshControls()})}).observe(i,{attributes:!0,childList:!0,characterData:!0})}void 0!==this.seekBar?this.addSeekbarListeners():setTimeout(function(){void 0!==t.seekBar&&t.addSeekbarListeners()},2e3),this.$controllerDiv.find('div[role="button"]').on("click",function(e){e.stopPropagation(),t.onClickPlayerButton(this)}),e("body").on("click",function(i){if(0!==i.button)return!1;(e(".able-popup:visible").length||e(".able-volume-slider:visible").length)&&t.closePopups(),"VIDEO"===i.target.tagName&&(t.clickedPlay=!0)}),this.$ableDiv.on("mousemove",function(){t.controlsHidden?(t.fadeControls("in"),t.controlsHidden=!1,"active"===t.hideControlsTimeoutStatus&&(window.clearTimeout(t.hideControlsTimeout),t.hideControlsTimeoutStatus="clear"),t.hideControls&&t.invokeHideControlsTimeout()):"active"===t.hideControlsTimeoutStatus&&(window.clearTimeout(t.hideControlsTimeout),t.hideControlsTimeoutStatus="clear",t.hideControls&&t.invokeHideControlsTimeout())}),e(document).on("keydown",function(e){t.controlsHidden?(t.fadeControls("in"),t.controlsHidden=!1,"active"===t.hideControlsTimeoutStatus&&(window.clearTimeout(t.hideControlsTimeout),t.hideControlsTimeoutStatus="clear"),t.hideControls&&t.invokeHideControlsTimeout()):"active"===t.hideControlsTimeoutStatus&&(window.clearTimeout(t.hideControlsTimeout),t.hideControlsTimeoutStatus="clear",t.hideControls&&t.invokeHideControlsTimeout())}),this.$ableDiv.on("keydown",function(e){AblePlayer.nextIndex>1&&t.onPlayerKeyPress(e)}),this.stenoMode&&void 0!==this.stenoFrameContents&&this.stenoFrameContents.on("keydown",function(e){t.onPlayerKeyPress(e)}),this.$transcriptArea&&this.$transcriptArea.on("keydown",function(e){AblePlayer.nextIndex>1&&t.onPlayerKeyPress(e)}),this.$playlist&&this.$playlist.on("click",function(i){t.userClickedPlaylist||(t.userClickedPlaylist=!0,t.playlistIndex=e(this).index(),t.cuePlaylistItem(t.playlistIndex))}),this.$media.on("click",function(){t.handlePlay()}),"html5"===this.player?this.addHtml5MediaListeners():"vimeo"===this.player?this.addVimeoListeners():"youtube"===this.player&&setInterval(function(){t.onMediaUpdateTime()},300)}}(jQuery),function(e){AblePlayer.prototype.initDragDrop=function(t){var i,a,s,n,r,o,l,h,p,c,u,d,f;for(i=this,"transcript"===t?(a=this.$transcriptArea,n="transcript-window",(s=this.$transcriptToolbar).attr("aria-label",this.translate("transcriptControls","Transcript Window Controls"))):"sign"===t&&(a=this.$signWindow,n="sign-window",(s=this.$signToolbar).attr("aria-label",this.translate("signControls","Sign Language Window Controls"))),s.addClass("able-draggable"),s.attr("role","application"),$dragHandle=e("<div>",{class:"able-drag-handle"}),$dragHandle.html('<svg version="1.1" viewBox="262.48 487.5 675.03 225" xmlns="http://www.w3.org/2000/svg"><path d="m900 562.5h-600c-13.398 0-25.777-7.1484-32.477-18.75-6.6992-11.602-6.6992-25.898 0-37.5 6.6992-11.602 19.078-18.75 32.477-18.75h600c13.398 0 25.777 7.1484 32.477 18.75 6.6992 11.602 6.6992 25.898 0 37.5-6.6992 11.602-19.078 18.75-32.477 18.75z" fill="#fff"></path>  <path d="m900 712.5h-600c-13.398 0-25.777-7.1484-32.477-18.75-6.6992-11.602-6.6992-25.898 0-37.5 6.6992-11.602 19.078-18.75 32.477-18.75h600c13.398 0 25.777 7.1484 32.477 18.75 6.6992 11.602 6.6992 25.898 0 37.5-6.6992 11.602-19.078 18.75-32.477 18.75z" fill="#fff"></path></svg>'),r=e("<div>",{class:"able-resizable"}),o=e("<svg>").attr({width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"}),l=1;l<=3;l++)1===l?(h="100",p="0",c="0",u="100"):2===l?(h="33",p="100",c="100",u="33"):3===l&&(h="67",p="100",c="100",u="67"),d=e("<line>").attr({x1:h,y1:p,x2:c,y2:u,"vector-effect":"non-scaling-stroke"}),o.append(d);r.html(o),f=parseInt(a.css("z-index"))+100,r.css("z-index",f),a.append(r),s.append($dragHandle),r.html(r.html()),$dragHandle.on("mousedown mouseup touchstart touchend",function(e){return e.stopPropagation(),"mousedown"===e.type||"touchstart"===e.type?i.windowMenuClickRegistered||(i.windowMenuClickRegistered=!0,i.startMouseX=e.pageX,i.startMouseY=e.pageY,i.dragDevice="mouse",i.startDrag(t,a)):"mouseup"!==e.type&&"touchend"!==e.type||i.dragging&&"mouse"===i.dragDevice&&i.endDrag(t),!1}),r.on("mousedown mouseup touchstart touchend",function(e){return e.stopPropagation(),"mousedown"===e.type||"touchstart"===e.type?i.windowMenuClickRegistered||(i.windowMenuClickRegistered=!0,i.startMouseX=e.pageX,i.startMouseY=e.pageY,i.startResize(t,a)):"mouseup"!==e.type&&"touchend"!==e.type||i.resizing&&i.endResize(t),!1}),a.on("click",function(){i.windowMenuClickRegistered||i.finishingDrag||i.updateZIndex(t),i.finishingDrag=!1}),this.addWindowMenu(t,a,n)},AblePlayer.prototype.addWindowMenu=function(t,i,a){var s,n,r,o,l,h,p;s=this,this.windowMenuClickRegistered=!1,this.finishingDrag=!1,p=this.mediaId+"-"+a+"-menu",r=e("<button>",{type:"button",tabindex:"0","aria-haspopup":"true","aria-controls":p,"aria-expanded":"false",class:"able-button-handler-preferences"}),this.getIcon(r,"preferences"),this.setText(r,this.translate("windowButtonLabel","Window options")),o=this.mediaId+"-"+a+"-tooltip",l=e("<div>",{class:"able-tooltip",id:o}).hide(),r.on("mouseenter focus",function(t){var i=e(this).attr("aria-label"),a=AblePlayer.localGetElementById(r[0],o).text(i),n={right:"",left:"0px",top:-1*(a.height()+2)+"px"};a.css(n),s.showTooltip(a),e(this).on("mouseleave blur",function(){AblePlayer.localGetElementById(r[0],o).text("").hide()})}),h=this.setupPopups(a),"transcript"===t?(this.$transcriptPopupButton=r,this.$transcriptPopup=h,this.$transcriptToolbar.prepend(n,r,l,h)):"sign"===t&&(this.$signPopupButton=r,this.$signPopup=h,this.$signToolbar.append(n,r,l,h)),r.on("click keydown",function(e){return!s.focusNotClick&&(s.dragging?(s.dragKeys(t,e),!1):(e.stopPropagation(),s.windowMenuClickRegistered||s.finishingDrag||s.handleWindowButtonClick(t,e),void(s.finishingDrag=!1)))}),this.addResizeDialog(t,i)},AblePlayer.prototype.addResizeDialog=function(t,i){var a,s,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b,P;a=this,"transcript"===t?(s=this.$transcriptPopup,n=this.$transcriptPopupButton):"sign"===t&&(s=this.$signPopup,n=this.$signPopupButton),r=this.mediaId+"-resize-"+t+"-width",o=this.mediaId+"-resize-"+t+"-height",l=e("<div></div>",{class:"able-resize-form"}),h=e("<div></div>"),$resizeControls=e('<div class="able-prefs-buttons"></div>'),p=e("<div></div>"),c=e("<input>",{type:"number",id:r,min:0,value:""}),u=e("<label>",{for:r}).text(this.translate("width","Width")),d=e("<div></div>"),f=e("<input>",{type:"number",id:o,min:0,value:""}),g=e("<label>",{for:o}).text(this.translate("height","Height")),m=e('<button class="modal-button">'+this.translate("save","Save")+"</button>"),v=e('<button class="modal-button">'+this.translate("cancel","Cancel")+"</button>"),m.on("click",function(){y=e("#"+r).val(),b=e("#"+o).val(),a.resizeObject(t,y,b),a.updatePreferences(t),P.hide(),s.hide(),n.trigger("focus")}),v.on("click",function(){P.hide(),s.hide(),n.trigger("focus")}),p.append(u,c),d.append(g,f),h.append(p,d),$resizeControls.append(m,v),l.append(h,$resizeControls),e("body").append(l),P=new AccessibleDialog(l,n,this.translate("windowResizeHeading","Resize Window"),this.translate("closeButtonLabel","Close")),"transcript"===t?this.transcriptResizeDialog=P:"sign"===t&&(this.signResizeDialog=P)},AblePlayer.prototype.handleWindowButtonClick=function(t,i){var a,s,n,r,o;if(a=this,this.focusNotClick)return!1;if("transcript"===t?(s=this.$transcriptPopup,n=this.$transcriptPopupButton,r=this.$transcriptToolbar):"sign"===t&&(s=this.$signPopup,n=this.$signPopupButton,r=this.$signToolbar),"keydown"===i.type)if(" "===i.key||"Enter"===i.key)this.windowMenuClickRegistered=!0;else{if("Escape"!==i.key)return!1;s.is(":visible")?(s.hide(),a.windowMenuClickRegistered=!1,s.find("li").removeClass("able-focus").attr("tabindex","-1"),n.trigger("focus")):"sign"===t?this.handleSignToggle():"transcript"===t&&this.handleTranscriptToggle()}else this.windowMenuClickRegistered=!0;s.is(":visible")?(s.hide(),a.windowMenuClickRegistered=!1,s.find("li").removeClass("able-focus"),n.attr("aria-expanded","false").trigger("focus")):(this.updateZIndex(t),o=r.outerHeight()-1,s.css("top",o),s.show(),n.attr("aria-expanded","true"),e(this).find("li").first().trigger("focus").addClass("able-focus"),a.windowMenuClickRegistered=!1)},AblePlayer.prototype.handleMenuChoice=function(t,i,a){var s,n,r,o,l,h,p,c,u;if("transcript"===t?(s=this.$transcriptArea,n=this.$transcriptPopup,r=this.$transcriptPopupButton,o=this.transcriptResizeDialog):"sign"===t&&(s=this.$signWindow,n=this.$signPopup,r=this.$signPopupButton,o=this.signResizeDialog,l=s.outerWidth(),h=s.outerHeight(),p=l/h,widthId=this.mediaId+"-resize-"+t+"-width",heightId=this.mediaId+"-resize-"+t+"-height",e("#"+heightId).prop("readonly",!0),e("#"+widthId).on("input",function(){c=e(this).val(),u=Math.round(c/p),e("#"+heightId).val(u)})),this.$activeWindow=s,"keydown"===a.type)return"Escape"===a.key?(n.hide(),this.windowMenuClickRegistered=!1,n.find("li").removeClass("able-focus").attr("tabindex","-1"),r.attr("aria-expanded","false"),r.trigger("focus"),!1):("close"!==i&&(this.$activeWindow=s),!1);if(n.hide(),this.windowMenuClickRegistered=!1,n.find("li").removeClass("able-focus").attr("tabindex","-1"),r.attr("aria-expanded","false"),"close"!==i&&r.trigger("focus"),"move"===i)this.$activeWindow.attr("role","application"),this.showedAlert(t)||(this.showAlert(this.translate("windowMoveAlert","Drag or use arrow keys to move the window; Enter to stop"),t),"transcript"===t?this.showedTranscriptAlert=!0:"sign"===t&&(this.showedSignAlert=!0)),this.dragDevice="keydown"===a.type?"keyboard":"mouse",this.startDrag(t,s),n.hide().parent().attr("tabindex","-1").trigger("focus");else if("resize"==i){var d=o.getInputs();d&&(d[0].value=Math.round(s.outerWidth()),d[1].value=Math.round(s.outerHeight())),o.show()}else"close"==i&&("transcript"===t?(this.closingTranscript=!0,this.handleTranscriptToggle()):"sign"===t&&(this.closingSign=!0,this.handleSignToggle()))},AblePlayer.prototype.startDrag=function(t,i){var a,s,n,r,o;a=this,this.$activeWindow||(this.$activeWindow=i),this.dragging=!0,"transcript"===t?s=this.$transcriptPopup:"sign"===t&&(s=this.$signPopup),s.is(":visible")&&s.hide(),this.updateZIndex(t),n=this.$activeWindow.position(),this.dragStartX=n.left,this.dragStartY=n.top,void 0===this.startMouseX?(this.dragDevice="keyboard",this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.startingDrag=!0):(this.dragDevice="mouse",this.dragOffsetX=this.startMouseX-this.dragStartX,this.dragOffsetY=this.startMouseY-this.dragStartY),this.$activeWindow.addClass("able-drag").css({position:"absolute",top:this.dragStartY+"px",left:this.dragStartX+"px"}).trigger("focus");this.dragDevice;return"mouse"===this.dragDevice?e(document).on("mousemove touchmove",function(e){a.dragging&&(r=e.pageX-a.dragOffsetX,o=e.pageY-a.dragOffsetY,a.resetDraggedObject(r,o))}):"keyboard"===this.dragDevice&&this.$activeWindow.on("keydown",function(e){a.dragging&&a.dragKeys(t,e)}),!1},AblePlayer.prototype.dragKeys=function(e,t){if(this.startingDrag)return this.startingDrag=!1,!1;switch(t.key){case"ArrowLeft":this.dragKeyX-=10,this.$srAlertBox.text(this.translate("windowMoveLeft","Window moved left"));break;case"ArrowUp":this.dragKeyY-=10,this.$srAlertBox.text(this.translate("windowMoveUp","Window moved up"));break;case"ArrowRight":this.dragKeyX+=10,this.$srAlertBox.text(this.translate("windowMoveRight","Window moved right"));break;case"ArrowDown":this.dragKeyY+=10,this.$srAlertBox.text(this.translate("windowMoveDown","Window moved down"));break;case"Enter":case"Escape":return this.$srAlertBox.text(this.translate("windowMoveStopped","Window move stopped")),this.endDrag(e),!1;default:return!1}return this.resetDraggedObject(this.dragKeyX,this.dragKeyY),t.preventDefault&&t.preventDefault(),!1},AblePlayer.prototype.resetDraggedObject=function(e,t){setTimeout(()=>{this.$srAlertBox.text("")},2e3),this.$activeWindow.css({left:e+"px",top:t+"px"})},AblePlayer.prototype.resizeObject=function(e,t,i){var a;this.$activeWindow.css({width:t+"px",height:i+"px"}),"transcript"===e&&(a=i-50,this.$transcriptDiv.css("height",a+"px"))},AblePlayer.prototype.endDrag=function(t){var i,a;i=this,"transcript"===t?(this.$transcriptPopup,a=this.$transcriptPopupButton):"sign"===t&&(this.$signPopup,a=this.$signPopupButton),e(document).off("mousemove mouseup touchmove touchup"),this.$activeWindow.off("keydown").removeClass("able-drag"),this.$activeWindow.attr("role","dialog"),this.$activeWindow=null,"keyboard"===this.dragDevice&&a.trigger("focus"),this.dragging=!1,this.updatePreferences(t),this.startMouseX=void 0,this.startMouseY=void 0,this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){i.finishingDrag=!1},100)},AblePlayer.prototype.startResize=function(t,i){var a,s,n,r;return a=this,this.$activeWindow=i,this.resizing=!0,(s="transcript"===t?this.$transcriptPopup:this.$signPopup).is(":visible")&&s.hide().parent().trigger("focus"),startPos=this.$activeWindow.position(),this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.dragStartWidth=this.$activeWindow.width(),this.dragStartHeight=this.$activeWindow.outerHeight(),e(document).on("mousemove touchmove",function(e){a.resizing&&(n=a.dragStartWidth+(e.pageX-a.startMouseX),r=a.dragStartHeight+(e.pageY-a.startMouseY),a.resizeObject(t,n,r))}),!1},AblePlayer.prototype.endResize=function(t){var i;"transcript"===t?(this.$transcriptPopup,i=this.$transcriptPopupButton):"sign"===t&&(this.$signPopup,i=this.$signPopupButton),e(document).off("mousemove mouseup touchmove touchup"),this.$activeWindow.off("keydown"),i.show().trigger("focus"),this.resizing=!1,this.$activeWindow.removeClass("able-resize"),this.updatePreferences(t),this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){this.finishingDrag=!1},100)}}(jQuery),function(e){AblePlayer.prototype.initSignLanguage=function(){this.hasSignLanguage=!1;var e=void 0!==this.$sources.first().attr("data-sign-src")&&""!==this.$sources.first().attr("data-sign-src"),t=void 0!==this.$media.data("youtube-sign-src")&&""!==this.$media.data("youtube-sign-src"),i=void 0!==this.$sources.first().attr("data-youtube-sign-src")&&""!==this.$sources.first().attr("data-youtube-sign-src");if(!this.isIOS()&&(e||t||i)&&("html5"===this.player||"youtube"===this.player)){let a=this.youTubeSignId??DOMPurify.sanitize(this.$sources.first().attr("data-youtube-sign-src")),s=DOMPurify.sanitize(this.$sources.first().attr("data-sign-src")),n=DOMPurify.sanitize(this.$media.data("youtube-sign-src"));this.signFile=!!e&&s,t?this.signYoutubeId=n:i&&(this.signYoutubeId=a),(this.signFile||this.signYoutubeId)&&(this.isIOS()?this.debug:(this.debug,this.hasSignLanguage=!0,this.injectSignPlayerCode()))}},AblePlayer.prototype.injectSignPlayerCode=function(){var t,i,a,s,n;if(t=this.mediaId+"-sign",(this.signFile||this.signYoutubeId)&&(null!==this.$signDivLocation?(this.$signDivLocation.addClass("able-sign-window able-fixed"),this.$signWindow=this.$signDivLocation):(this.$signWindow=e("<div>",{class:"able-sign-window",role:"dialog","aria-label":this.translate("sign","Sign language")}),this.$signToolbar=e("<div>",{class:"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$signWindow.append(this.$signToolbar)),this.$ableWrapper.append(this.$signWindow)),this.signFile){if(this.$signVideo=e("<video>",{id:t,tabindex:"-1",muted:!0}),this.signVideo=this.$signVideo[0],this.signFile)n=e("<source>",{src:this.signFile,type:"video/"+this.signFile.substr(-3)}),this.$signVideo.append(n);else for(i=0;i<this.$sources.length;i++){if(a=DOMPurify.sanitize(this.$sources[i].getAttribute("data-sign-src")),s=this.$sources[i].getAttribute("type"),!a)return void(this.hasSignLanguage=!1);n=e("<source>",{src:a,type:s}),this.$signVideo.append(n)}this.$signWindow.append(this.$signVideo)}else this.signYoutubeId&&(this.signYoutube=this.initYouTubeSignPlayer());null===this.$signDivLocation&&this.initDragDrop("sign"),1===this.prefSign?null===this.$signDivLocation&&this.positionDraggableWindow("sign",this.getDefaultWidth("sign")):this.$signWindow.hide()},AblePlayer.prototype.initYouTubeSignPlayer=function(){var t,i,a;return t=this,a=(i=new this.defer).promise(),this.youTubeSignPlayerReady=!1,AblePlayer.youTubeIframeAPIReady?t.finalizeYoutubeSignInit().then(function(){i.resolve()}):(AblePlayer.loadingYouTubeIframeAPI||t.getScript("https://www.youtube.com/iframe_api",function(){}),e("body").on("youTubeIframeAPIReady",function(){t.finalizeYoutubeSignInit().then(function(){i.resolve()})})),a},AblePlayer.prototype.finalizeYoutubeSignInit=function(){var t,i,a,s,n;return i=(t=new this.defer).promise(),a=this,s=this.mediaId+"_youtube_sign",this.$signWindow.append(e("<div>").attr("id",s)),n=this.okToPlay?1:0,this.youTubeSignPlayer=new YT.Player(s,{videoId:this.getYouTubeId(this.signYoutubeId),host:this.youTubeNoCookie?"https://www.youtube-nocookie.com":"https://www.youtube.com",playerVars:{autoplay:n,cc_lang_pref:this.captionLang,cc_load_policy:0,controls:0,disableKb:1,enablejsapi:1,hl:this.lang,iv_load_policy:3,origin:window.location.origin,playsinline:this.playsInline,rel:0,start:this.startTime},events:{onReady:function(e){e.target.mute(),e.target.unloadModule("captions"),a.youTubeSignPlayerReady=!0,t.resolve()},onError:function(e){t.reject()},onStateChange:function(e){a.getPlayerState().then(function(){})},onApiChange:function(){},onPlaybackQualityChange:function(){}}}),i}}(jQuery),function(){var e={ab:{name:"Abkhaz",nativeName:""},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:""},ar:{name:"Arabic",nativeName:""},an:{name:"Aragonese",nativeName:"Aragons"},hy:{name:"Armenian",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" ,  "},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:" "},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:""},bn:{name:"Bengali",nativeName:""},bh:{name:"Bihari",nativeName:""},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:" "},my:{name:"Burmese",nativeName:""},ca:{name:"Catalan",nativeName:"Catal"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:" "},ny:{name:"Chichewa",nativeName:"chiChea, chinyanja"},zh:{name:"Chinese",nativeName:" (Zhngwn), , "},cv:{name:"Chuvash",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:""},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"esky, etina"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi",nativeName:""},nl:{name:"Dutch",nativeName:"Nederlands, Vlaams"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti, eesti keel"},ee:{name:"Ewe",nativeName:"Eegbe"},fo:{name:"Faroese",nativeName:"froyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi, suomen kieli"},fr:{name:"French",nativeName:"franais, langue franaise"},ff:{name:"Fula",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:""},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek",nativeName:""},gn:{name:"Guaran",nativeName:"Avae"},gu:{name:"Gujarati",nativeName:""},ht:{name:"Haitian",nativeName:"Kreyl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, "},he:{name:"Hebrew",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:", "},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ik:{name:"Inupiaq",nativeName:"Iupiaq, Iupiatun"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:" ()"},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:", "},kk:{name:"Kazakh",nativeName:" "},km:{name:"Khmer",nativeName:""},ki:{name:"Kikuyu",nativeName:"Gky"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kyrgyz",nativeName:" "},kv:{name:"Komi",nativeName:" "},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:" (),  ()"},ku:{name:"Kurdish",nativeName:"Kurd, "},kj:{name:"Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine, lingua latina"},lb:{name:"Luxembourgish",nativeName:"Ltzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latvieu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:" "},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu,  "},ml:{name:"Malayalam",nativeName:""},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Mori",nativeName:"te reo Mori"},mr:{name:"Marathi",nativeName:""},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mn:{name:"Mongolian",nativeName:""},na:{name:"Nauru",nativeName:"Ekakair Naoero"},nv:{name:"Navajo",nativeName:"Din bizaad, Dinkeh"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe",nativeName:""},cu:{name:"Church Slavonic",nativeName:" "},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian",nativeName:" "},pa:{name:"Punjabi",nativeName:", "},pi:{name:"Pli",nativeName:""},fa:{name:"Persian",nativeName:""},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian",nativeName:"romn"},ru:{name:"Russian",nativeName:" "},sa:{name:"Sanskrit",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:",  "},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yng t sng"},sr:{name:"Serbian",nativeName:" "},gd:{name:"Gaelic",nativeName:"Gidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhalese",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovene",nativeName:"slovenina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"espaol, castellano"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:", toik, "},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},bo:{name:"Tibetan",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmen, "},tl:{name:"Tagalog",nativeName:"Wikang Tagalog,  "},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:", tatara, "},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"Uyurq, "},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:"zbek, , "},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang",nativeName:"Sa cue, Saw cuengh"},"ar-dz":{name:"Arabic (Algeria)",nativeName:" ()"},"ar-bh":{name:"Arabic (Bahrain)",nativeName:" ()"},"ar-eg":{name:"Arabic (Egypt)",nativeName:" ()"},"ar-iq":{name:"Arabic (Iraq)",nativeName:" ()"},"ar-jo":{name:"Arabic (Jordan)",nativeName:" ()"},"ar-kw":{name:"Arabic (Kuwait)",nativeName:" ()"},"ar-lb":{name:"Arabic (Lebanon)",nativeName:" ()"},"ar-ly":{name:"Arabic (Libya)",nativeName:" ()"},"ar-ma":{name:"Arabic (Morocco)",nativeName:" ( )"},"ar-om":{name:"Arabic (Oman)",nativeName:" ()"},"ar-qa":{name:"Arabic (Qatar)",nativeName:" ()"},"ar-sa":{name:"Arabic (Saudi Arabia)",nativeName:" (  )"},"ar-sy":{name:"Arabic (Syria)",nativeName:" ()"},"ar-tn":{name:"Arabic (Tunisia)",nativeName:" ()"},"ar-ae":{name:"Arabic (U.A.E.)",nativeName:" (  )"},"ar-ye":{name:"Arabic (Yemen)",nativeName:" ()"},"de-at":{name:"German (Austria)",nativeName:"Deutsch (sterreich)"},"de-li":{name:"German (Liechtenstein)",nativeName:"Deutsch (Liechtenstein)"},"de-lu":{name:"German (Luxembourg)",nativeName:"Deutsch (Luxemburg)"},"de-ch":{name:"German (Switzerland)",nativeName:"Deutsch (Schweiz)"},"en-au":{name:"English (Australia)",nativeName:"English (Australia)"},"en-bz":{name:"English (Belize)",nativeName:"English (Belize)"},"en-ca":{name:"English (Canada)",nativeName:"English (Canada)"},"en-ie":{name:"English (Ireland)",nativeName:"English (Ireland)"},"en-jm":{name:"English (Jamaica)",nativeName:"English (Jamaica)"},"en-nz":{name:"English (New Zealand)",nativeName:""},"en-za":{name:"English (South Africa)",nativeName:"English (South Africa)"},"en-tt":{name:"English (Trinidad)",nativeName:"English (Trinidad y Tobago)"},"en-gb":{name:"English (United Kingdom)",nativeName:"English (United Kingdom)"},"en-us":{name:"English (United States)",nativeName:"English (United States)"},"es-ar":{name:"Spanish (Argentina)",nativeName:"Espaol (Argentina)"},"es-bo":{name:"Spanish (Bolivia)",nativeName:"Espaol (Bolivia)"},"es-cl":{name:"Spanish (Chile)",nativeName:"Espaol (Chile)"},"es-co":{name:"Spanish (Colombia)",nativeName:"Espaol (Colombia)"},"es-cr":{name:"Spanish (Costa Rica)",nativeName:"Espaol (Costa Rica)"},"es-do":{name:"Spanish (Dominican Republic)",nativeName:"Espaol (Repblica Dominicana)"},"es-ec":{name:"Spanish (Ecuador)",nativeName:"Espaol (Ecuador)"},"es-sv":{name:"Spanish (El Salvador)",nativeName:"Espaol (El Salvador)"},"es-gt":{name:"Spanish (Guatemala)",nativeName:"Espaol (Guatemala)"},"es-hn":{name:"Spanish (Honduras)",nativeName:"Espaol (Honduras)"},"es-mx":{name:"Spanish (Mexico)",nativeName:"Espaol (Mxico)"},"es-ni":{name:"Spanish (Nicaragua)",nativeName:"Espaol (Nicaragua)"},"es-pa":{name:"Spanish (Panama)",nativeName:"Espaol (Panam)"},"es-py":{name:"Spanish (Paraguay)",nativeName:"Espaol (Paraguay)"},"es-pe":{name:"Spanish (Peru)",nativeName:"Espaol (Per)"},"es-pr":{name:"Spanish (Puerto Rico)",nativeName:"Espaol (Puerto Rico)"},"es-uy":{name:"Spanish (Uruguay)",nativeName:"Espaol (Uruguay)"},"es-ve":{name:"Spanish (Venezuela)",nativeName:"Espaol (Venezuela)"},"fr-be":{name:"French (Belgium)",nativeName:"franais (Belgique)"},"fr-ca":{name:"French (Canada)",nativeName:"franais (Canada)"},"fr-lu":{name:"French (Luxembourg)",nativeName:"franais (Luxembourg)"},"fr-ch":{name:"French (Switzerland)",nativeName:"franais (Suisse)"},"it-ch":{name:"Italian (Switzerland)",nativeName:"italiano (Svizzera)"},"nl-be":{name:"Dutch (Belgium)",nativeName:"Nederlands (Belgi)"},"pt-br":{name:"Portuguese (Brazil)",nativeName:"Portugus (Brasil)"},"sv-fi":{name:"Swedish (Finland)",nativeName:"svenska (Finland)"},"zh-hk":{name:"Chinese (Hong Kong)",nativeName:"()"},"zh-cn":{name:"Chinese (PRC)",nativeName:"()"},"zh-sg":{name:"Chinese (Singapore)",nativeName:"()"},"zh-tw":{name:"Chinese Traditional (Taiwan)",nativeName:""}};AblePlayer.prototype.getLanguageName=function(t,i){var a,s,n;return(a=e[t.toLowerCase()])?"local"===i?a.nativeName:a.name:t.includes("-")&&(s=t.substring(0,2),n=t.substring(3),a=e[s.toLowerCase()])?"local"===i?a.nativeName+" ("+n+")":a.name+" ("+n+")":t}}(jQuery),function(e){AblePlayer.prototype.getSupportedLangs=function(){return{ca:"Catalan",cs:"Czech",da:"Danish",de:"German",en:"English",es:"Spanish",fr:"French",he:"Hebrew",id:"Indonesian",it:"Italian",ja:"Japanese",ms:"Malay",nb:"Norwegian Bokml",nl:"Dutch",pl:"Polish",pt:"Portuguese","pt-br":"Brazilian Portuguese",sv:"Swedish",tr:"Turkish","zh-tw":"Chinese (Taiwan)"}},AblePlayer.prototype.translate=function(e,t){return this.tt[e]?this.tt[e]:t},AblePlayer.prototype.getTranslationText=function(){var t,i,a,s,n,r;if(t=new this.defer,i=this,a=this.getSupportedLangs(),this.lang&&Object.hasOwn(a,this.lang))if(2==this.lang.indexOf("-"))this.lang=-1!==Object.hasOwn(a,this.lang.substring(0,2))?this.lang.substring(0,2):null;else{r=!1;for(const[e,t]of Object.entries(a))e.substring(0,2)==this.lang&&(this.lang=a[undefined],r=!0);r||(this.lang=null)}return this.lang||(s=e("body").attr("lang")?e("body").attr("lang").toLowerCase():e("html").attr("lang")?e("html").attr("lang").toLowerCase():null)&&(Object.hasOwn(a,s)?this.lang=s:2==s.indexOf("-")&&Object.hasOwn(a,s.substring(0,2))&&(this.lang=s.substring(0,2))),this.lang||(this.lang="en"),this.searchLang||(this.searchLang=this.lang),n=this.rootPath+"translations/"+this.lang+".json",fetch(n).then(e=>e.json()).then(e=>{i.tt=e,i.translationFiles=!0,t.resolve()}).catch(e=>{n=i.rootPath+"translations/"+i.lang+".js",fetch(n).then(e=>e.json()).then(e=>{i.tt=e,i.translationFiles=!0,t.resolve()}).catch(e=>{i.tt={},i.translationFiles=!1,t.resolve()})}),t.promise()},AblePlayer.prototype.getSampleDescriptionText=function(){if(this.translationFiles){var e,t,i,a,s;t=this.getSupportedLangs(),e=this,this.sampleText=[];for(const[n,r]of Object.entries(t))i=this.rootPath+"translations/"+n+".json",fetch(i).then(e=>e.json()).then(t=>{a=t.sampleDescriptionText,s={lang:undefined,text:a},e.sampleText.push(s)})}else{this.sampleText=[];let e={lang:"en",text:this.translate("sampleDescriptionText","Adjust settings to hear this sample text.")};this.sampleText.push(e)}}}(jQuery),function(e){AblePlayer.prototype.injectVTS=function(){var t,i,a,s,n,r,o,l,h,p,c,u,d,f,g,m,v;if(t=this,null!==document.getElementById("able-vts")&&this.vtsTracks.length){for(k in this.langs=[],this.getAllLangs(this.vtsTracks),this.vtsLang=this.lang,i=e("<h2>").text("Video Transcript Sorter"),e("#able-vts").append(i),this.$vtsAlert=e("<div>",{id:"able-vts-alert","aria-live":"polite","aria-atomic":"true"}),e("#able-vts").append(this.$vtsAlert),a=e("<div>",{id:"able-vts-instructions"}),s=e("<p>").text("Use the Video Transcript Sorter to modify text tracks:"),r=e("<ul>"),o=e("<li>").text("Reorder chapters, descriptions, captions, and/or subtitles so they appear in the proper sequence in Able Player's auto-generated transcript."),l=e("<li>").text("Modify content or start/end times (all are directly editable within the table)."),h=e("<li>").text("Add new content, such as chapters or descriptions."),n=e("<p>").text('After editing, click the "Save Changes" button to generate new content for all relevant timed text files. The new text can be copied and pasted into new WebVTT files.'),r.append(o,l,h),a.append(s,r,n),e("#able-vts").append(a),p=e("<fieldset>"),c=e("<legend>").text("Select a language"),p.append(c),$fieldWrapper=e('<div class="vts-lang-selector"></div>'),this.langs)d="vts-lang-radio-"+this.langs[k],u=e("<div>",{}),g=e("<input>",{type:"radio",name:"vts-lang",id:d,value:this.langs[k]}).on("click",function(){t.vtsLang=e(this).val(),t.showVtsAlert("Loading "+t.getLanguageName(t.vtsLang)+" tracks"),t.injectVtsTable("update",t.vtsLang)}),this.langs[k]==this.lang&&g.prop("checked",!0),f=e("<label>",{for:d}).text(this.getLanguageName(this.langs[k])),u.append(g,f),$fieldWrapper.append(u);var y,b,P,T,k;p.append($fieldWrapper),e("#able-vts").append(p),m=e("<button>",{type:"button",id:"able-vts-save",value:"save"}).text("Save Changes"),e("#able-vts").append(m),this.injectVtsTable("add",this.vtsLang),y=["captions","chapters","descriptions","subtitles"],e('td[contenteditable="true"]').on("focus",function(){b=e(this).text()}).on("blur",function(){b!=e(this).text()&&(P=e(this).index(),T=e(this).text(),1===P?-1===e.inArray(T,y)&&("s"===T.substring(0,1)?e(this).text("subtitles"):"d"===T.substring(0,1)?e(this).text("descriptions"):"ch"===T.substring(0,2)?e(this).text("chapters"):e(this).text("captions")):2!==P&&3!==P||e(this).text(t.formatTimestamp(T)))}).on("keydown",function(e){e.stopPropagation()}),e("#able-vts-save").on("click",function(i){i.stopPropagation(),"save"==e(this).attr("value")?(e(this).attr("value","cancel").text("Return to Editor"),v=e("#able-vts table"),e("#able-vts-instructions").hide(),e("#able-vts > fieldset").hide(),e("#able-vts table").remove(),e("#able-vts-icon-credit").remove(),t.parseVtsOutput(v)):(e(this).attr("value","save").text("Save Changes"),e("#able-vts-output").remove(),e("#able-vts-instructions").show(),e("#able-vts > fieldset").show(),e("#able-vts").append(v),e("#able-vts").append(t.getIconCredit()),t.showVtsAlert("Cancelling saving. Any edits you made have been restored in the VTS table."))})}},AblePlayer.prototype.setupVtsTracks=function(e,t,i,a,s,n){var r,o;r=this.getFilenameFromPath(s),o=this.parseVtsTracks(n),this.vtsTracks.push({kind:e,language:t,label:a,srcFile:r,cues:o})},AblePlayer.prototype.getFilenameFromPath=function(e){var t;return-1===(t=e.lastIndexOf("/"))?e:e.substring(t+1)},AblePlayer.prototype.getFilenameFromTracks=function(e,t){for(var i=0;i<this.vtsTracks.length;i++)if(this.vtsTracks[i].kind===e&&this.vtsTracks[i].language===t)return this.vtsTracks[i].srcFile;return!1},AblePlayer.prototype.parseVtsTracks=function(e){var t,i,a,s,n,r,o,l,h;for(t=e.split("\n"),a=[],s=0;s<t.length;)if(-1!==(r=t[s]).indexOf(" --\x3e ")){if(i=r.trim().split(" "),this.isValidTimestamp(i[0])&&this.isValidTimestamp(i[2])){for(l="",n=s+1,h=!1;n<t.length&&!h;)(o=t[n].trim()).length>0?l.length>0?l+="\n"+o:l+=o:h=!0,n++;a.push({start:i[0],end:i[2],content:l}),s=n}}else s++;return a},AblePlayer.prototype.isValidTimestamp=function(e){return!!/^[0-9:,.]*$/.test(e)},AblePlayer.prototype.formatTimestamp=function(e){var t,i;if(t=e.substring(0,e.lastIndexOf(".")+1),(i=e.substring(e.lastIndexOf(".")+1)).length>3)i=i.substring(0,3);else if(i.length<3)for(;i.length<3;)i+="0";return t+i},AblePlayer.prototype.injectVtsTable=function(t,i){var a,s,n,r,o,l,h,p,c;for("update"===t&&(e("#able-vts table").remove(),e("#able-vts-icon-credit").remove()),a=e("<table>",{lang:i}),s=e("<thead>"),o=e("<tr>",{lang:"en"}),n=["Row","Kind","Start","End","Content","Actions"],r=0;r<n.length;r++)l=e("<th>",{scope:"col"}).text(n[r]),"Actions"===n[r]&&l.addClass("actions"),o.append(l);for(s.append(o),a.append(s),p=this.getAllRows(i),r=0;r<p.length;r++)o=e("<tr>",{id:"able-vts-row-"+(c=r+1),class:"kind-"+p[r].kind}),h=e("<td>").text(c),o.append(h),h=e("<td>",{contenteditable:"true"}).text(p[r].kind),o.append(h),h=e("<td>",{contenteditable:"true"}).text(p[r].start),o.append(h),h=e("<td>",{contenteditable:"true"}).text(p[r].end),o.append(h),h=e("<td>",{contenteditable:"true"}).text(p[r].content),o.append(h),h=this.addVtsActionButtons(c,p.length),o.append(h),a.append(o);e("#able-vts").append(a),e("#able-vts").append(this.getIconCredit())},AblePlayer.prototype.addVtsActionButtons=function(t,i){var a,s,n,r,o,l,h,p,c,u;for(a=this,s=e("<td>"),n=["up","down","insert","delete"],r=0;r<n.length;r++)"up"===(o=n[r])?t>1&&(l=e("<button>",{id:"able-vts-button-up-"+t,title:"Move up","aria-label":"Move Row "+t+" up"}).on("click",function(e){a.onClickVtsActionButton(e.currentTarget)}),h=e("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"254.296px",height:"254.296px",viewBox:"0 0 254.296 254.296",style:"enable-background:new 0 0 254.296 254.296"}),c=e("<path>",{d:"M249.628,176.101L138.421,52.88c-6.198-6.929-16.241-6.929-22.407,0l-0.381,0.636L4.648,176.101c-6.198,6.897-6.198,18.052,0,24.981l0.191,0.159c2.892,3.305,6.865,5.371,11.346,5.371h221.937c4.577,0,8.613-2.161,11.41-5.594l0.064,0.064C255.857,194.153,255.857,182.998,249.628,176.101z"}),p=e("<g>").append(c),h.append(p),l.append(h),l.html(l.html()),s.append(l)):"down"===o?t<i&&(l=e("<button>",{id:"able-vts-button-down-"+t,title:"Move down","aria-label":"Move Row "+t+" down"}).on("click",function(e){a.onClickVtsActionButton(e.currentTarget)}),h=e("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"292.362px",height:"292.362px",viewBox:"0 0 292.362 292.362",style:"enable-background:new 0 0 292.362 292.362"}),c=e("<path>",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"}),p=e("<g>").append(c),h.append(p),l.append(h),l.html(l.html()),s.append(l)):"insert"===o?(l=e("<button>",{id:"able-vts-button-insert-"+t,title:"Insert row below","aria-label":"Insert row before Row "+t}).on("click",function(e){a.onClickVtsActionButton(e.currentTarget)}),h=e("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"401.994px",height:"401.994px",viewBox:"0 0 401.994 401.994",style:"enable-background:new 0 0 401.994 401.994"}),c=e("<path>",{d:"M394,154.175c-5.331-5.33-11.806-7.994-19.417-7.994H255.811V27.406c0-7.611-2.666-14.084-7.994-19.414C242.488,2.666,236.02,0,228.398,0h-54.812c-7.612,0-14.084,2.663-19.414,7.993c-5.33,5.33-7.994,11.803-7.994,19.414v118.775H27.407c-7.611,0-14.084,2.664-19.414,7.994S0,165.973,0,173.589v54.819c0,7.618,2.662,14.086,7.992,19.411c5.33,5.332,11.803,7.994,19.414,7.994h118.771V374.59c0,7.611,2.664,14.089,7.994,19.417c5.33,5.325,11.802,7.987,19.414,7.987h54.816c7.617,0,14.086-2.662,19.417-7.987c5.332-5.331,7.994-11.806,7.994-19.417V255.813h118.77c7.618,0,14.089-2.662,19.417-7.994c5.329-5.325,7.994-11.793,7.994-19.411v-54.819C401.991,165.973,399.332,159.502,394,154.175z"}),p=e("<g>").append(c),h.append(p),l.append(h),l.html(l.html()),s.append(l)):"delete"===o&&(l=e("<button>",{id:"able-vts-button-delete-"+t,title:"Delete row ","aria-label":"Delete Row "+t}).on("click",function(e){a.onClickVtsActionButton(e.currentTarget)}),h=e("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"508.52px",height:"508.52px",viewBox:"0 0 508.52 508.52",style:"enable-background:new 0 0 508.52 508.52"}),c=e("<path>",{d:"M397.281,31.782h-63.565C333.716,14.239,319.478,0,301.934,0h-95.347c-17.544,0-31.782,14.239-31.782,31.782h-63.565c-17.544,0-31.782,14.239-31.782,31.782h349.607C429.063,46.021,414.825,31.782,397.281,31.782z"}),u=e("<path>",{d:"M79.456,476.737c0,17.544,14.239,31.782,31.782,31.782h286.042c17.544,0,31.782-14.239,31.782-31.782V95.347H79.456V476.737z M333.716,174.804c0-8.772,7.151-15.891,15.891-15.891c8.74,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.151,15.891-15.891,15.891c-8.74,0-15.891-7.151-15.891-15.891V174.804zM238.369,174.804c0-8.772,7.119-15.891,15.891-15.891c8.74,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.151,15.891-15.891,15.891c-8.772,0-15.891-7.151-15.891-15.891V174.804z M143.021,174.804c0-8.772,7.119-15.891,15.891-15.891c8.772,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.119,15.891-15.891,15.891c-8.772,0-15.891-7.151-15.891-15.891V174.804z"}),p=e("<g>").append(c,u),h.append(p),l.append(h),l.html(l.html()),s.append(l));return s},AblePlayer.prototype.updateVtsActionButtons=function(e,t){var i,a,s,n,r,o;for(i=0;i<e.length;i++)s=(a=e.eq(i)).attr("id"),n=a.attr("aria-label"),r=s.replace(/[0-9]+/g,t),o=n.replace(/[0-9]+/g,t),a.attr("id",r),a.attr("aria-label",o)},AblePlayer.prototype.getIconCredit=function(){return'<div id="able-vts-icon-credit">Action buttons made by <a target="_blank" rel="noreferrer" href="https://www.elegantthemes.com">Elegant Themes</a> from <a target="_blank" rel="noreferrer" href="https://www.flaticon.com">flaticon</a> are licensed by <a target="_blank" rel="noreferrer" href="https://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC 3.0 BY</a></div>'},AblePlayer.prototype.getAllLangs=function(t){var i;for(i in t)t[i].hasOwnProperty("language")&&-1===e.inArray(t[i].language,this.langs)&&(this.langs[this.langs.length]=t[i].language)},AblePlayer.prototype.getAllRows=function(e){var t,i,a,s;for(s=[],t=0;t<this.vtsTracks.length;t++)if((i=this.vtsTracks[t]).language==e)for(a in i.cues)s.push({kind:i.kind,lang:e,id:i.cues[a].id,start:i.cues[a].start,end:i.cues[a].end,content:i.cues[a].content});return s.sort(function(e,t){return e.start>t.start?1:-1}),s},AblePlayer.prototype.onClickVtsActionButton=function(t){var i,a,s;a=(i=e(t).attr("id").split("-"))[3],s=i[4],"up"==a?this.moveRow(s,"up"):"down"==a?this.moveRow(s,"down"):"insert"==a?this.insertRow(s):"delete"==a&&this.deleteRow(s)},AblePlayer.prototype.insertRow=function(t){var i,a,s,n,r,o,l,h,p,c,u,d,f,g,m;for(s=(a=(i=e("#able-vts table")).find("tr")).length-1,n=parseInt(t)+1,r=e("<tr>",{id:"able-vts-row-"+n}),o=e("<td>").text(n),r.append(o),u=null,l=e("<select>",{id:"able-vts-kind-"+n,"aria-label":"What kind of track is this?",placeholder:"Select a kind"}).on("change",function(){u=e(this).val(),d="kind-"+u,f=e(this).closest("tr"),e(this).parent().text(u),f.addClass(d)}),h=["","captions","chapters","descriptions","subtitles"],p=0;p<h.length;p++)c=e("<option>",{value:h[p]}).text(h[p]),l.append(c);for(o=e("<td>").append(l),r.append(o),o=e("<td>",{contenteditable:"true"}),r.append(o),o=e("<td>",{contenteditable:"true"}),r.append(o),o=e("<td>",{contenteditable:"true"}),r.append(o),o=this.addVtsActionButtons(n,s),r.append(o),i.find("tr").eq(t).after(r),p=n;p<=s;p++)g=p+1,a.eq(p).attr("id","able-vts-row-"+g),a.eq(p).find("td").eq(0).text(g),m=a.eq(p).find("button"),this.updateVtsActionButtons(m,g);this.adjustTimes(n),this.showVtsAlert("A new row "+n+" has been inserted"),l.trigger("focus")},AblePlayer.prototype.deleteRow=function(t){var i,a,s,n,r,o;for((i=e("#able-vts table"))[0].deleteRow(t),s=(a=i.find("tr")).length-1,n=t;n<=s;n++)r=n,a.eq(n).attr("id","able-vts-row-"+r),a.eq(n).find("td").eq(0).text(r),o=a.eq(n).find("button"),this.updateVtsActionButtons(o,r);this.showVtsAlert("Row "+t+" has been deleted")},AblePlayer.prototype.moveRow=function(t,i){var a,s,n,r;e("#able-vts table").find("tr"),a=e("#able-vts table").find("tr").eq(t),"up"==i?(s=parseInt(t)-1,(n=e("#able-vts table").find("tr").eq(s)).before(a)):"down"==i&&(s=parseInt(t)+1,(n=e("#able-vts table").find("tr").eq(s)).after(a)),a.attr("id","able-vts-row-"+s),a.find("td").eq(0).text(s),this.updateVtsActionButtons(a.find("button"),s),n.attr("id","able-vts-row-"+t),n.find("td").eq(0).text(t),this.updateVtsActionButtons(n.find("button"),t),this.adjustTimes(s),r="Row "+t+" has been moved "+i,r+=" and is now Row "+s,this.showVtsAlert(r)},AblePlayer.prototype.adjustTimes=function(t){var i,a,s,n,r,o,l,h,p,c,u,d,f,g,m,v;(i=[]).captions=.001,i.descriptions=.001,i.chapters=.001,h=(r=(a=e("#able-vts table").find("tr")).eq(t)).is('[class^="kind-"]')?this.getKindFromClass(r.attr("class")):"captions",u=this.getSecondsFromColonTime(r.find("td").eq(2).text()),g=this.getSecondsFromColonTime(r.find("td").eq(3).text()),t>1?(s=t-1,p=(o=a.eq(s)).is('[class^="kind-"]')?this.getKindFromClass(o.attr("class")):null,d=this.getSecondsFromColonTime(o.find("td").eq(2).text()),m=this.getSecondsFromColonTime(o.find("td").eq(3).text())):(s=null,o=null,p=null,d=null,m=null),t<a.length-1?(n=t+1,c=(l=a.eq(n)).is('[class^="kind-"]')?this.getKindFromClass(l.attr("class")):null,f=this.getSecondsFromColonTime(l.find("td").eq(2).text()),v=this.getSecondsFromColonTime(l.find("td").eq(3).text())):(n=null,l=null,c=null,f=null,v=null),isNaN(u)?(null==p&&(p="captions",o.attr("class","kind-captions"),o.find("td").eq(1).html("captions")),"captions"===p?(u=(parseFloat(m)+.001).toFixed(3),g=f?(parseFloat(f)-.001).toFixed(3):(parseFloat(u)+i[h]).toFixed(3)):"chapters"===p?(u=(parseFloat(d)+.001).toFixed(3),g=f?(parseFloat(f)-.001).toFixed(3):(parseFloat(u)+minDurartion[h]).toFixed(3)):"descriptions"===p&&(u=(parseFloat(d)+i.descriptions).toFixed(3),g=(parseFloat(u)+i.descriptions).toFixed(3))):d?d<u?u<f||(f=(parseFloat(u)+i[h]).toFixed(3),v=(parseFloat(f)+i[c]).toFixed(3)):(u=(parseFloat(d)+i[p]).toFixed(3),g=(parseFloat(u)+i[h]).toFixed(3)):u<f||(f=(parseFloat(u)+i[h]).toFixed(3),v=(parseFloat(f)+i[c]).toFixed(3)),g-u<i[h]&&(g=(parseFloat(u)+i[h]).toFixed(3),f&&(f=(parseFloat(g)+.001).toFixed(3))),r.find("td").eq(2).text(this.formatSecondsAsColonTime(u,!0)),r.find("td").eq(3).text(this.formatSecondsAsColonTime(g,!0)),o&&(o.find("td").eq(2).text(this.formatSecondsAsColonTime(d,!0)),o.find("td").eq(3).text(this.formatSecondsAsColonTime(m,!0))),l&&(l.find("td").eq(2).text(this.formatSecondsAsColonTime(f,!0)),l.find("td").eq(3).text(this.formatSecondsAsColonTime(v,!0)))},AblePlayer.prototype.getKindFromClass=function(e){var t,i;return t=e.indexOf("kind-")+5,-1==(i=e.indexOf(" ",t))?e.substring(t):e.substring(t,i)},AblePlayer.prototype.showVtsAlert=function(e){var t;this.$vtsAlert.text(e).show(),(t=3e3,new Promise(e=>setTimeout(e,t))).then(()=>{this.$vtsAlert.text(e).hide()})},AblePlayer.prototype.parseVtsOutput=function(t){var i,a,s,n,r,o,l,h,p,c;for(i=t.attr("lang"),s=["captions","chapters","descriptions","subtitles"],r={},a=0;a<s.length;a++)r[n=s[a]]="WEBVTT\n\n";if((o=t.find("tr")).length>0)for(a=0;a<o.length;a++)n=o.eq(a).find("td").eq(1).text(),-1!==e.inArray(n,s)&&(l=o.eq(a).find("td").eq(2).text(),h=o.eq(a).find("td").eq(3).text(),p=o.eq(a).find("td").eq(4).text(),void 0!==l&&void 0!==h&&(r[n]+=l+" --\x3e "+h+"\n","undefined"!==p&&(r[n]+=p),r[n]+="\n\n"));for(c=e("<div>",{id:"able-vts-output"}),e("#able-vts").append(c),a=0;a<s.length;a++)r[n=s[a]].length>8&&this.showWebVttOutput(n,r[n],i)},AblePlayer.prototype.showWebVttOutput=function(t,i,a){var s,n,r,o,l;s=e("<h3>").text(this.capitalizeFirstLetter(t)),o="If you made changes, copy/paste the following content ",(n=this.getFilenameFromTracks(t,a))?(o+="to replace the original content of your "+this.getLanguageName(a)+" ",o+="<em>"+t+"</em> WebVTT file (<strong>"+n+"</strong>)."):o+="into a new "+this.getLanguageName(a)+" <em>"+t+"</em> WebVTT file.",r=e("<p>",{class:"able-vts-output-instructions"}).html(o),l=e("<textarea>").text(i),e("#able-vts-output").append(s,r,l)}}(jQuery),function(e){AblePlayer.prototype.initVimeoPlayer=function(){var t,i,a,s,n,r;return t=this,a=(i=new this.defer).promise(),s=this.mediaId+"_vimeo",this.$mediaContainer.prepend(e("<div>").attr("id",s)),n=this.vimeoDescId&&this.prefDesc?this.vimeoDescId:this.vimeoId,this.activeVimeoId=n,autoplay=this.okToPlay?"true":"false",r=this.playerWidth?this.vimeoUrlHasParams?{url:n,width:this.playerWidth,controls:!1}:{id:n,width:this.playerWidth,controls:!1}:this.vimeoUrlHasParams?{url:n,controls:!1}:{id:n,controls:!1},this.vimeoPlayer=new Vimeo.Player(s,r),this.vimeoPlayer.ready().then(function(){e("#"+s).children("iframe").attr({tabindex:"-1","aria-hidden":!0}),t.vimeoPlayer.getVideoWidth().then(function(e){e&&t.vimeoPlayer.getVideoHeight().then(function(i){i&&t.resizePlayer(e,i)})}).catch(function(e){}),t.hasPlaylist||(t.$media.remove(),t.vimeoPlaybackRate=1,t.vimeoPlayer.setPlaybackRate(t.vimeoPlaybackRate).then(function(e){t.vimeoSupportsPlaybackRateChange=!0}).catch(function(e){t.vimeoSupportsPlaybackRateChange=!1}),i.resolve())}),a},AblePlayer.prototype.getVimeoPaused=function(){var e,t;return t=(e=new this.defer).promise(),this.vimeoPlayer.getPaused().then(function(t){e.resolve(t)}),t},AblePlayer.prototype.getVimeoEnded=function(){var e,t;return t=(e=new this.defer).promise(),this.vimeoPlayer.getEnded().then(function(t){e.resolve(t)}),t},AblePlayer.prototype.getVimeoState=function(){var t,i,a,s,n;return i=(t=new this.defer).promise(),a=[],s=this.vimeoPlayer.getPaused(),n=this.vimeoPlayer.getEnded(),a.push(s),a.push(n),s.then(function(e){t.resolve(e)}),n.then(function(e){t.resolve(e)}),e.when.apply(e,a).then(function(){t.resolve()}),i},AblePlayer.prototype.getVimeoCaptionTracks=function(){var e,t,i,a=new this.defer,s=a.promise();return e=this,this.vimeoPlayer.getTextTracks().then(function(s){if(s.length){for(t=0;t<s.length;t++)e.hasCaptions=!0,1===e.prefCaptions?e.captionsOn=!0:e.captionsOn=!1,i=s[t].language===e.lang,e.tracks.push({kind:s[t].kind,language:s[t].language,label:s[t].label,def:i});e.captions=e.tracks,e.hasCaptions=!0,e.setupPopups("captions"),a.resolve()}else e.hasCaptions=!1,e.usingVimeoCaptions=!1,a.resolve()}),s},AblePlayer.prototype.getVimeoPosterUrl=function(e,t){var i="";return fetch("http://vimeo.com/api/oembed.json?url=https://vimeo.com/"+e).then(e=>e.json()).then(e=>{i=e.thumbnail_url}).catch(e=>{thisObj.debug}),i},AblePlayer.prototype.getVimeoId=function(e){return this.vimeoUrlHasParams=!1,"number"==typeof e?e:(urlObject=new URL(e),"vimeo.com"===urlObject.hostname||"player.vimeo.com"===urlObject.hostname?""!==urlObject.search?(this.vimeoUrlHasParams=!0,e):"player.vimeo.com"===urlObject.hostname?urlObject.pathname.replace("/video/",""):urlObject.pathname.replace("/",""):e)}}(jQuery);