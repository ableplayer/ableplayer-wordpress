(()=>{var c=[];ableplayer.settings.replace_video==="true"&&c.push("video");ableplayer.settings.replace_audio==="true"&&c.push("audio");if(c.length!==0){let t=document.querySelectorAll(c),l;t&&t.forEach((e,d,a)=>{let i=ableplayer.settings.exclude_class,r=e.closest("figure"),n=r?r.classList.contains(i):!1;i!==""&&e.classList.contains(i)||n?e.classList.add("ableplayer-skipped"):(e.removeAttribute("controls"),e.hasAttribute("data-able-player")||e.setAttribute("data-able-player","true"),e.hasAttribute("id")||e.setAttribute("id","able-player-id-"+d),e.hasAttribute("data-skin")||e.setAttribute("data-skin","2020")),l=e.querySelectorAll("track"),l.forEach((u,s,o)=>{u.hasAttribute("kind")||u.setAttribute("kind","subtitles")})})}if(ableplayer.settings.replace_playlists==="true"){let t=document.querySelectorAll(".wp-playlist");t.length>0&&t.forEach((l,e,d)=>{p(l)})}function p(t){t.classList.add("has-ableplayer");let l=JSON.parse(t.querySelector(".wp-playlist-script").textContent),e=t.classList.contains("wp-audio-playlist")?t.querySelector("audio"):t.querySelector("video"),d=l.tracks,a=document.createElement("ul");a.classList.add("able-playlist"),a.setAttribute("data-player",e.getAttribute("id")),a.setAttribute("data-embedded",!0);let i,r,n;d.forEach((s,o,y)=>{i=document.createElement("li"),i.setAttribute("data-poster",s.image.src),r=document.createElement("span"),r.classList.add("able-source"),r.setAttribute("data-type",s.type),r.setAttribute("data-src",s.src),n=document.createElement("button"),n.setAttribute("type","button"),n.innerText=s.title,s.image.src&&(img=document.createElement("img"),img.setAttribute("src",s.image.src),img.setAttribute("alt",""),img.setAttribute("height",s.image.height),img.setAttribute("width",s.image.width),n.insertAdjacentElement("afterbegin",img)),i.insertAdjacentElement("afterbegin",r),i.insertAdjacentElement("beforeend",n),a.insertAdjacentElement("beforeend",i)}),t.insertAdjacentElement("beforeend",a);let u=t.querySelector(".wp-playlist-current-item");u&&u.remove()}var b=document.querySelectorAll("[data-able-player]");b&&b.forEach((t,l,e)=>{if(ableplayer.settings.youtube_nocookie==="true"&&(t.hasAttribute("data-youtube-nocookie")||t.setAttribute("data-youtube-nocookie","true")),ableplayer.settings.default_heading!=="auto"&&(t.hasAttribute("data-heading-level")||t.setAttribute("data-heading-level",ableplayer.settings.default_heading)),ableplayer.settings.default_heading!=="animals"&&(t.hasAttribute("data-speed-icons")||t.setAttribute("data-speed-icons","arrows")),ableplayer.settings.hide_controls==="true"&&(t.hasAttribute("data-hide-controls")||t.setAttribute("data-hide-controls","true")),ableplayer.settings.seek_interval&&(t.hasAttribute("data-seek-interval")||t.setAttribute("data-seek-interval",ableplayer.settings.seek_interval)),ableplayer.settings.render_transcript==="true"&&!t.hasAttribute("data-transcript-div")&&t.querySelectorAll("track").length>0){t.setAttribute("data-transcript-div","ableplayer-transcript-"+t.getAttribute("id"));let a=document.createElement("div");a.setAttribute("id","ableplayer-transcript-"+t.getAttribute("id")),a.classList.add("ableplayer-transcript"),t.insertAdjacentElement("afterend",a)}});})();
