(()=>{var c=[];ableplayer.settings.replace_video==="true"&&c.push("video");ableplayer.settings.replace_audio==="true"&&c.push("audio");if(c.length!==0){let t=document.querySelectorAll(c),l;t&&t.forEach((e,s,d)=>{let a=ableplayer.settings.exclude_class,r=e.closest("figure"),n=r?r.classList.contains(a):!1;a!==""&&e.classList.contains(a)||n?e.classList.add("ableplayer-skipped"):(e.removeAttribute("controls"),e.hasAttribute("data-able-player")||e.setAttribute("data-able-player","true"),e.hasAttribute("id")||e.setAttribute("id","able-player-id-"+s),e.hasAttribute("data-skin")||e.setAttribute("data-skin","2020")),l=e.querySelectorAll("track"),l.forEach((u,i,o)=>{u.hasAttribute("kind")||u.setAttribute("kind","subtitles")})})}if(ableplayer.settings.replace_playlists==="true"){let t=document.querySelectorAll(".wp-playlist");t.length>0&&t.forEach((l,e,s)=>{p(l)})}function p(t){t.classList.add("has-ableplayer");let l=JSON.parse(t.querySelector(".wp-playlist-script").textContent),e=t.classList.contains("wp-audio-playlist")?t.querySelector("audio"):t.querySelector("video"),s=l.tracks,d=document.createElement("ul");d.classList.add("able-playlist"),d.setAttribute("data-player",e.getAttribute("id")),d.setAttribute("data-embedded",!0);let a,r,n;s.forEach((i,o,y)=>{a=document.createElement("li"),a.setAttribute("data-poster",i.image.src),r=document.createElement("span"),r.classList.add("able-source"),r.setAttribute("data-type",i.type),r.setAttribute("data-src",i.src),n=document.createElement("button"),n.setAttribute("type","button"),n.innerText=i.title,i.image.src&&(img=document.createElement("img"),img.setAttribute("src",i.image.src),img.setAttribute("alt",""),img.setAttribute("height",i.image.height),img.setAttribute("width",i.image.width),n.insertAdjacentElement("afterbegin",img)),a.insertAdjacentElement("afterbegin",r),a.insertAdjacentElement("beforeend",n),d.insertAdjacentElement("beforeend",a)}),t.insertAdjacentElement("beforeend",d);let u=t.querySelector(".wp-playlist-current-item");u&&u.remove()}var b=document.querySelectorAll("[data-able-player]");b&&b.forEach((t,l,e)=>{if(ableplayer.settings.youtube_nocookie==="true"&&(t.hasAttribute("data-youtube-nocookie")||t.setAttribute("data-youtube-nocookie","true")),ableplayer.settings.default_heading!=="auto"&&(t.hasAttribute("data-heading-level")||t.setAttribute("data-heading-level",ableplayer.settings.default_heading)),ableplayer.settings.default_heading!=="animals"&&(t.hasAttribute("data-speed-icons")||t.setAttribute("data-speed-icons","arrows")),ableplayer.settings.hide_controls==="true"&&(t.hasAttribute("data-hide-controls")||t.setAttribute("data-hide-controls","true")),ableplayer.settings.seek_interval&&(t.hasAttribute("data-seek-interval")||t.setAttribute("data-seek-interval",ableplayer.settings.seek_interval)),ableplayer.settings.render_transcript==="true"&&!t.hasAttribute("data-transcript-div")){t.setAttribute("data-transcript-div","ableplayer-transcript-"+t.getAttribute("id"));let s=document.createElement("div");s.setAttribute("id","ableplayer-transcript-"+t.getAttribute("id")),s.classList.add("ableplayer-transcript"),t.insertAdjacentElement("afterend",s)}});})();
